{
  "version": 3,
  "sources": ["../../../assets/vendor/topbar.js", "../../../assets/node_modules/showdown/src/options.js", "../../../assets/node_modules/showdown/src/showdown.js", "../../../assets/node_modules/showdown/src/helpers.js", "../../../assets/node_modules/showdown/src/converter.js", "../../../assets/node_modules/showdown/src/subParsers/anchors.js", "../../../assets/node_modules/showdown/src/subParsers/autoLinks.js", "../../../assets/node_modules/showdown/src/subParsers/blockGamut.js", "../../../assets/node_modules/showdown/src/subParsers/blockQuotes.js", "../../../assets/node_modules/showdown/src/subParsers/codeBlocks.js", "../../../assets/node_modules/showdown/src/subParsers/codeSpans.js", "../../../assets/node_modules/showdown/src/subParsers/completeHTMLDocument.js", "../../../assets/node_modules/showdown/src/subParsers/detab.js", "../../../assets/node_modules/showdown/src/subParsers/ellipsis.js", "../../../assets/node_modules/showdown/src/subParsers/emoji.js", "../../../assets/node_modules/showdown/src/subParsers/encodeAmpsAndAngles.js", "../../../assets/node_modules/showdown/src/subParsers/encodeBackslashEscapes.js", "../../../assets/node_modules/showdown/src/subParsers/encodeCode.js", "../../../assets/node_modules/showdown/src/subParsers/escapeSpecialCharsWithinTagAttributes.js", "../../../assets/node_modules/showdown/src/subParsers/githubCodeBlocks.js", "../../../assets/node_modules/showdown/src/subParsers/hashBlock.js", "../../../assets/node_modules/showdown/src/subParsers/hashCodeTags.js", "../../../assets/node_modules/showdown/src/subParsers/hashElement.js", "../../../assets/node_modules/showdown/src/subParsers/hashHTMLBlocks.js", "../../../assets/node_modules/showdown/src/subParsers/hashHTMLSpans.js", "../../../assets/node_modules/showdown/src/subParsers/hashPreCodeTags.js", "../../../assets/node_modules/showdown/src/subParsers/headers.js", "../../../assets/node_modules/showdown/src/subParsers/horizontalRule.js", "../../../assets/node_modules/showdown/src/subParsers/images.js", "../../../assets/node_modules/showdown/src/subParsers/italicsAndBold.js", "../../../assets/node_modules/showdown/src/subParsers/lists.js", "../../../assets/node_modules/showdown/src/subParsers/metadata.js", "../../../assets/node_modules/showdown/src/subParsers/outdent.js", "../../../assets/node_modules/showdown/src/subParsers/paragraphs.js", "../../../assets/node_modules/showdown/src/subParsers/runExtension.js", "../../../assets/node_modules/showdown/src/subParsers/spanGamut.js", "../../../assets/node_modules/showdown/src/subParsers/strikethrough.js", "../../../assets/node_modules/showdown/src/subParsers/stripLinkDefinitions.js", "../../../assets/node_modules/showdown/src/subParsers/tables.js", "../../../assets/node_modules/showdown/src/subParsers/underline.js", "../../../assets/node_modules/showdown/src/subParsers/unescapeSpecialChars.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/blockquote.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/codeBlock.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/codeSpan.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/emphasis.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/header.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/hr.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/image.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/links.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/list.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/listItem.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/node.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/paragraph.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/pre.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/strikethrough.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/strong.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/table.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/tableCell.js", "../../../assets/node_modules/showdown/src/subParsers/makeMarkdown/txt.js", "../../../assets/node_modules/showdown/src/loader.js", "../../../assets/node_modules/flowbite/dist/webpack:/webpack/universalModuleDefinition", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/enums.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getWindow.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/applyStyles.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getBasePlacement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/math.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/userAgent.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/contains.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/within.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/expandToHashMap.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/arrow.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getVariation.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/computeStyles.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/eventListeners.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/rectToClientRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/computeOffsets.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/detectOverflow.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/flip.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/hide.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/offset.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/getAltAxis.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/modifiers/index.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/orderModifiers.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/debounce.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/utils/mergeByName.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/createPopper.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/popper.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/popper-lite.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/@popperjs/core/lib/index.js", "../../../assets/node_modules/flowbite/dist/webpack:/node_modules/flowbite-datepicker/dist/main.cjs.js", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/accordion/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/carousel/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/clipboard/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/collapse/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/datepicker/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/dial/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/dismiss/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/drawer/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/dropdown/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/input-counter/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/modal/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/popover/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/tabs/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/components/tooltip/index.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/dom/events.ts", "../../../assets/node_modules/flowbite/dist/webpack:/src/dom/instances.ts", "../../../assets/node_modules/flowbite/dist/webpack:/webpack/bootstrap", "../../../assets/node_modules/flowbite/dist/webpack:/webpack/runtime/define property getters", "../../../assets/node_modules/flowbite/dist/webpack:/webpack/runtime/hasOwnProperty shorthand", "../../../assets/node_modules/flowbite/dist/webpack:/webpack/runtime/make namespace object", "../../../assets/node_modules/flowbite/dist/webpack:/src/index.phoenix.ts", "../../../deps/phoenix_html/priv/static/phoenix_html.js", "../../../deps/phoenix/assets/js/phoenix/utils.js", "../../../deps/phoenix/assets/js/phoenix/constants.js", "../../../deps/phoenix/assets/js/phoenix/push.js", "../../../deps/phoenix/assets/js/phoenix/timer.js", "../../../deps/phoenix/assets/js/phoenix/channel.js", "../../../deps/phoenix/assets/js/phoenix/ajax.js", "../../../deps/phoenix/assets/js/phoenix/longpoll.js", "../../../deps/phoenix/assets/js/phoenix/presence.js", "../../../deps/phoenix/assets/js/phoenix/serializer.js", "../../../deps/phoenix/assets/js/phoenix/socket.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/constants.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/entry_uploader.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/utils.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/browser.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/dom.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/upload_entry.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/live_uploader.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/aria.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/hooks.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/element_ref.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/dom_post_morph_restorer.js", "../../../deps/phoenix_live_view/assets/node_modules/morphdom/dist/morphdom-esm.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/dom_patch.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/rendered.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/js.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/view_hook.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/view.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/live_socket.js", "../../../deps/phoenix_live_view/assets/js/phoenix_live_view/index.js", "../../../assets/js/app.js", "../../../assets/node_modules/sortablejs/modular/sortable.esm.js", "../../../assets/js/hooks/sortable.js", "../../../assets/js/hooks/markdown.js", "../../../assets/node_modules/turndown/lib/turndown.browser.es.js", "../../../assets/node_modules/trix/src/trix/config/attachments.js", "../../../assets/node_modules/trix/src/trix/config/block_attributes.js", "../../../assets/node_modules/trix/src/trix/config/browser.js", "../../../assets/node_modules/trix/src/trix/config/dompurify.js", "../../../assets/node_modules/trix/src/trix/config/lang.js", "../../../assets/node_modules/trix/src/trix/config/file_size_formatting.js", "../../../assets/node_modules/trix/src/trix/constants.js", "../../../assets/node_modules/trix/src/trix/core/helpers/extend.js", "../../../assets/node_modules/trix/src/trix/core/helpers/dom.js", "../../../assets/node_modules/trix/src/trix/config/input.js", "../../../assets/node_modules/trix/src/trix/config/key_names.js", "../../../assets/node_modules/trix/src/trix/config/parser.js", "../../../assets/node_modules/trix/src/trix/config/text_attributes.js", "../../../assets/node_modules/trix/src/trix/config/toolbar.js", "../../../assets/node_modules/trix/src/trix/config/undo.js", "../../../assets/node_modules/trix/src/trix/config/css.js", "../../../assets/node_modules/trix/src/trix/core/basic_object.js", "../../../assets/node_modules/trix/src/trix/core/utilities/utf16_string.js", "../../../assets/node_modules/trix/src/trix/core/object.js", "../../../assets/node_modules/trix/src/trix/core/helpers/arrays.js", "../../../assets/node_modules/trix/src/trix/core/helpers/bidi.js", "../../../assets/node_modules/trix/src/trix/core/helpers/config.js", "../../../assets/node_modules/trix/src/trix/core/helpers/custom_elements.js", "../../../assets/node_modules/trix/src/trix/core/helpers/events.js", "../../../assets/node_modules/trix/src/trix/core/helpers/functions.js", "../../../assets/node_modules/trix/src/trix/core/helpers/objects.js", "../../../assets/node_modules/trix/src/trix/core/helpers/ranges.js", "../../../assets/node_modules/trix/src/trix/observers/selection_change_observer.js", "../../../assets/node_modules/trix/src/trix/core/helpers/strings.js", "../../../assets/node_modules/trix/src/trix/core/collections/hash.js", "../../../assets/node_modules/trix/src/trix/core/collections/object_group.js", "../../../assets/node_modules/trix/src/trix/core/collections/object_map.js", "../../../assets/node_modules/trix/src/trix/core/collections/element_store.js", "../../../assets/node_modules/trix/src/trix/core/utilities/operation.js", "../../../assets/node_modules/trix/src/trix/views/object_view.js", "../../../assets/node_modules/trix/src/trix/models/html_sanitizer.js", "../../../assets/node_modules/trix/src/trix/views/attachment_view.js", "../../../assets/node_modules/trix/src/trix/views/previewable_attachment_view.js", "../../../assets/node_modules/trix/src/trix/views/piece_view.js", "../../../assets/node_modules/trix/src/trix/views/text_view.js", "../../../assets/node_modules/trix/src/trix/views/block_view.js", "../../../assets/node_modules/trix/src/trix/views/document_view.js", "../../../assets/node_modules/trix/src/trix/models/piece.js", "../../../assets/node_modules/trix/src/trix/operations/image_preload_operation.js", "../../../assets/node_modules/trix/src/trix/models/attachment.js", "../../../assets/node_modules/trix/src/trix/models/attachment_piece.js", "../../../assets/node_modules/trix/src/trix/models/string_piece.js", "../../../assets/node_modules/trix/src/trix/models/splittable_list.js", "../../../assets/node_modules/trix/src/trix/models/text.js", "../../../assets/node_modules/trix/src/trix/models/block.js", "../../../assets/node_modules/trix/src/trix/models/document.js", "../../../assets/node_modules/trix/src/trix/models/html_parser.js", "../../../assets/node_modules/trix/src/trix/core/serialization.js", "../../../assets/node_modules/trix/src/trix/models/managed_attachment.js", "../../../assets/node_modules/trix/src/trix/models/attachment_manager.js", "../../../assets/node_modules/trix/src/trix/models/line_break_insertion.js", "../../../assets/node_modules/trix/src/trix/models/composition.js", "../../../assets/node_modules/trix/src/trix/models/undo_manager.js", "../../../assets/node_modules/trix/src/trix/filters/filter.js", "../../../assets/node_modules/trix/src/trix/filters/attachment_gallery_filter.js", "../../../assets/node_modules/trix/src/trix/models/editor.js", "../../../assets/node_modules/trix/src/trix/models/location_mapper.js", "../../../assets/node_modules/trix/src/trix/models/point_mapper.js", "../../../assets/node_modules/trix/src/trix/models/selection_manager.js", "../../../assets/node_modules/trix/src/trix/controllers/attachment_editor_controller.js", "../../../assets/node_modules/trix/src/trix/controllers/composition_controller.js", "../../../assets/node_modules/trix/src/trix/controllers/controller.js", "../../../assets/node_modules/trix/src/trix/observers/mutation_observer.js", "../../../assets/node_modules/trix/src/trix/operations/file_verification_operation.js", "../../../assets/node_modules/trix/src/trix/models/flaky_android_keyboard_detector.js", "../../../assets/node_modules/trix/src/trix/controllers/input_controller.js", "../../../assets/node_modules/trix/src/trix/controllers/level_0_input_controller.js", "../../../assets/node_modules/trix/src/trix/controllers/level_2_input_controller.js", "../../../assets/node_modules/trix/src/trix/controllers/toolbar_controller.js", "../../../assets/node_modules/trix/src/trix/controllers/editor_controller.js", "../../../assets/node_modules/trix/src/trix/elements/trix_toolbar_element.js", "../../../assets/node_modules/trix/src/trix/elements/trix_editor_element.js", "../../../assets/node_modules/trix/src/trix/trix.js", "../../../assets/js/uploaders/s3.js", "../../../assets/js/hooks/local_locale_storage.js"],
  "sourcesContent": ["/**\n * @license MIT\n * topbar 2.0.0, 2023-02-04\n * https://buunguyen.github.io/topbar\n * Copyright (c) 2021 Buu Nguyen\n */\n(function (window, document) {\n  \"use strict\";\n\n  // https://gist.github.com/paulirish/1579671\n  (function () {\n    var lastTime = 0;\n    var vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n      window.requestAnimationFrame =\n        window[vendors[x] + \"RequestAnimationFrame\"];\n      window.cancelAnimationFrame =\n        window[vendors[x] + \"CancelAnimationFrame\"] ||\n        window[vendors[x] + \"CancelRequestAnimationFrame\"];\n    }\n    if (!window.requestAnimationFrame)\n      window.requestAnimationFrame = function (callback, element) {\n        var currTime = new Date().getTime();\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        var id = window.setTimeout(function () {\n          callback(currTime + timeToCall);\n        }, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n      };\n    if (!window.cancelAnimationFrame)\n      window.cancelAnimationFrame = function (id) {\n        clearTimeout(id);\n      };\n  })();\n\n  var canvas,\n    currentProgress,\n    showing,\n    progressTimerId = null,\n    fadeTimerId = null,\n    delayTimerId = null,\n    addEvent = function (elem, type, handler) {\n      if (elem.addEventListener) elem.addEventListener(type, handler, false);\n      else if (elem.attachEvent) elem.attachEvent(\"on\" + type, handler);\n      else elem[\"on\" + type] = handler;\n    },\n    options = {\n      autoRun: true,\n      barThickness: 3,\n      barColors: {\n        0: \"rgba(26,  188, 156, .9)\",\n        \".25\": \"rgba(52,  152, 219, .9)\",\n        \".50\": \"rgba(241, 196, 15,  .9)\",\n        \".75\": \"rgba(230, 126, 34,  .9)\",\n        \"1.0\": \"rgba(211, 84,  0,   .9)\",\n      },\n      shadowBlur: 10,\n      shadowColor: \"rgba(0,   0,   0,   .6)\",\n      className: null,\n    },\n    repaint = function () {\n      canvas.width = window.innerWidth;\n      canvas.height = options.barThickness * 5; // need space for shadow\n\n      var ctx = canvas.getContext(\"2d\");\n      ctx.shadowBlur = options.shadowBlur;\n      ctx.shadowColor = options.shadowColor;\n\n      var lineGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n      for (var stop in options.barColors)\n        lineGradient.addColorStop(stop, options.barColors[stop]);\n      ctx.lineWidth = options.barThickness;\n      ctx.beginPath();\n      ctx.moveTo(0, options.barThickness / 2);\n      ctx.lineTo(\n        Math.ceil(currentProgress * canvas.width),\n        options.barThickness / 2\n      );\n      ctx.strokeStyle = lineGradient;\n      ctx.stroke();\n    },\n    createCanvas = function () {\n      canvas = document.createElement(\"canvas\");\n      var style = canvas.style;\n      style.position = \"fixed\";\n      style.top = style.left = style.right = style.margin = style.padding = 0;\n      style.zIndex = 100001;\n      style.display = \"none\";\n      if (options.className) canvas.classList.add(options.className);\n      document.body.appendChild(canvas);\n      addEvent(window, \"resize\", repaint);\n    },\n    topbar = {\n      config: function (opts) {\n        for (var key in opts)\n          if (options.hasOwnProperty(key)) options[key] = opts[key];\n      },\n      show: function (delay) {\n        if (showing) return;\n        if (delay) {\n          if (delayTimerId) return;\n          delayTimerId = setTimeout(() => topbar.show(), delay);\n        } else  {\n          showing = true;\n          if (fadeTimerId !== null) window.cancelAnimationFrame(fadeTimerId);\n          if (!canvas) createCanvas();\n          canvas.style.opacity = 1;\n          canvas.style.display = \"block\";\n          topbar.progress(0);\n          if (options.autoRun) {\n            (function loop() {\n              progressTimerId = window.requestAnimationFrame(loop);\n              topbar.progress(\n                \"+\" + 0.05 * Math.pow(1 - Math.sqrt(currentProgress), 2)\n              );\n            })();\n          }\n        }\n      },\n      progress: function (to) {\n        if (typeof to === \"undefined\") return currentProgress;\n        if (typeof to === \"string\") {\n          to =\n            (to.indexOf(\"+\") >= 0 || to.indexOf(\"-\") >= 0\n              ? currentProgress\n              : 0) + parseFloat(to);\n        }\n        currentProgress = to > 1 ? 1 : to;\n        repaint();\n        return currentProgress;\n      },\n      hide: function () {\n        clearTimeout(delayTimerId);\n        delayTimerId = null;\n        if (!showing) return;\n        showing = false;\n        if (progressTimerId != null) {\n          window.cancelAnimationFrame(progressTimerId);\n          progressTimerId = null;\n        }\n        (function loop() {\n          if (topbar.progress(\"+.1\") >= 1) {\n            canvas.style.opacity -= 0.05;\n            if (canvas.style.opacity <= 0.05) {\n              canvas.style.display = \"none\";\n              fadeTimerId = null;\n              return;\n            }\n          }\n          fadeTimerId = window.requestAnimationFrame(loop);\n        })();\n      },\n    };\n\n  if (typeof module === \"object\" && typeof module.exports === \"object\") {\n    module.exports = topbar;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(function () {\n      return topbar;\n    });\n  } else {\n    this.topbar = topbar;\n  }\n}.call(this, window, document));\n", "/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      describe: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      describe: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      describe: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      describe: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      describe: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      describe: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      describe: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      describe: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      describe: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      describe: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      describe: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    ellipsis: {\n      defaultValue: true,\n      describe: 'Replaces three dots with the ellipsis unicode character',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      describe: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      describe: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      describe: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n", "/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|object[]|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n", "/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return '¨E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof (console) === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n", "/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use ¨ trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(/¨/g, '¨T');\n\n    // Replace $ with ¨D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, '¨D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/¨D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/¨T/g, '¨');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>¨NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue) && !/^[ ]+$/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions.splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++ii) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers.splice(ii, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n", "/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n", "// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n", "/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n", "showdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/¨0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '¨0');\n      pre = pre.replace(/¨0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n", "/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=¨0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n", "/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof (text) === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n", "/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n", "/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, '¨A¨B');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/¨A/g, '    ');  // g_tab_width\n  text = text.replace(/¨B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n", "showdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  if (!options.ellipsis) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '…');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n", "/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n", "/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n", "/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|:-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n", "/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n", "/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n", "/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '¨0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n", "showdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n", "/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n", "showdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"¨KxK\" where x is its key)\n    blockText = '\\n\\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n", "showdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n", "/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/¨C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('¨C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n", "/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n", "showdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '')\n        .replace(/¨T/g, '')\n        .replace(/¨D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^¨~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '&')\n        .replace(/¨T/g, '¨')\n        .replace(/¨D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n", "/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n", "/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n", "showdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n", "/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '¨0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!¨0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (¨A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return '¨A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (¨A)\n      item = item.replace('¨A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/¨0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '¨0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n", "/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*«««+(\\S*?)\\n([\\s\\S]+?)\\n»»»+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/¨M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n", "/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/¨0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n", "/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/¨(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/¨(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?¨(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n", "/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n", "/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\n¨K/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n", "showdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n", "/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[([^\\]]+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=¨0))/gm,\n      base64Regex = /^ {0,3}\\[([^\\]]+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=¨0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n\n    // if there aren't two instances of linkId it must not be a reference link so back out\n    linkId = linkId.toLowerCase();\n    if (text.toLowerCase().split(linkId).length - 1 < 2) {\n      return wholeMatch;\n    }\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return text;\n});\n", "showdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|¨0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|¨0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|¨0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n", "showdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n", "/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/¨E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n", "showdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n", "showdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n", "showdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n", "showdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n", "showdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n", "\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n", "showdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n", "showdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n", "showdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n", "showdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom ¨NBSP; with a space\n  txt = txt.replace(/¨NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n", "var root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n", "(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Flowbite\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Flowbite\"] = factory();\n\telse\n\t\troot[\"Flowbite\"] = factory();\n})(self, function() {\nreturn ", "export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];", "export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}", "export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}", "import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };", "import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};", "import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}", "export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;", "export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}", "import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}", "import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}", "import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}", "import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}", "import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}", "import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}", "import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}", "import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}", "export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}", "import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}", "export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}", "import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}", "export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}", "import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};", "export default function getVariation(placement) {\n  return placement.split('-')[1];\n}", "import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};", "import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};", "var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}", "var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}", "import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}", "import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}", "import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}", "import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}", "import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}", "import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}", "export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}", "import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}", "import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}", "import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}", "import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}", "import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};", "import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};", "import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};", "import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};", "export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}", "import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};", "export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";", "export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}", "import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}", "import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}", "export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}", "export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}", "import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };", "export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _get() {\n  return _get = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) {\n    var p = _superPropBase(e, t);\n    if (p) {\n      var n = Object.getOwnPropertyDescriptor(p, t);\n      return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value;\n    }\n  }, _get.apply(null, arguments);\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _superPropBase(t, o) {\n  for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t)););\n  return t;\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction hasProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nfunction lastItemOf(arr) {\n  return arr[arr.length - 1];\n}\n\n// push only the items not included in the array\nfunction pushUnique(arr) {\n  for (var _len = arguments.length, items = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    items[_key - 1] = arguments[_key];\n  }\n  items.forEach(function (item) {\n    if (arr.includes(item)) {\n      return;\n    }\n    arr.push(item);\n  });\n  return arr;\n}\nfunction stringToArray(str, separator) {\n  // convert empty string to an empty array\n  return str ? str.split(separator) : [];\n}\nfunction isInRange(testVal, min, max) {\n  var minOK = min === undefined || testVal >= min;\n  var maxOK = max === undefined || testVal <= max;\n  return minOK && maxOK;\n}\nfunction limitToRange(val, min, max) {\n  if (val < min) {\n    return min;\n  }\n  if (val > max) {\n    return max;\n  }\n  return val;\n}\nfunction createTagRepeat(tagName, repeat) {\n  var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var html = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';\n  var openTagSrc = Object.keys(attributes).reduce(function (src, attr) {\n    var val = attributes[attr];\n    if (typeof val === 'function') {\n      val = val(index);\n    }\n    return \"\".concat(src, \" \").concat(attr, \"=\\\"\").concat(val, \"\\\"\");\n  }, tagName);\n  html += \"<\".concat(openTagSrc, \"></\").concat(tagName, \">\");\n  var next = index + 1;\n  return next < repeat ? createTagRepeat(tagName, repeat, attributes, next, html) : html;\n}\n\n// Remove the spacing surrounding tags for HTML parser not to create text nodes\n// before/after elements\nfunction optimizeTemplateHTML(html) {\n  return html.replace(/>\\s+/g, '>').replace(/\\s+</, '<');\n}\n\nfunction stripTime(timeValue) {\n  return new Date(timeValue).setHours(0, 0, 0, 0);\n}\nfunction today() {\n  return new Date().setHours(0, 0, 0, 0);\n}\n\n// Get the time value of the start of given date or year, month and day\nfunction dateValue() {\n  switch (arguments.length) {\n    case 0:\n      return today();\n    case 1:\n      return stripTime(arguments.length <= 0 ? undefined : arguments[0]);\n  }\n\n  // use setFullYear() to keep 2-digit year from being mapped to 1900-1999\n  var newDate = new Date(0);\n  newDate.setFullYear.apply(newDate, arguments);\n  return newDate.setHours(0, 0, 0, 0);\n}\nfunction addDays(date, amount) {\n  var newDate = new Date(date);\n  return newDate.setDate(newDate.getDate() + amount);\n}\nfunction addWeeks(date, amount) {\n  return addDays(date, amount * 7);\n}\nfunction addMonths(date, amount) {\n  // If the day of the date is not in the new month, the last day of the new\n  // month will be returned. e.g. Jan 31 + 1 month → Feb 28 (not Mar 03)\n  var newDate = new Date(date);\n  var monthsToSet = newDate.getMonth() + amount;\n  var expectedMonth = monthsToSet % 12;\n  if (expectedMonth < 0) {\n    expectedMonth += 12;\n  }\n  var time = newDate.setMonth(monthsToSet);\n  return newDate.getMonth() !== expectedMonth ? newDate.setDate(0) : time;\n}\nfunction addYears(date, amount) {\n  // If the date is Feb 29 and the new year is not a leap year, Feb 28 of the\n  // new year will be returned.\n  var newDate = new Date(date);\n  var expectedMonth = newDate.getMonth();\n  var time = newDate.setFullYear(newDate.getFullYear() + amount);\n  return expectedMonth === 1 && newDate.getMonth() === 2 ? newDate.setDate(0) : time;\n}\n\n// Calculate the distance bettwen 2 days of the week\nfunction dayDiff(day, from) {\n  return (day - from + 7) % 7;\n}\n\n// Get the date of the specified day of the week of given base date\nfunction dayOfTheWeekOf(baseDate, dayOfWeek) {\n  var weekStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var baseDay = new Date(baseDate).getDay();\n  return addDays(baseDate, dayDiff(dayOfWeek, weekStart) - dayDiff(baseDay, weekStart));\n}\n\n// Get the ISO week of a date\nfunction getWeek(date) {\n  // start of ISO week is Monday\n  var thuOfTheWeek = dayOfTheWeekOf(date, 4, 1);\n  // 1st week == the week where the 4th of January is in\n  var firstThu = dayOfTheWeekOf(new Date(thuOfTheWeek).setMonth(0, 4), 4, 1);\n  return Math.round((thuOfTheWeek - firstThu) / 604800000) + 1;\n}\n\n// Get the start year of the period of years that includes given date\n// years: length of the year period\nfunction startOfYearPeriod(date, years) {\n  /* @see https://en.wikipedia.org/wiki/Year_zero#ISO_8601 */\n  var year = new Date(date).getFullYear();\n  return Math.floor(year / years) * years;\n}\n\n// pattern for format parts\nvar reFormatTokens = /dd?|DD?|mm?|MM?|yy?(?:yy)?/;\n// pattern for non date parts\nvar reNonDateParts = /[\\s!-/:-@[-`{-~年月日]+/;\n// cache for persed formats\nvar knownFormats = {};\n// parse funtions for date parts\nvar parseFns = {\n  y: function y(date, year) {\n    return new Date(date).setFullYear(parseInt(year, 10));\n  },\n  m: function m(date, month, locale) {\n    var newDate = new Date(date);\n    var monthIndex = parseInt(month, 10) - 1;\n    if (isNaN(monthIndex)) {\n      if (!month) {\n        return NaN;\n      }\n      var monthName = month.toLowerCase();\n      var compareNames = function compareNames(name) {\n        return name.toLowerCase().startsWith(monthName);\n      };\n      // compare with both short and full names because some locales have periods\n      // in the short names (not equal to the first X letters of the full names)\n      monthIndex = locale.monthsShort.findIndex(compareNames);\n      if (monthIndex < 0) {\n        monthIndex = locale.months.findIndex(compareNames);\n      }\n      if (monthIndex < 0) {\n        return NaN;\n      }\n    }\n    newDate.setMonth(monthIndex);\n    return newDate.getMonth() !== normalizeMonth(monthIndex) ? newDate.setDate(0) : newDate.getTime();\n  },\n  d: function d(date, day) {\n    return new Date(date).setDate(parseInt(day, 10));\n  }\n};\n// format functions for date parts\nvar formatFns = {\n  d: function d(date) {\n    return date.getDate();\n  },\n  dd: function dd(date) {\n    return padZero(date.getDate(), 2);\n  },\n  D: function D(date, locale) {\n    return locale.daysShort[date.getDay()];\n  },\n  DD: function DD(date, locale) {\n    return locale.days[date.getDay()];\n  },\n  m: function m(date) {\n    return date.getMonth() + 1;\n  },\n  mm: function mm(date) {\n    return padZero(date.getMonth() + 1, 2);\n  },\n  M: function M(date, locale) {\n    return locale.monthsShort[date.getMonth()];\n  },\n  MM: function MM(date, locale) {\n    return locale.months[date.getMonth()];\n  },\n  y: function y(date) {\n    return date.getFullYear();\n  },\n  yy: function yy(date) {\n    return padZero(date.getFullYear(), 2).slice(-2);\n  },\n  yyyy: function yyyy(date) {\n    return padZero(date.getFullYear(), 4);\n  }\n};\n\n// get month index in normal range (0 - 11) from any number\nfunction normalizeMonth(monthIndex) {\n  return monthIndex > -1 ? monthIndex % 12 : normalizeMonth(monthIndex + 12);\n}\nfunction padZero(num, length) {\n  return num.toString().padStart(length, '0');\n}\nfunction parseFormatString(format) {\n  if (typeof format !== 'string') {\n    throw new Error(\"Invalid date format.\");\n  }\n  if (format in knownFormats) {\n    return knownFormats[format];\n  }\n\n  // sprit the format string into parts and seprators\n  var separators = format.split(reFormatTokens);\n  var parts = format.match(new RegExp(reFormatTokens, 'g'));\n  if (separators.length === 0 || !parts) {\n    throw new Error(\"Invalid date format.\");\n  }\n\n  // collect format functions used in the format\n  var partFormatters = parts.map(function (token) {\n    return formatFns[token];\n  });\n\n  // collect parse function keys used in the format\n  // iterate over parseFns' keys in order to keep the order of the keys.\n  var partParserKeys = Object.keys(parseFns).reduce(function (keys, key) {\n    var token = parts.find(function (part) {\n      return part[0] !== 'D' && part[0].toLowerCase() === key;\n    });\n    if (token) {\n      keys.push(key);\n    }\n    return keys;\n  }, []);\n  return knownFormats[format] = {\n    parser: function parser(dateStr, locale) {\n      var dateParts = dateStr.split(reNonDateParts).reduce(function (dtParts, part, index) {\n        if (part.length > 0 && parts[index]) {\n          var token = parts[index][0];\n          if (token === 'M') {\n            dtParts.m = part;\n          } else if (token !== 'D') {\n            dtParts[token] = part;\n          }\n        }\n        return dtParts;\n      }, {});\n\n      // iterate over partParserkeys so that the parsing is made in the oder\n      // of year, month and day to prevent the day parser from correcting last\n      // day of month wrongly\n      return partParserKeys.reduce(function (origDate, key) {\n        var newDate = parseFns[key](origDate, dateParts[key], locale);\n        // ingnore the part failed to parse\n        return isNaN(newDate) ? origDate : newDate;\n      }, today());\n    },\n    formatter: function formatter(date, locale) {\n      var dateStr = partFormatters.reduce(function (str, fn, index) {\n        return str += \"\".concat(separators[index]).concat(fn(date, locale));\n      }, '');\n      // separators' length is always parts' length + 1,\n      return dateStr += lastItemOf(separators);\n    }\n  };\n}\nfunction parseDate(dateStr, format, locale) {\n  if (dateStr instanceof Date || typeof dateStr === 'number') {\n    var date = stripTime(dateStr);\n    return isNaN(date) ? undefined : date;\n  }\n  if (!dateStr) {\n    return undefined;\n  }\n  if (dateStr === 'today') {\n    return today();\n  }\n  if (format && format.toValue) {\n    var _date = format.toValue(dateStr, format, locale);\n    return isNaN(_date) ? undefined : stripTime(_date);\n  }\n  return parseFormatString(format).parser(dateStr, locale);\n}\nfunction formatDate(date, format, locale) {\n  if (isNaN(date) || !date && date !== 0) {\n    return '';\n  }\n  var dateObj = typeof date === 'number' ? new Date(date) : date;\n  if (format.toDisplay) {\n    return format.toDisplay(dateObj, format, locale);\n  }\n  return parseFormatString(format).formatter(dateObj, locale);\n}\n\nvar listenerRegistry = new WeakMap();\nvar _EventTarget$prototyp = EventTarget.prototype,\n  addEventListener = _EventTarget$prototyp.addEventListener,\n  removeEventListener = _EventTarget$prototyp.removeEventListener;\n\n// Register event listeners to a key object\n// listeners: array of listener definitions;\n//   - each definition must be a flat array of event target and the arguments\n//     used to call addEventListener() on the target\nfunction registerListeners(keyObj, listeners) {\n  var registered = listenerRegistry.get(keyObj);\n  if (!registered) {\n    registered = [];\n    listenerRegistry.set(keyObj, registered);\n  }\n  listeners.forEach(function (listener) {\n    addEventListener.call.apply(addEventListener, _toConsumableArray(listener));\n    registered.push(listener);\n  });\n}\nfunction unregisterListeners(keyObj) {\n  var listeners = listenerRegistry.get(keyObj);\n  if (!listeners) {\n    return;\n  }\n  listeners.forEach(function (listener) {\n    removeEventListener.call.apply(removeEventListener, _toConsumableArray(listener));\n  });\n  listenerRegistry[\"delete\"](keyObj);\n}\n\n// Event.composedPath() polyfill for Edge\n// based on https://gist.github.com/kleinfreund/e9787d73776c0e3750dcfcdc89f100ec\nif (!Event.prototype.composedPath) {\n  var getComposedPath = function getComposedPath(node) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    path.push(node);\n    var parent;\n    if (node.parentNode) {\n      parent = node.parentNode;\n    } else if (node.host) {\n      // ShadowRoot\n      parent = node.host;\n    } else if (node.defaultView) {\n      // Document\n      parent = node.defaultView;\n    }\n    return parent ? getComposedPath(parent, path) : path;\n  };\n  Event.prototype.composedPath = function () {\n    return getComposedPath(this.target);\n  };\n}\nfunction findFromPath(path, criteria, currentTarget) {\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var el = path[index];\n  if (criteria(el)) {\n    return el;\n  } else if (el === currentTarget || !el.parentElement) {\n    // stop when reaching currentTarget or <html>\n    return;\n  }\n  return findFromPath(path, criteria, currentTarget, index + 1);\n}\n\n// Search for the actual target of a delegated event\nfunction findElementInEventPath(ev, selector) {\n  var criteria = typeof selector === 'function' ? selector : function (el) {\n    return el.matches(selector);\n  };\n  return findFromPath(ev.composedPath(), criteria, ev.currentTarget);\n}\n\n// default locales\nvar locales = {\n  en: {\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    today: \"Today\",\n    clear: \"Clear\",\n    titleFormat: \"MM y\"\n  }\n};\n\n// config options updatable by setOptions() and their default values\nvar defaultOptions = {\n  autohide: false,\n  beforeShowDay: null,\n  beforeShowDecade: null,\n  beforeShowMonth: null,\n  beforeShowYear: null,\n  calendarWeeks: false,\n  clearBtn: false,\n  dateDelimiter: ',',\n  datesDisabled: [],\n  daysOfWeekDisabled: [],\n  daysOfWeekHighlighted: [],\n  defaultViewDate: undefined,\n  // placeholder, defaults to today() by the program\n  disableTouchKeyboard: false,\n  format: 'mm/dd/yyyy',\n  language: 'en',\n  maxDate: null,\n  maxNumberOfDates: 1,\n  maxView: 3,\n  minDate: null,\n  nextArrow: '<svg class=\"w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 10\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M1 5h12m0 0L9 1m4 4L9 9\"/></svg>',\n  orientation: 'auto',\n  pickLevel: 0,\n  prevArrow: '<svg class=\"w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 10\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 5H1m0 0 4 4M1 5l4-4\"/></svg>',\n  showDaysOfWeek: true,\n  showOnClick: true,\n  showOnFocus: true,\n  startView: 0,\n  title: '',\n  todayBtn: false,\n  todayBtnMode: 0,\n  todayHighlight: false,\n  updateOnBlur: true,\n  weekStart: 0\n};\n\nvar range = document.createRange();\nfunction parseHTML(html) {\n  return range.createContextualFragment(html);\n}\nfunction hideElement(el) {\n  if (el.style.display === 'none') {\n    return;\n  }\n  // back up the existing display setting in data-style-display\n  if (el.style.display) {\n    el.dataset.styleDisplay = el.style.display;\n  }\n  el.style.display = 'none';\n}\nfunction showElement(el) {\n  if (el.style.display !== 'none') {\n    return;\n  }\n  if (el.dataset.styleDisplay) {\n    // restore backed-up dispay property\n    el.style.display = el.dataset.styleDisplay;\n    delete el.dataset.styleDisplay;\n  } else {\n    el.style.display = '';\n  }\n}\nfunction emptyChildNodes(el) {\n  if (el.firstChild) {\n    el.removeChild(el.firstChild);\n    emptyChildNodes(el);\n  }\n}\nfunction replaceChildNodes(el, newChildNodes) {\n  emptyChildNodes(el);\n  if (newChildNodes instanceof DocumentFragment) {\n    el.appendChild(newChildNodes);\n  } else if (typeof newChildNodes === 'string') {\n    el.appendChild(parseHTML(newChildNodes));\n  } else if (typeof newChildNodes.forEach === 'function') {\n    newChildNodes.forEach(function (node) {\n      el.appendChild(node);\n    });\n  }\n}\n\nvar defaultLang = defaultOptions.language,\n  defaultFormat = defaultOptions.format,\n  defaultWeekStart = defaultOptions.weekStart;\n\n// Reducer function to filter out invalid day-of-week from the input\nfunction sanitizeDOW(dow, day) {\n  return dow.length < 6 && day >= 0 && day < 7 ? pushUnique(dow, day) : dow;\n}\nfunction calcEndOfWeek(startOfWeek) {\n  return (startOfWeek + 6) % 7;\n}\n\n// validate input date. if invalid, fallback to the original value\nfunction validateDate(value, format, locale, origValue) {\n  var date = parseDate(value, format, locale);\n  return date !== undefined ? date : origValue;\n}\n\n// Validate viewId. if invalid, fallback to the original value\nfunction validateViewId(value, origValue) {\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n  var viewId = parseInt(value, 10);\n  return viewId >= 0 && viewId <= max ? viewId : origValue;\n}\n\n// Create Datepicker configuration to set\nfunction processOptions(options, datepicker) {\n  var inOpts = Object.assign({}, options);\n  var config = {};\n  var locales = datepicker.constructor.locales;\n  var _ref = datepicker.config || {},\n    format = _ref.format,\n    language = _ref.language,\n    locale = _ref.locale,\n    maxDate = _ref.maxDate,\n    maxView = _ref.maxView,\n    minDate = _ref.minDate,\n    pickLevel = _ref.pickLevel,\n    startView = _ref.startView,\n    weekStart = _ref.weekStart;\n  if (inOpts.language) {\n    var lang;\n    if (inOpts.language !== language) {\n      if (locales[inOpts.language]) {\n        lang = inOpts.language;\n      } else {\n        // Check if langauge + region tag can fallback to the one without\n        // region (e.g. fr-CA → fr)\n        lang = inOpts.language.split('-')[0];\n        if (locales[lang] === undefined) {\n          lang = false;\n        }\n      }\n    }\n    delete inOpts.language;\n    if (lang) {\n      language = config.language = lang;\n\n      // update locale as well when updating language\n      var origLocale = locale || locales[defaultLang];\n      // use default language's properties for the fallback\n      locale = Object.assign({\n        format: defaultFormat,\n        weekStart: defaultWeekStart\n      }, locales[defaultLang]);\n      if (language !== defaultLang) {\n        Object.assign(locale, locales[language]);\n      }\n      config.locale = locale;\n      // if format and/or weekStart are the same as old locale's defaults,\n      // update them to new locale's defaults\n      if (format === origLocale.format) {\n        format = config.format = locale.format;\n      }\n      if (weekStart === origLocale.weekStart) {\n        weekStart = config.weekStart = locale.weekStart;\n        config.weekEnd = calcEndOfWeek(locale.weekStart);\n      }\n    }\n  }\n  if (inOpts.format) {\n    var hasToDisplay = typeof inOpts.format.toDisplay === 'function';\n    var hasToValue = typeof inOpts.format.toValue === 'function';\n    var validFormatString = reFormatTokens.test(inOpts.format);\n    if (hasToDisplay && hasToValue || validFormatString) {\n      format = config.format = inOpts.format;\n    }\n    delete inOpts.format;\n  }\n\n  //*** dates ***//\n  // while min and maxDate for \"no limit\" in the options are better to be null\n  // (especially when updating), the ones in the config have to be undefined\n  // because null is treated as 0 (= unix epoch) when comparing with time value\n  var minDt = minDate;\n  var maxDt = maxDate;\n  if (inOpts.minDate !== undefined) {\n    minDt = inOpts.minDate === null ? dateValue(0, 0, 1) // set 0000-01-01 to prevent negative values for year\n    : validateDate(inOpts.minDate, format, locale, minDt);\n    delete inOpts.minDate;\n  }\n  if (inOpts.maxDate !== undefined) {\n    maxDt = inOpts.maxDate === null ? undefined : validateDate(inOpts.maxDate, format, locale, maxDt);\n    delete inOpts.maxDate;\n  }\n  if (maxDt < minDt) {\n    minDate = config.minDate = maxDt;\n    maxDate = config.maxDate = minDt;\n  } else {\n    if (minDate !== minDt) {\n      minDate = config.minDate = minDt;\n    }\n    if (maxDate !== maxDt) {\n      maxDate = config.maxDate = maxDt;\n    }\n  }\n  if (inOpts.datesDisabled) {\n    config.datesDisabled = inOpts.datesDisabled.reduce(function (dates, dt) {\n      var date = parseDate(dt, format, locale);\n      return date !== undefined ? pushUnique(dates, date) : dates;\n    }, []);\n    delete inOpts.datesDisabled;\n  }\n  if (inOpts.defaultViewDate !== undefined) {\n    var viewDate = parseDate(inOpts.defaultViewDate, format, locale);\n    if (viewDate !== undefined) {\n      config.defaultViewDate = viewDate;\n    }\n    delete inOpts.defaultViewDate;\n  }\n\n  //*** days of week ***//\n  if (inOpts.weekStart !== undefined) {\n    var wkStart = Number(inOpts.weekStart) % 7;\n    if (!isNaN(wkStart)) {\n      weekStart = config.weekStart = wkStart;\n      config.weekEnd = calcEndOfWeek(wkStart);\n    }\n    delete inOpts.weekStart;\n  }\n  if (inOpts.daysOfWeekDisabled) {\n    config.daysOfWeekDisabled = inOpts.daysOfWeekDisabled.reduce(sanitizeDOW, []);\n    delete inOpts.daysOfWeekDisabled;\n  }\n  if (inOpts.daysOfWeekHighlighted) {\n    config.daysOfWeekHighlighted = inOpts.daysOfWeekHighlighted.reduce(sanitizeDOW, []);\n    delete inOpts.daysOfWeekHighlighted;\n  }\n\n  //*** multi date ***//\n  if (inOpts.maxNumberOfDates !== undefined) {\n    var maxNumberOfDates = parseInt(inOpts.maxNumberOfDates, 10);\n    if (maxNumberOfDates >= 0) {\n      config.maxNumberOfDates = maxNumberOfDates;\n      config.multidate = maxNumberOfDates !== 1;\n    }\n    delete inOpts.maxNumberOfDates;\n  }\n  if (inOpts.dateDelimiter) {\n    config.dateDelimiter = String(inOpts.dateDelimiter);\n    delete inOpts.dateDelimiter;\n  }\n\n  //*** pick level & view ***//\n  var newPickLevel = pickLevel;\n  if (inOpts.pickLevel !== undefined) {\n    newPickLevel = validateViewId(inOpts.pickLevel, 2);\n    delete inOpts.pickLevel;\n  }\n  if (newPickLevel !== pickLevel) {\n    pickLevel = config.pickLevel = newPickLevel;\n  }\n  var newMaxView = maxView;\n  if (inOpts.maxView !== undefined) {\n    newMaxView = validateViewId(inOpts.maxView, maxView);\n    delete inOpts.maxView;\n  }\n  // ensure max view >= pick level\n  newMaxView = pickLevel > newMaxView ? pickLevel : newMaxView;\n  if (newMaxView !== maxView) {\n    maxView = config.maxView = newMaxView;\n  }\n  var newStartView = startView;\n  if (inOpts.startView !== undefined) {\n    newStartView = validateViewId(inOpts.startView, newStartView);\n    delete inOpts.startView;\n  }\n  // ensure pick level <= start view <= max view\n  if (newStartView < pickLevel) {\n    newStartView = pickLevel;\n  } else if (newStartView > maxView) {\n    newStartView = maxView;\n  }\n  if (newStartView !== startView) {\n    config.startView = newStartView;\n  }\n\n  //*** template ***//\n  if (inOpts.prevArrow) {\n    var prevArrow = parseHTML(inOpts.prevArrow);\n    if (prevArrow.childNodes.length > 0) {\n      config.prevArrow = prevArrow.childNodes;\n    }\n    delete inOpts.prevArrow;\n  }\n  if (inOpts.nextArrow) {\n    var nextArrow = parseHTML(inOpts.nextArrow);\n    if (nextArrow.childNodes.length > 0) {\n      config.nextArrow = nextArrow.childNodes;\n    }\n    delete inOpts.nextArrow;\n  }\n\n  //*** misc ***//\n  if (inOpts.disableTouchKeyboard !== undefined) {\n    config.disableTouchKeyboard = 'ontouchstart' in document && !!inOpts.disableTouchKeyboard;\n    delete inOpts.disableTouchKeyboard;\n  }\n  if (inOpts.orientation) {\n    var orientation = inOpts.orientation.toLowerCase().split(/\\s+/g);\n    config.orientation = {\n      x: orientation.find(function (x) {\n        return x === 'left' || x === 'right';\n      }) || 'auto',\n      y: orientation.find(function (y) {\n        return y === 'top' || y === 'bottom';\n      }) || 'auto'\n    };\n    delete inOpts.orientation;\n  }\n  if (inOpts.todayBtnMode !== undefined) {\n    switch (inOpts.todayBtnMode) {\n      case 0:\n      case 1:\n        config.todayBtnMode = inOpts.todayBtnMode;\n    }\n    delete inOpts.todayBtnMode;\n  }\n\n  //*** copy the rest ***//\n  Object.keys(inOpts).forEach(function (key) {\n    if (inOpts[key] !== undefined && hasProperty(defaultOptions, key)) {\n      config[key] = inOpts[key];\n    }\n  });\n  return config;\n}\n\nvar pickerTemplate = optimizeTemplateHTML(\"<div class=\\\"datepicker hidden\\\">\\n  <div class=\\\"datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4\\\">\\n    <div class=\\\"datepicker-header\\\">\\n      <div class=\\\"datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold\\\"></div>\\n      <div class=\\\"datepicker-controls flex justify-between mb-2\\\">\\n        <button type=\\\"button\\\" class=\\\"bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn\\\"></button>\\n        <button type=\\\"button\\\" class=\\\"text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch\\\"></button>\\n        <button type=\\\"button\\\" class=\\\"bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn\\\"></button>\\n      </div>\\n    </div>\\n    <div class=\\\"datepicker-main p-1\\\"></div>\\n    <div class=\\\"datepicker-footer\\\">\\n      <div class=\\\"datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2\\\">\\n        <button type=\\\"button\\\" class=\\\"%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2\\\"></button>\\n        <button type=\\\"button\\\" class=\\\"%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2\\\"></button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\");\n\nvar daysTemplate = optimizeTemplateHTML(\"<div class=\\\"days\\\">\\n  <div class=\\\"days-of-week grid grid-cols-7 mb-1\\\">\".concat(createTagRepeat('span', 7, {\n  \"class\": 'dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm'\n}), \"</div>\\n  <div class=\\\"datepicker-grid w-64 grid grid-cols-7\\\">\").concat(createTagRepeat('span', 42, {\n  \"class\": 'block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400'\n}), \"</div>\\n</div>\"));\n\nvar calendarWeeksTemplate = optimizeTemplateHTML(\"<div class=\\\"calendar-weeks\\\">\\n  <div class=\\\"days-of-week flex\\\"><span class=\\\"dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400\\\"></span></div>\\n  <div class=\\\"weeks\\\">\".concat(createTagRepeat('span', 6, {\n  \"class\": 'week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm'\n}), \"</div>\\n</div>\"));\n\n// Base class of the view classes\nvar View = /*#__PURE__*/function () {\n  function View(picker, config) {\n    _classCallCheck(this, View);\n    Object.assign(this, config, {\n      picker: picker,\n      element: parseHTML(\"<div class=\\\"datepicker-view flex\\\"></div>\").firstChild,\n      selected: []\n    });\n    this.init(this.picker.datepicker.config);\n  }\n  return _createClass(View, [{\n    key: \"init\",\n    value: function init(options) {\n      if (options.pickLevel !== undefined) {\n        this.isMinView = this.id === options.pickLevel;\n      }\n      this.setOptions(options);\n      this.updateFocus();\n      this.updateSelection();\n    }\n\n    // Execute beforeShow() callback and apply the result to the element\n    // args:\n    // - current - current value on the iteration on view rendering\n    // - timeValue - time value of the date to pass to beforeShow()\n  }, {\n    key: \"performBeforeHook\",\n    value: function performBeforeHook(el, current, timeValue) {\n      var result = this.beforeShow(new Date(timeValue));\n      switch (_typeof(result)) {\n        case 'boolean':\n          result = {\n            enabled: result\n          };\n          break;\n        case 'string':\n          result = {\n            classes: result\n          };\n      }\n      if (result) {\n        if (result.enabled === false) {\n          el.classList.add('disabled');\n          pushUnique(this.disabled, current);\n        }\n        if (result.classes) {\n          var _el$classList;\n          var extraClasses = result.classes.split(/\\s+/);\n          (_el$classList = el.classList).add.apply(_el$classList, _toConsumableArray(extraClasses));\n          if (extraClasses.includes('disabled')) {\n            pushUnique(this.disabled, current);\n          }\n        }\n        if (result.content) {\n          replaceChildNodes(el, result.content);\n        }\n      }\n    }\n  }]);\n}();\n\nvar DaysView = /*#__PURE__*/function (_View) {\n  function DaysView(picker) {\n    _classCallCheck(this, DaysView);\n    return _callSuper(this, DaysView, [picker, {\n      id: 0,\n      name: 'days',\n      cellClass: 'day'\n    }]);\n  }\n  _inherits(DaysView, _View);\n  return _createClass(DaysView, [{\n    key: \"init\",\n    value: function init(options) {\n      var onConstruction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (onConstruction) {\n        var inner = parseHTML(daysTemplate).firstChild;\n        this.dow = inner.firstChild;\n        this.grid = inner.lastChild;\n        this.element.appendChild(inner);\n      }\n      _get(_getPrototypeOf(DaysView.prototype), \"init\", this).call(this, options);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this = this;\n      var updateDOW;\n      if (hasProperty(options, 'minDate')) {\n        this.minDate = options.minDate;\n      }\n      if (hasProperty(options, 'maxDate')) {\n        this.maxDate = options.maxDate;\n      }\n      if (options.datesDisabled) {\n        this.datesDisabled = options.datesDisabled;\n      }\n      if (options.daysOfWeekDisabled) {\n        this.daysOfWeekDisabled = options.daysOfWeekDisabled;\n        updateDOW = true;\n      }\n      if (options.daysOfWeekHighlighted) {\n        this.daysOfWeekHighlighted = options.daysOfWeekHighlighted;\n      }\n      if (options.todayHighlight !== undefined) {\n        this.todayHighlight = options.todayHighlight;\n      }\n      if (options.weekStart !== undefined) {\n        this.weekStart = options.weekStart;\n        this.weekEnd = options.weekEnd;\n        updateDOW = true;\n      }\n      if (options.locale) {\n        var locale = this.locale = options.locale;\n        this.dayNames = locale.daysMin;\n        this.switchLabelFormat = locale.titleFormat;\n        updateDOW = true;\n      }\n      if (options.beforeShowDay !== undefined) {\n        this.beforeShow = typeof options.beforeShowDay === 'function' ? options.beforeShowDay : undefined;\n      }\n      if (options.calendarWeeks !== undefined) {\n        if (options.calendarWeeks && !this.calendarWeeks) {\n          var weeksElem = parseHTML(calendarWeeksTemplate).firstChild;\n          this.calendarWeeks = {\n            element: weeksElem,\n            dow: weeksElem.firstChild,\n            weeks: weeksElem.lastChild\n          };\n          this.element.insertBefore(weeksElem, this.element.firstChild);\n        } else if (this.calendarWeeks && !options.calendarWeeks) {\n          this.element.removeChild(this.calendarWeeks.element);\n          this.calendarWeeks = null;\n        }\n      }\n      if (options.showDaysOfWeek !== undefined) {\n        if (options.showDaysOfWeek) {\n          showElement(this.dow);\n          if (this.calendarWeeks) {\n            showElement(this.calendarWeeks.dow);\n          }\n        } else {\n          hideElement(this.dow);\n          if (this.calendarWeeks) {\n            hideElement(this.calendarWeeks.dow);\n          }\n        }\n      }\n\n      // update days-of-week when locale, daysOfweekDisabled or weekStart is changed\n      if (updateDOW) {\n        Array.from(this.dow.children).forEach(function (el, index) {\n          var dow = (_this.weekStart + index) % 7;\n          el.textContent = _this.dayNames[dow];\n          el.className = _this.daysOfWeekDisabled.includes(dow) ? 'dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed' : 'dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400';\n        });\n      }\n    }\n\n    // Apply update on the focused date to view's settings\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus() {\n      var viewDate = new Date(this.picker.viewDate);\n      var viewYear = viewDate.getFullYear();\n      var viewMonth = viewDate.getMonth();\n      var firstOfMonth = dateValue(viewYear, viewMonth, 1);\n      var start = dayOfTheWeekOf(firstOfMonth, this.weekStart, this.weekStart);\n      this.first = firstOfMonth;\n      this.last = dateValue(viewYear, viewMonth + 1, 0);\n      this.start = start;\n      this.focused = this.picker.viewDate;\n    }\n\n    // Apply update on the selected dates to view's settings\n  }, {\n    key: \"updateSelection\",\n    value: function updateSelection() {\n      var _this$picker$datepick = this.picker.datepicker,\n        dates = _this$picker$datepick.dates,\n        rangepicker = _this$picker$datepick.rangepicker;\n      this.selected = dates;\n      if (rangepicker) {\n        this.range = rangepicker.dates;\n      }\n    }\n\n    // Update the entire view UI\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      // update today marker on ever render\n      this.today = this.todayHighlight ? today() : undefined;\n      // refresh disabled dates on every render in order to clear the ones added\n      // by beforeShow hook at previous render\n      this.disabled = _toConsumableArray(this.datesDisabled);\n      var switchLabel = formatDate(this.focused, this.switchLabelFormat, this.locale);\n      this.picker.setViewSwitchLabel(switchLabel);\n      this.picker.setPrevBtnDisabled(this.first <= this.minDate);\n      this.picker.setNextBtnDisabled(this.last >= this.maxDate);\n      if (this.calendarWeeks) {\n        // start of the UTC week (Monday) of the 1st of the month\n        var startOfWeek = dayOfTheWeekOf(this.first, 1, 1);\n        Array.from(this.calendarWeeks.weeks.children).forEach(function (el, index) {\n          el.textContent = getWeek(addWeeks(startOfWeek, index));\n        });\n      }\n      Array.from(this.grid.children).forEach(function (el, index) {\n        var classList = el.classList;\n        var current = addDays(_this2.start, index);\n        var date = new Date(current);\n        var day = date.getDay();\n        el.className = \"datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm \".concat(_this2.cellClass);\n        el.dataset.date = current;\n        el.textContent = date.getDate();\n        if (current < _this2.first) {\n          classList.add('prev', 'text-gray-500', 'dark:text-white');\n        } else if (current > _this2.last) {\n          classList.add('next', 'text-gray-500', 'dark:text-white');\n        }\n        if (_this2.today === current) {\n          classList.add('today', 'bg-gray-100', 'dark:bg-gray-600');\n        }\n        if (current < _this2.minDate || current > _this2.maxDate || _this2.disabled.includes(current)) {\n          classList.add('disabled', 'cursor-not-allowed', 'text-gray-400', 'dark:text-gray-500');\n          classList.remove('hover:bg-gray-100', 'dark:hover:bg-gray-600', 'text-gray-900', 'dark:text-white', 'cursor-pointer');\n        }\n        if (_this2.daysOfWeekDisabled.includes(day)) {\n          classList.add('disabled', 'cursor-not-allowed', 'text-gray-400', 'dark:text-gray-500');\n          classList.remove('hover:bg-gray-100', 'dark:hover:bg-gray-600', 'text-gray-900', 'dark:text-white', 'cursor-pointer');\n          pushUnique(_this2.disabled, current);\n        }\n        if (_this2.daysOfWeekHighlighted.includes(day)) {\n          classList.add('highlighted');\n        }\n        if (_this2.range) {\n          var _this2$range = _slicedToArray(_this2.range, 2),\n            rangeStart = _this2$range[0],\n            rangeEnd = _this2$range[1];\n          if (current > rangeStart && current < rangeEnd) {\n            classList.add('range', 'bg-gray-200', 'dark:bg-gray-600');\n            classList.remove('rounded-lg', 'rounded-l-lg', 'rounded-r-lg');\n          }\n          if (current === rangeStart) {\n            classList.add('range-start', 'bg-gray-100', 'dark:bg-gray-600', 'rounded-l-lg');\n            classList.remove('rounded-lg', 'rounded-r-lg');\n          }\n          if (current === rangeEnd) {\n            classList.add('range-end', 'bg-gray-100', 'dark:bg-gray-600', 'rounded-r-lg');\n            classList.remove('rounded-lg', 'rounded-l-lg');\n          }\n        }\n        if (_this2.selected.includes(current)) {\n          classList.add('selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white');\n          classList.remove('text-gray-900', 'text-gray-500', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600', 'dark:bg-gray-600', 'bg-gray-100', 'bg-gray-200');\n        }\n        if (current === _this2.focused) {\n          classList.add('focused');\n        }\n        if (_this2.beforeShow) {\n          _this2.performBeforeHook(el, current, current);\n        }\n      });\n    }\n\n    // Update the view UI by applying the changes of selected and focused items\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var _this3 = this;\n      var _ref = this.range || [],\n        _ref2 = _slicedToArray(_ref, 2),\n        rangeStart = _ref2[0],\n        rangeEnd = _ref2[1];\n      this.grid.querySelectorAll('.range, .range-start, .range-end, .selected, .focused').forEach(function (el) {\n        el.classList.remove('range', 'range-start', 'range-end', 'selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white', 'focused');\n        el.classList.add('text-gray-900', 'rounded-lg', 'dark:text-white');\n      });\n      Array.from(this.grid.children).forEach(function (el) {\n        var current = Number(el.dataset.date);\n        var classList = el.classList;\n        classList.remove('bg-gray-200', 'dark:bg-gray-600', 'rounded-l-lg', 'rounded-r-lg');\n        if (current > rangeStart && current < rangeEnd) {\n          classList.add('range', 'bg-gray-200', 'dark:bg-gray-600');\n          classList.remove('rounded-lg');\n        }\n        if (current === rangeStart) {\n          classList.add('range-start', 'bg-gray-200', 'dark:bg-gray-600', 'rounded-l-lg');\n          classList.remove('rounded-lg');\n        }\n        if (current === rangeEnd) {\n          classList.add('range-end', 'bg-gray-200', 'dark:bg-gray-600', 'rounded-r-lg');\n          classList.remove('rounded-lg');\n        }\n        if (_this3.selected.includes(current)) {\n          classList.add('selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white');\n          classList.remove('text-gray-900', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600', 'bg-gray-100', 'bg-gray-200', 'dark:bg-gray-600');\n        }\n        if (current === _this3.focused) {\n          classList.add('focused');\n        }\n      });\n    }\n\n    // Update the view UI by applying the change of focused item\n  }, {\n    key: \"refreshFocus\",\n    value: function refreshFocus() {\n      var index = Math.round((this.focused - this.start) / 86400000);\n      this.grid.querySelectorAll('.focused').forEach(function (el) {\n        el.classList.remove('focused');\n      });\n      this.grid.children[index].classList.add('focused');\n    }\n  }]);\n}(View);\n\nfunction computeMonthRange(range, thisYear) {\n  if (!range || !range[0] || !range[1]) {\n    return;\n  }\n  var _range = _slicedToArray(range, 2),\n    _range$ = _slicedToArray(_range[0], 2),\n    startY = _range$[0],\n    startM = _range$[1],\n    _range$2 = _slicedToArray(_range[1], 2),\n    endY = _range$2[0],\n    endM = _range$2[1];\n  if (startY > thisYear || endY < thisYear) {\n    return;\n  }\n  return [startY === thisYear ? startM : -1, endY === thisYear ? endM : 12];\n}\nvar MonthsView = /*#__PURE__*/function (_View) {\n  function MonthsView(picker) {\n    _classCallCheck(this, MonthsView);\n    return _callSuper(this, MonthsView, [picker, {\n      id: 1,\n      name: 'months',\n      cellClass: 'month'\n    }]);\n  }\n  _inherits(MonthsView, _View);\n  return _createClass(MonthsView, [{\n    key: \"init\",\n    value: function init(options) {\n      var onConstruction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (onConstruction) {\n        this.grid = this.element;\n        this.element.classList.add('months', 'datepicker-grid', 'w-64', 'grid', 'grid-cols-4');\n        this.grid.appendChild(parseHTML(createTagRepeat('span', 12, {\n          'data-month': function dataMonth(ix) {\n            return ix;\n          }\n        })));\n      }\n      _get(_getPrototypeOf(MonthsView.prototype), \"init\", this).call(this, options);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      if (options.locale) {\n        this.monthNames = options.locale.monthsShort;\n      }\n      if (hasProperty(options, 'minDate')) {\n        if (options.minDate === undefined) {\n          this.minYear = this.minMonth = this.minDate = undefined;\n        } else {\n          var minDateObj = new Date(options.minDate);\n          this.minYear = minDateObj.getFullYear();\n          this.minMonth = minDateObj.getMonth();\n          this.minDate = minDateObj.setDate(1);\n        }\n      }\n      if (hasProperty(options, 'maxDate')) {\n        if (options.maxDate === undefined) {\n          this.maxYear = this.maxMonth = this.maxDate = undefined;\n        } else {\n          var maxDateObj = new Date(options.maxDate);\n          this.maxYear = maxDateObj.getFullYear();\n          this.maxMonth = maxDateObj.getMonth();\n          this.maxDate = dateValue(this.maxYear, this.maxMonth + 1, 0);\n        }\n      }\n      if (options.beforeShowMonth !== undefined) {\n        this.beforeShow = typeof options.beforeShowMonth === 'function' ? options.beforeShowMonth : undefined;\n      }\n    }\n\n    // Update view's settings to reflect the viewDate set on the picker\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus() {\n      var viewDate = new Date(this.picker.viewDate);\n      this.year = viewDate.getFullYear();\n      this.focused = viewDate.getMonth();\n    }\n\n    // Update view's settings to reflect the selected dates\n  }, {\n    key: \"updateSelection\",\n    value: function updateSelection() {\n      var _this$picker$datepick = this.picker.datepicker,\n        dates = _this$picker$datepick.dates,\n        rangepicker = _this$picker$datepick.rangepicker;\n      this.selected = dates.reduce(function (selected, timeValue) {\n        var date = new Date(timeValue);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        if (selected[year] === undefined) {\n          selected[year] = [month];\n        } else {\n          pushUnique(selected[year], month);\n        }\n        return selected;\n      }, {});\n      if (rangepicker && rangepicker.dates) {\n        this.range = rangepicker.dates.map(function (timeValue) {\n          var date = new Date(timeValue);\n          return isNaN(date) ? undefined : [date.getFullYear(), date.getMonth()];\n        });\n      }\n    }\n\n    // Update the entire view UI\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      // refresh disabled months on every render in order to clear the ones added\n      // by beforeShow hook at previous render\n      this.disabled = [];\n      this.picker.setViewSwitchLabel(this.year);\n      this.picker.setPrevBtnDisabled(this.year <= this.minYear);\n      this.picker.setNextBtnDisabled(this.year >= this.maxYear);\n      var selected = this.selected[this.year] || [];\n      var yrOutOfRange = this.year < this.minYear || this.year > this.maxYear;\n      var isMinYear = this.year === this.minYear;\n      var isMaxYear = this.year === this.maxYear;\n      var range = computeMonthRange(this.range, this.year);\n      Array.from(this.grid.children).forEach(function (el, index) {\n        var classList = el.classList;\n        var date = dateValue(_this.year, index, 1);\n        el.className = \"datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm \".concat(_this.cellClass);\n        if (_this.isMinView) {\n          el.dataset.date = date;\n        }\n        // reset text on every render to clear the custom content set\n        // by beforeShow hook at previous render\n        el.textContent = _this.monthNames[index];\n        if (yrOutOfRange || isMinYear && index < _this.minMonth || isMaxYear && index > _this.maxMonth) {\n          classList.add('disabled');\n        }\n        if (range) {\n          var _range2 = _slicedToArray(range, 2),\n            rangeStart = _range2[0],\n            rangeEnd = _range2[1];\n          if (index > rangeStart && index < rangeEnd) {\n            classList.add('range');\n          }\n          if (index === rangeStart) {\n            classList.add('range-start');\n          }\n          if (index === rangeEnd) {\n            classList.add('range-end');\n          }\n        }\n        if (selected.includes(index)) {\n          classList.add('selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white');\n          classList.remove('text-gray-900', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600');\n        }\n        if (index === _this.focused) {\n          classList.add('focused');\n        }\n        if (_this.beforeShow) {\n          _this.performBeforeHook(el, index, date);\n        }\n      });\n    }\n\n    // Update the view UI by applying the changes of selected and focused items\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var _this2 = this;\n      var selected = this.selected[this.year] || [];\n      var _ref = computeMonthRange(this.range, this.year) || [],\n        _ref2 = _slicedToArray(_ref, 2),\n        rangeStart = _ref2[0],\n        rangeEnd = _ref2[1];\n      this.grid.querySelectorAll('.range, .range-start, .range-end, .selected, .focused').forEach(function (el) {\n        el.classList.remove('range', 'range-start', 'range-end', 'selected', 'bg-blue-700', '!bg-primary-700', 'dark:bg-blue-600', 'dark:!bg-primary-700', 'dark:text-white', 'text-white', 'focused');\n        el.classList.add('text-gray-900', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600');\n      });\n      Array.from(this.grid.children).forEach(function (el, index) {\n        var classList = el.classList;\n        if (index > rangeStart && index < rangeEnd) {\n          classList.add('range');\n        }\n        if (index === rangeStart) {\n          classList.add('range-start');\n        }\n        if (index === rangeEnd) {\n          classList.add('range-end');\n        }\n        if (selected.includes(index)) {\n          classList.add('selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white');\n          classList.remove('text-gray-900', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600');\n        }\n        if (index === _this2.focused) {\n          classList.add('focused');\n        }\n      });\n    }\n\n    // Update the view UI by applying the change of focused item\n  }, {\n    key: \"refreshFocus\",\n    value: function refreshFocus() {\n      this.grid.querySelectorAll('.focused').forEach(function (el) {\n        el.classList.remove('focused');\n      });\n      this.grid.children[this.focused].classList.add('focused');\n    }\n  }]);\n}(View);\n\nfunction toTitleCase(word) {\n  return _toConsumableArray(word).reduce(function (str, ch, ix) {\n    return str += ix ? ch : ch.toUpperCase();\n  }, '');\n}\n\n// Class representing the years and decades view elements\nvar YearsView = /*#__PURE__*/function (_View) {\n  function YearsView(picker, config) {\n    _classCallCheck(this, YearsView);\n    return _callSuper(this, YearsView, [picker, config]);\n  }\n  _inherits(YearsView, _View);\n  return _createClass(YearsView, [{\n    key: \"init\",\n    value: function init(options) {\n      var onConstruction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (onConstruction) {\n        this.navStep = this.step * 10;\n        this.beforeShowOption = \"beforeShow\".concat(toTitleCase(this.cellClass));\n        this.grid = this.element;\n        this.element.classList.add(this.name, 'datepicker-grid', 'w-64', 'grid', 'grid-cols-4');\n        this.grid.appendChild(parseHTML(createTagRepeat('span', 12)));\n      }\n      _get(_getPrototypeOf(YearsView.prototype), \"init\", this).call(this, options);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      if (hasProperty(options, 'minDate')) {\n        if (options.minDate === undefined) {\n          this.minYear = this.minDate = undefined;\n        } else {\n          this.minYear = startOfYearPeriod(options.minDate, this.step);\n          this.minDate = dateValue(this.minYear, 0, 1);\n        }\n      }\n      if (hasProperty(options, 'maxDate')) {\n        if (options.maxDate === undefined) {\n          this.maxYear = this.maxDate = undefined;\n        } else {\n          this.maxYear = startOfYearPeriod(options.maxDate, this.step);\n          this.maxDate = dateValue(this.maxYear, 11, 31);\n        }\n      }\n      if (options[this.beforeShowOption] !== undefined) {\n        var beforeShow = options[this.beforeShowOption];\n        this.beforeShow = typeof beforeShow === 'function' ? beforeShow : undefined;\n      }\n    }\n\n    // Update view's settings to reflect the viewDate set on the picker\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus() {\n      var viewDate = new Date(this.picker.viewDate);\n      var first = startOfYearPeriod(viewDate, this.navStep);\n      var last = first + 9 * this.step;\n      this.first = first;\n      this.last = last;\n      this.start = first - this.step;\n      this.focused = startOfYearPeriod(viewDate, this.step);\n    }\n\n    // Update view's settings to reflect the selected dates\n  }, {\n    key: \"updateSelection\",\n    value: function updateSelection() {\n      var _this = this;\n      var _this$picker$datepick = this.picker.datepicker,\n        dates = _this$picker$datepick.dates,\n        rangepicker = _this$picker$datepick.rangepicker;\n      this.selected = dates.reduce(function (years, timeValue) {\n        return pushUnique(years, startOfYearPeriod(timeValue, _this.step));\n      }, []);\n      if (rangepicker && rangepicker.dates) {\n        this.range = rangepicker.dates.map(function (timeValue) {\n          if (timeValue !== undefined) {\n            return startOfYearPeriod(timeValue, _this.step);\n          }\n        });\n      }\n    }\n\n    // Update the entire view UI\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      // refresh disabled years on every render in order to clear the ones added\n      // by beforeShow hook at previous render\n      this.disabled = [];\n      this.picker.setViewSwitchLabel(\"\".concat(this.first, \"-\").concat(this.last));\n      this.picker.setPrevBtnDisabled(this.first <= this.minYear);\n      this.picker.setNextBtnDisabled(this.last >= this.maxYear);\n      Array.from(this.grid.children).forEach(function (el, index) {\n        var classList = el.classList;\n        var current = _this2.start + index * _this2.step;\n        var date = dateValue(current, 0, 1);\n        el.className = \"datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm \".concat(_this2.cellClass);\n        if (_this2.isMinView) {\n          el.dataset.date = date;\n        }\n        el.textContent = el.dataset.year = current;\n        if (index === 0) {\n          classList.add('prev');\n        } else if (index === 11) {\n          classList.add('next');\n        }\n        if (current < _this2.minYear || current > _this2.maxYear) {\n          classList.add('disabled');\n        }\n        if (_this2.range) {\n          var _this2$range = _slicedToArray(_this2.range, 2),\n            rangeStart = _this2$range[0],\n            rangeEnd = _this2$range[1];\n          if (current > rangeStart && current < rangeEnd) {\n            classList.add('range');\n          }\n          if (current === rangeStart) {\n            classList.add('range-start');\n          }\n          if (current === rangeEnd) {\n            classList.add('range-end');\n          }\n        }\n        if (_this2.selected.includes(current)) {\n          classList.add('selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white');\n          classList.remove('text-gray-900', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600');\n        }\n        if (current === _this2.focused) {\n          classList.add('focused');\n        }\n        if (_this2.beforeShow) {\n          _this2.performBeforeHook(el, current, date);\n        }\n      });\n    }\n\n    // Update the view UI by applying the changes of selected and focused items\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var _this3 = this;\n      var _ref = this.range || [],\n        _ref2 = _slicedToArray(_ref, 2),\n        rangeStart = _ref2[0],\n        rangeEnd = _ref2[1];\n      this.grid.querySelectorAll('.range, .range-start, .range-end, .selected, .focused').forEach(function (el) {\n        el.classList.remove('range', 'range-start', 'range-end', 'selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark!bg-primary-600', 'dark:text-white', 'focused');\n      });\n      Array.from(this.grid.children).forEach(function (el) {\n        var current = Number(el.textContent);\n        var classList = el.classList;\n        if (current > rangeStart && current < rangeEnd) {\n          classList.add('range');\n        }\n        if (current === rangeStart) {\n          classList.add('range-start');\n        }\n        if (current === rangeEnd) {\n          classList.add('range-end');\n        }\n        if (_this3.selected.includes(current)) {\n          classList.add('selected', 'bg-blue-700', '!bg-primary-700', 'text-white', 'dark:bg-blue-600', 'dark:!bg-primary-600', 'dark:text-white');\n          classList.remove('text-gray-900', 'hover:bg-gray-100', 'dark:text-white', 'dark:hover:bg-gray-600');\n        }\n        if (current === _this3.focused) {\n          classList.add('focused');\n        }\n      });\n    }\n\n    // Update the view UI by applying the change of focused item\n  }, {\n    key: \"refreshFocus\",\n    value: function refreshFocus() {\n      var index = Math.round((this.focused - this.start) / this.step);\n      this.grid.querySelectorAll('.focused').forEach(function (el) {\n        el.classList.remove('focused');\n      });\n      this.grid.children[index].classList.add('focused');\n    }\n  }]);\n}(View);\n\nfunction triggerDatepickerEvent(datepicker, type) {\n  var detail = {\n    date: datepicker.getDate(),\n    viewDate: new Date(datepicker.picker.viewDate),\n    viewId: datepicker.picker.currentView.id,\n    datepicker: datepicker\n  };\n  datepicker.element.dispatchEvent(new CustomEvent(type, {\n    detail: detail\n  }));\n}\n\n// direction: -1 (to previous), 1 (to next)\nfunction goToPrevOrNext(datepicker, direction) {\n  var _datepicker$config = datepicker.config,\n    minDate = _datepicker$config.minDate,\n    maxDate = _datepicker$config.maxDate;\n  var _datepicker$picker = datepicker.picker,\n    currentView = _datepicker$picker.currentView,\n    viewDate = _datepicker$picker.viewDate;\n  var newViewDate;\n  switch (currentView.id) {\n    case 0:\n      newViewDate = addMonths(viewDate, direction);\n      break;\n    case 1:\n      newViewDate = addYears(viewDate, direction);\n      break;\n    default:\n      newViewDate = addYears(viewDate, direction * currentView.navStep);\n  }\n  newViewDate = limitToRange(newViewDate, minDate, maxDate);\n  datepicker.picker.changeFocus(newViewDate).render();\n}\nfunction switchView(datepicker) {\n  var viewId = datepicker.picker.currentView.id;\n  if (viewId === datepicker.config.maxView) {\n    return;\n  }\n  datepicker.picker.changeView(viewId + 1).render();\n}\nfunction unfocus(datepicker) {\n  if (datepicker.config.updateOnBlur) {\n    datepicker.update({\n      autohide: true\n    });\n  } else {\n    datepicker.refresh('input');\n    datepicker.hide();\n  }\n}\n\nfunction goToSelectedMonthOrYear(datepicker, selection) {\n  var picker = datepicker.picker;\n  var viewDate = new Date(picker.viewDate);\n  var viewId = picker.currentView.id;\n  var newDate = viewId === 1 ? addMonths(viewDate, selection - viewDate.getMonth()) : addYears(viewDate, selection - viewDate.getFullYear());\n  picker.changeFocus(newDate).changeView(viewId - 1).render();\n}\nfunction onClickTodayBtn(datepicker) {\n  var picker = datepicker.picker;\n  var currentDate = today();\n  if (datepicker.config.todayBtnMode === 1) {\n    if (datepicker.config.autohide) {\n      datepicker.setDate(currentDate);\n      return;\n    }\n    datepicker.setDate(currentDate, {\n      render: false\n    });\n    picker.update();\n  }\n  if (picker.viewDate !== currentDate) {\n    picker.changeFocus(currentDate);\n  }\n  picker.changeView(0).render();\n}\nfunction onClickClearBtn(datepicker) {\n  datepicker.setDate({\n    clear: true\n  });\n}\nfunction onClickViewSwitch(datepicker) {\n  switchView(datepicker);\n}\nfunction onClickPrevBtn(datepicker) {\n  goToPrevOrNext(datepicker, -1);\n}\nfunction onClickNextBtn(datepicker) {\n  goToPrevOrNext(datepicker, 1);\n}\n\n// For the picker's main block to delegete the events from `datepicker-cell`s\nfunction onClickView(datepicker, ev) {\n  var target = findElementInEventPath(ev, '.datepicker-cell');\n  if (!target || target.classList.contains('disabled')) {\n    return;\n  }\n  var _datepicker$picker$cu = datepicker.picker.currentView,\n    id = _datepicker$picker$cu.id,\n    isMinView = _datepicker$picker$cu.isMinView;\n  if (isMinView) {\n    datepicker.setDate(Number(target.dataset.date));\n  } else if (id === 1) {\n    goToSelectedMonthOrYear(datepicker, Number(target.dataset.month));\n  } else {\n    goToSelectedMonthOrYear(datepicker, Number(target.dataset.year));\n  }\n}\nfunction onClickPicker(datepicker) {\n  if (!datepicker.inline && !datepicker.config.disableTouchKeyboard) {\n    datepicker.inputField.focus();\n  }\n}\n\nfunction processPickerOptions(picker, options) {\n  if (options.title !== undefined) {\n    if (options.title) {\n      picker.controls.title.textContent = options.title;\n      showElement(picker.controls.title);\n    } else {\n      picker.controls.title.textContent = '';\n      hideElement(picker.controls.title);\n    }\n  }\n  if (options.prevArrow) {\n    var prevBtn = picker.controls.prevBtn;\n    emptyChildNodes(prevBtn);\n    options.prevArrow.forEach(function (node) {\n      prevBtn.appendChild(node.cloneNode(true));\n    });\n  }\n  if (options.nextArrow) {\n    var nextBtn = picker.controls.nextBtn;\n    emptyChildNodes(nextBtn);\n    options.nextArrow.forEach(function (node) {\n      nextBtn.appendChild(node.cloneNode(true));\n    });\n  }\n  if (options.locale) {\n    picker.controls.todayBtn.textContent = options.locale.today;\n    picker.controls.clearBtn.textContent = options.locale.clear;\n  }\n  if (options.todayBtn !== undefined) {\n    if (options.todayBtn) {\n      showElement(picker.controls.todayBtn);\n    } else {\n      hideElement(picker.controls.todayBtn);\n    }\n  }\n  if (hasProperty(options, 'minDate') || hasProperty(options, 'maxDate')) {\n    var _picker$datepicker$co = picker.datepicker.config,\n      minDate = _picker$datepicker$co.minDate,\n      maxDate = _picker$datepicker$co.maxDate;\n    picker.controls.todayBtn.disabled = !isInRange(today(), minDate, maxDate);\n  }\n  if (options.clearBtn !== undefined) {\n    if (options.clearBtn) {\n      showElement(picker.controls.clearBtn);\n    } else {\n      hideElement(picker.controls.clearBtn);\n    }\n  }\n}\n\n// Compute view date to reset, which will be...\n// - the last item of the selected dates or defaultViewDate if no selection\n// - limitted to minDate or maxDate if it exceeds the range\nfunction computeResetViewDate(datepicker) {\n  var dates = datepicker.dates,\n    config = datepicker.config;\n  var viewDate = dates.length > 0 ? lastItemOf(dates) : config.defaultViewDate;\n  return limitToRange(viewDate, config.minDate, config.maxDate);\n}\n\n// Change current view's view date\nfunction setViewDate(picker, newDate) {\n  var oldViewDate = new Date(picker.viewDate);\n  var newViewDate = new Date(newDate);\n  var _picker$currentView = picker.currentView,\n    id = _picker$currentView.id,\n    year = _picker$currentView.year,\n    first = _picker$currentView.first,\n    last = _picker$currentView.last;\n  var viewYear = newViewDate.getFullYear();\n  picker.viewDate = newDate;\n  if (viewYear !== oldViewDate.getFullYear()) {\n    triggerDatepickerEvent(picker.datepicker, 'changeYear');\n  }\n  if (newViewDate.getMonth() !== oldViewDate.getMonth()) {\n    triggerDatepickerEvent(picker.datepicker, 'changeMonth');\n  }\n\n  // return whether the new date is in different period on time from the one\n  // displayed in the current view\n  // when true, the view needs to be re-rendered on the next UI refresh.\n  switch (id) {\n    case 0:\n      return newDate < first || newDate > last;\n    case 1:\n      return viewYear !== year;\n    default:\n      return viewYear < first || viewYear > last;\n  }\n}\nfunction getTextDirection(el) {\n  return window.getComputedStyle(el).direction;\n}\n\n// Class representing the picker UI\nvar Picker = /*#__PURE__*/function () {\n  function Picker(datepicker) {\n    _classCallCheck(this, Picker);\n    this.datepicker = datepicker;\n    var template = pickerTemplate.replace(/%buttonClass%/g, datepicker.config.buttonClass);\n    var element = this.element = parseHTML(template).firstChild;\n    var _element$firstChild$c = _slicedToArray(element.firstChild.children, 3),\n      header = _element$firstChild$c[0],\n      main = _element$firstChild$c[1],\n      footer = _element$firstChild$c[2];\n    var title = header.firstElementChild;\n    var _header$lastElementCh = _slicedToArray(header.lastElementChild.children, 3),\n      prevBtn = _header$lastElementCh[0],\n      viewSwitch = _header$lastElementCh[1],\n      nextBtn = _header$lastElementCh[2];\n    var _footer$firstChild$ch = _slicedToArray(footer.firstChild.children, 2),\n      todayBtn = _footer$firstChild$ch[0],\n      clearBtn = _footer$firstChild$ch[1];\n    var controls = {\n      title: title,\n      prevBtn: prevBtn,\n      viewSwitch: viewSwitch,\n      nextBtn: nextBtn,\n      todayBtn: todayBtn,\n      clearBtn: clearBtn\n    };\n    this.main = main;\n    this.controls = controls;\n    var elementClass = datepicker.inline ? 'inline' : 'dropdown';\n    element.classList.add(\"datepicker-\".concat(elementClass));\n    elementClass === 'dropdown' ? element.classList.add('dropdown', 'absolute', 'top-0', 'left-0', 'z-50', 'pt-2') : null;\n    processPickerOptions(this, datepicker.config);\n    this.viewDate = computeResetViewDate(datepicker);\n\n    // set up event listeners\n    registerListeners(datepicker, [[element, 'click', onClickPicker.bind(null, datepicker), {\n      capture: true\n    }], [main, 'click', onClickView.bind(null, datepicker)], [controls.viewSwitch, 'click', onClickViewSwitch.bind(null, datepicker)], [controls.prevBtn, 'click', onClickPrevBtn.bind(null, datepicker)], [controls.nextBtn, 'click', onClickNextBtn.bind(null, datepicker)], [controls.todayBtn, 'click', onClickTodayBtn.bind(null, datepicker)], [controls.clearBtn, 'click', onClickClearBtn.bind(null, datepicker)]]);\n\n    // set up views\n    this.views = [new DaysView(this), new MonthsView(this), new YearsView(this, {\n      id: 2,\n      name: 'years',\n      cellClass: 'year',\n      step: 1\n    }), new YearsView(this, {\n      id: 3,\n      name: 'decades',\n      cellClass: 'decade',\n      step: 10\n    })];\n    this.currentView = this.views[datepicker.config.startView];\n    this.currentView.render();\n    this.main.appendChild(this.currentView.element);\n    datepicker.config.container.appendChild(this.element);\n  }\n  return _createClass(Picker, [{\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      processPickerOptions(this, options);\n      this.views.forEach(function (view) {\n        view.init(options, false);\n      });\n      this.currentView.render();\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      this.datepicker.config.container.removeChild(this.element);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.active) {\n        return;\n      }\n      this.element.classList.add('active', 'block');\n      this.element.classList.remove('hidden');\n      this.active = true;\n      var datepicker = this.datepicker;\n      if (!datepicker.inline) {\n        // ensure picker's direction matches input's\n        var inputDirection = getTextDirection(datepicker.inputField);\n        if (inputDirection !== getTextDirection(datepicker.config.container)) {\n          this.element.dir = inputDirection;\n        } else if (this.element.dir) {\n          this.element.removeAttribute('dir');\n        }\n        this.place();\n        if (datepicker.config.disableTouchKeyboard) {\n          datepicker.inputField.blur();\n        }\n      }\n      triggerDatepickerEvent(datepicker, 'show');\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (!this.active) {\n        return;\n      }\n      this.datepicker.exitEditMode();\n      this.element.classList.remove('active', 'block');\n      this.element.classList.add('active', 'block', 'hidden');\n      this.active = false;\n      triggerDatepickerEvent(this.datepicker, 'hide');\n    }\n  }, {\n    key: \"place\",\n    value: function place() {\n      var _this$element = this.element,\n        classList = _this$element.classList,\n        style = _this$element.style;\n      var _this$datepicker = this.datepicker,\n        config = _this$datepicker.config,\n        inputField = _this$datepicker.inputField;\n      var container = config.container;\n      var _this$element$getBoun = this.element.getBoundingClientRect(),\n        calendarWidth = _this$element$getBoun.width,\n        calendarHeight = _this$element$getBoun.height;\n      var _container$getBoundin = container.getBoundingClientRect(),\n        containerLeft = _container$getBoundin.left,\n        containerTop = _container$getBoundin.top,\n        containerWidth = _container$getBoundin.width;\n      var _inputField$getBoundi = inputField.getBoundingClientRect(),\n        inputLeft = _inputField$getBoundi.left,\n        inputTop = _inputField$getBoundi.top,\n        inputWidth = _inputField$getBoundi.width,\n        inputHeight = _inputField$getBoundi.height;\n      var _config$orientation = config.orientation,\n        orientX = _config$orientation.x,\n        orientY = _config$orientation.y;\n      var scrollTop;\n      var left;\n      var top;\n      if (container === document.body) {\n        scrollTop = window.scrollY;\n        left = inputLeft + window.scrollX;\n        top = inputTop + scrollTop;\n      } else {\n        scrollTop = container.scrollTop;\n        left = inputLeft - containerLeft;\n        top = inputTop - containerTop + scrollTop;\n      }\n      if (orientX === 'auto') {\n        if (left < 0) {\n          // align to the left and move into visible area if input's left edge < window's\n          orientX = 'left';\n          left = 10;\n        } else if (left + calendarWidth > containerWidth) {\n          // align to the right if canlendar's right edge > container's\n          orientX = 'right';\n        } else {\n          orientX = getTextDirection(inputField) === 'rtl' ? 'right' : 'left';\n        }\n      }\n      if (orientX === 'right') {\n        left -= calendarWidth - inputWidth;\n      }\n      if (orientY === 'auto') {\n        orientY = top - calendarHeight < scrollTop ? 'bottom' : 'top';\n      }\n      if (orientY === 'top') {\n        top -= calendarHeight;\n      } else {\n        top += inputHeight;\n      }\n      classList.remove('datepicker-orient-top', 'datepicker-orient-bottom', 'datepicker-orient-right', 'datepicker-orient-left');\n      classList.add(\"datepicker-orient-\".concat(orientY), \"datepicker-orient-\".concat(orientX));\n      style.top = top ? \"\".concat(top, \"px\") : top;\n      style.left = left ? \"\".concat(left, \"px\") : left;\n    }\n  }, {\n    key: \"setViewSwitchLabel\",\n    value: function setViewSwitchLabel(labelText) {\n      this.controls.viewSwitch.textContent = labelText;\n    }\n  }, {\n    key: \"setPrevBtnDisabled\",\n    value: function setPrevBtnDisabled(disabled) {\n      this.controls.prevBtn.disabled = disabled;\n    }\n  }, {\n    key: \"setNextBtnDisabled\",\n    value: function setNextBtnDisabled(disabled) {\n      this.controls.nextBtn.disabled = disabled;\n    }\n  }, {\n    key: \"changeView\",\n    value: function changeView(viewId) {\n      var oldView = this.currentView;\n      var newView = this.views[viewId];\n      if (newView.id !== oldView.id) {\n        this.currentView = newView;\n        this._renderMethod = 'render';\n        triggerDatepickerEvent(this.datepicker, 'changeView');\n        this.main.replaceChild(newView.element, oldView.element);\n      }\n      return this;\n    }\n\n    // Change the focused date (view date)\n  }, {\n    key: \"changeFocus\",\n    value: function changeFocus(newViewDate) {\n      this._renderMethod = setViewDate(this, newViewDate) ? 'render' : 'refreshFocus';\n      this.views.forEach(function (view) {\n        view.updateFocus();\n      });\n      return this;\n    }\n\n    // Apply the change of the selected dates\n  }, {\n    key: \"update\",\n    value: function update() {\n      var newViewDate = computeResetViewDate(this.datepicker);\n      this._renderMethod = setViewDate(this, newViewDate) ? 'render' : 'refresh';\n      this.views.forEach(function (view) {\n        view.updateFocus();\n        view.updateSelection();\n      });\n      return this;\n    }\n\n    // Refresh the picker UI\n  }, {\n    key: \"render\",\n    value: function render() {\n      var quickRender = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var renderMethod = quickRender && this._renderMethod || 'render';\n      delete this._renderMethod;\n      this.currentView[renderMethod]();\n    }\n  }]);\n}();\n\n// Find the closest date that doesn't meet the condition for unavailable date\n// Returns undefined if no available date is found\n// addFn: function to calculate the next date\n//   - args: time value, amount\n// increase: amount to pass to addFn\n// testFn: function to test the unavailablity of the date\n//   - args: time value; retun: true if unavailable\nfunction findNextAvailableOne(date, addFn, increase, testFn, min, max) {\n  if (!isInRange(date, min, max)) {\n    return;\n  }\n  if (testFn(date)) {\n    var newDate = addFn(date, increase);\n    return findNextAvailableOne(newDate, addFn, increase, testFn, min, max);\n  }\n  return date;\n}\n\n// direction: -1 (left/up), 1 (right/down)\n// vertical: true for up/down, false for left/right\nfunction moveByArrowKey(datepicker, ev, direction, vertical) {\n  var picker = datepicker.picker;\n  var currentView = picker.currentView;\n  var step = currentView.step || 1;\n  var viewDate = picker.viewDate;\n  var addFn;\n  var testFn;\n  switch (currentView.id) {\n    case 0:\n      if (vertical) {\n        viewDate = addDays(viewDate, direction * 7);\n      } else if (ev.ctrlKey || ev.metaKey) {\n        viewDate = addYears(viewDate, direction);\n      } else {\n        viewDate = addDays(viewDate, direction);\n      }\n      addFn = addDays;\n      testFn = function testFn(date) {\n        return currentView.disabled.includes(date);\n      };\n      break;\n    case 1:\n      viewDate = addMonths(viewDate, vertical ? direction * 4 : direction);\n      addFn = addMonths;\n      testFn = function testFn(date) {\n        var dt = new Date(date);\n        var year = currentView.year,\n          disabled = currentView.disabled;\n        return dt.getFullYear() === year && disabled.includes(dt.getMonth());\n      };\n      break;\n    default:\n      viewDate = addYears(viewDate, direction * (vertical ? 4 : 1) * step);\n      addFn = addYears;\n      testFn = function testFn(date) {\n        return currentView.disabled.includes(startOfYearPeriod(date, step));\n      };\n  }\n  viewDate = findNextAvailableOne(viewDate, addFn, direction < 0 ? -step : step, testFn, currentView.minDate, currentView.maxDate);\n  if (viewDate !== undefined) {\n    picker.changeFocus(viewDate).render();\n  }\n}\nfunction onKeydown(datepicker, ev) {\n  if (ev.key === 'Tab') {\n    unfocus(datepicker);\n    return;\n  }\n  var picker = datepicker.picker;\n  var _picker$currentView = picker.currentView,\n    id = _picker$currentView.id,\n    isMinView = _picker$currentView.isMinView;\n  if (!picker.active) {\n    switch (ev.key) {\n      case 'ArrowDown':\n      case 'Escape':\n        picker.show();\n        break;\n      case 'Enter':\n        datepicker.update();\n        break;\n      default:\n        return;\n    }\n  } else if (datepicker.editMode) {\n    switch (ev.key) {\n      case 'Escape':\n        picker.hide();\n        break;\n      case 'Enter':\n        datepicker.exitEditMode({\n          update: true,\n          autohide: datepicker.config.autohide\n        });\n        break;\n      default:\n        return;\n    }\n  } else {\n    switch (ev.key) {\n      case 'Escape':\n        picker.hide();\n        break;\n      case 'ArrowLeft':\n        if (ev.ctrlKey || ev.metaKey) {\n          goToPrevOrNext(datepicker, -1);\n        } else if (ev.shiftKey) {\n          datepicker.enterEditMode();\n          return;\n        } else {\n          moveByArrowKey(datepicker, ev, -1, false);\n        }\n        break;\n      case 'ArrowRight':\n        if (ev.ctrlKey || ev.metaKey) {\n          goToPrevOrNext(datepicker, 1);\n        } else if (ev.shiftKey) {\n          datepicker.enterEditMode();\n          return;\n        } else {\n          moveByArrowKey(datepicker, ev, 1, false);\n        }\n        break;\n      case 'ArrowUp':\n        if (ev.ctrlKey || ev.metaKey) {\n          switchView(datepicker);\n        } else if (ev.shiftKey) {\n          datepicker.enterEditMode();\n          return;\n        } else {\n          moveByArrowKey(datepicker, ev, -1, true);\n        }\n        break;\n      case 'ArrowDown':\n        if (ev.shiftKey && !ev.ctrlKey && !ev.metaKey) {\n          datepicker.enterEditMode();\n          return;\n        }\n        moveByArrowKey(datepicker, ev, 1, true);\n        break;\n      case 'Enter':\n        if (isMinView) {\n          datepicker.setDate(picker.viewDate);\n        } else {\n          picker.changeView(id - 1).render();\n        }\n        break;\n      case 'Backspace':\n      case 'Delete':\n        datepicker.enterEditMode();\n        return;\n      default:\n        if (ev.key.length === 1 && !ev.ctrlKey && !ev.metaKey) {\n          datepicker.enterEditMode();\n        }\n        return;\n    }\n  }\n  ev.preventDefault();\n  ev.stopPropagation();\n}\nfunction onFocus(datepicker) {\n  if (datepicker.config.showOnFocus && !datepicker._showing) {\n    datepicker.show();\n  }\n}\n\n// for the prevention for entering edit mode while getting focus on click\nfunction onMousedown(datepicker, ev) {\n  var el = ev.target;\n  if (datepicker.picker.active || datepicker.config.showOnClick) {\n    el._active = el === document.activeElement;\n    el._clicking = setTimeout(function () {\n      delete el._active;\n      delete el._clicking;\n    }, 2000);\n  }\n}\nfunction onClickInput(datepicker, ev) {\n  var el = ev.target;\n  if (!el._clicking) {\n    return;\n  }\n  clearTimeout(el._clicking);\n  delete el._clicking;\n  if (el._active) {\n    datepicker.enterEditMode();\n  }\n  delete el._active;\n  if (datepicker.config.showOnClick) {\n    datepicker.show();\n  }\n}\nfunction onPaste(datepicker, ev) {\n  if (ev.clipboardData.types.includes('text/plain')) {\n    datepicker.enterEditMode();\n  }\n}\n\n// for the `document` to delegate the events from outside the picker/input field\nfunction onClickOutside(datepicker, ev) {\n  var element = datepicker.element;\n  if (element !== document.activeElement) {\n    return;\n  }\n  var pickerElem = datepicker.picker.element;\n  if (findElementInEventPath(ev, function (el) {\n    return el === element || el === pickerElem;\n  })) {\n    return;\n  }\n  unfocus(datepicker);\n}\n\nfunction stringifyDates(dates, config) {\n  return dates.map(function (dt) {\n    return formatDate(dt, config.format, config.locale);\n  }).join(config.dateDelimiter);\n}\n\n// parse input dates and create an array of time values for selection\n// returns undefined if there are no valid dates in inputDates\n// when origDates (current selection) is passed, the function works to mix\n// the input dates into the current selection\nfunction processInputDates(datepicker, inputDates) {\n  var clear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var config = datepicker.config,\n    origDates = datepicker.dates,\n    rangepicker = datepicker.rangepicker;\n  if (inputDates.length === 0) {\n    // empty input is considered valid unless origiDates is passed\n    return clear ? [] : undefined;\n  }\n  var rangeEnd = rangepicker && datepicker === rangepicker.datepickers[1];\n  var newDates = inputDates.reduce(function (dates, dt) {\n    var date = parseDate(dt, config.format, config.locale);\n    if (date === undefined) {\n      return dates;\n    }\n    if (config.pickLevel > 0) {\n      // adjust to 1st of the month/Jan 1st of the year\n      // or to the last day of the monh/Dec 31st of the year if the datepicker\n      // is the range-end picker of a rangepicker\n      var _dt = new Date(date);\n      if (config.pickLevel === 1) {\n        date = rangeEnd ? _dt.setMonth(_dt.getMonth() + 1, 0) : _dt.setDate(1);\n      } else {\n        date = rangeEnd ? _dt.setFullYear(_dt.getFullYear() + 1, 0, 0) : _dt.setMonth(0, 1);\n      }\n    }\n    if (isInRange(date, config.minDate, config.maxDate) && !dates.includes(date) && !config.datesDisabled.includes(date) && !config.daysOfWeekDisabled.includes(new Date(date).getDay())) {\n      dates.push(date);\n    }\n    return dates;\n  }, []);\n  if (newDates.length === 0) {\n    return;\n  }\n  if (config.multidate && !clear) {\n    // get the synmetric difference between origDates and newDates\n    newDates = newDates.reduce(function (dates, date) {\n      if (!origDates.includes(date)) {\n        dates.push(date);\n      }\n      return dates;\n    }, origDates.filter(function (date) {\n      return !newDates.includes(date);\n    }));\n  }\n  // do length check always because user can input multiple dates regardless of the mode\n  return config.maxNumberOfDates && newDates.length > config.maxNumberOfDates ? newDates.slice(config.maxNumberOfDates * -1) : newDates;\n}\n\n// refresh the UI elements\n// modes: 1: input only, 2, picker only, 3 both\nfunction refreshUI(datepicker) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  var quickRender = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var config = datepicker.config,\n    picker = datepicker.picker,\n    inputField = datepicker.inputField;\n  if (mode & 2) {\n    var newView = picker.active ? config.pickLevel : config.startView;\n    picker.update().changeView(newView).render(quickRender);\n  }\n  if (mode & 1 && inputField) {\n    inputField.value = stringifyDates(datepicker.dates, config);\n  }\n}\nfunction _setDate(datepicker, inputDates, options) {\n  var clear = options.clear,\n    render = options.render,\n    autohide = options.autohide;\n  if (render === undefined) {\n    render = true;\n  }\n  if (!render) {\n    autohide = false;\n  } else if (autohide === undefined) {\n    autohide = datepicker.config.autohide;\n  }\n  var newDates = processInputDates(datepicker, inputDates, clear);\n  if (!newDates) {\n    return;\n  }\n  if (newDates.toString() !== datepicker.dates.toString()) {\n    datepicker.dates = newDates;\n    refreshUI(datepicker, render ? 3 : 1);\n    triggerDatepickerEvent(datepicker, 'changeDate');\n  } else {\n    refreshUI(datepicker, 1);\n  }\n  if (autohide) {\n    datepicker.hide();\n  }\n}\n\n/**\n * Class representing a date picker\n */\nvar Datepicker = /*#__PURE__*/function () {\n  /**\n   * Create a date picker\n   * @param  {Element} element - element to bind a date picker\n   * @param  {Object} [options] - config options\n   * @param  {DateRangePicker} [rangepicker] - DateRangePicker instance the\n   * date picker belongs to. Use this only when creating date picker as a part\n   * of date range picker\n   */\n  function Datepicker(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var rangepicker = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n    _classCallCheck(this, Datepicker);\n    element.datepicker = this;\n    this.element = element;\n\n    // set up config\n    var config = this.config = Object.assign({\n      buttonClass: options.buttonClass && String(options.buttonClass) || 'button',\n      container: document.body,\n      defaultViewDate: today(),\n      maxDate: undefined,\n      minDate: undefined\n    }, processOptions(defaultOptions, this));\n    this._options = options;\n    Object.assign(config, processOptions(options, this));\n\n    // configure by type\n    var inline = this.inline = element.tagName !== 'INPUT';\n    var inputField;\n    var initialDates;\n    if (inline) {\n      config.container = element;\n      initialDates = stringToArray(element.dataset.date, config.dateDelimiter);\n      delete element.dataset.date;\n    } else {\n      var container = options.container ? document.querySelector(options.container) : null;\n      if (container) {\n        config.container = container;\n      }\n      inputField = this.inputField = element;\n      inputField.classList.add('datepicker-input');\n      initialDates = stringToArray(inputField.value, config.dateDelimiter);\n    }\n    if (rangepicker) {\n      // check validiry\n      var index = rangepicker.inputs.indexOf(inputField);\n      var datepickers = rangepicker.datepickers;\n      if (index < 0 || index > 1 || !Array.isArray(datepickers)) {\n        throw Error('Invalid rangepicker object.');\n      }\n      // attach itaelf to the rangepicker here so that processInputDates() can\n      // determine if this is the range-end picker of the rangepicker while\n      // setting inital values when pickLevel > 0\n      datepickers[index] = this;\n      // add getter for rangepicker\n      Object.defineProperty(this, 'rangepicker', {\n        get: function get() {\n          return rangepicker;\n        }\n      });\n    }\n\n    // set initial dates\n    this.dates = [];\n    // process initial value\n    var inputDateValues = processInputDates(this, initialDates);\n    if (inputDateValues && inputDateValues.length > 0) {\n      this.dates = inputDateValues;\n    }\n    if (inputField) {\n      inputField.value = stringifyDates(this.dates, config);\n    }\n    var picker = this.picker = new Picker(this);\n    if (inline) {\n      this.show();\n    } else {\n      // set up event listeners in other modes\n      var onMousedownDocument = onClickOutside.bind(null, this);\n      var listeners = [[inputField, 'keydown', onKeydown.bind(null, this)], [inputField, 'focus', onFocus.bind(null, this)], [inputField, 'mousedown', onMousedown.bind(null, this)], [inputField, 'click', onClickInput.bind(null, this)], [inputField, 'paste', onPaste.bind(null, this)], [document, 'mousedown', onMousedownDocument], [document, 'touchstart', onMousedownDocument], [window, 'resize', picker.place.bind(picker)]];\n      registerListeners(this, listeners);\n    }\n  }\n\n  /**\n   * Format Date object or time value in given format and language\n   * @param  {Date|Number} date - date or time value to format\n   * @param  {String|Object} format - format string or object that contains\n   * toDisplay() custom formatter, whose signature is\n   * - args:\n   *   - date: {Date} - Date instance of the date passed to the method\n   *   - format: {Object} - the format object passed to the method\n   *   - locale: {Object} - locale for the language specified by `lang`\n   * - return:\n   *     {String} formatted date\n   * @param  {String} [lang=en] - language code for the locale to use\n   * @return {String} formatted date\n   */\n  return _createClass(Datepicker, [{\n    key: \"active\",\n    get:\n    /**\n     * @type {Boolean} - Whether the picker element is shown. `true` whne shown\n     */\n    function get() {\n      return !!(this.picker && this.picker.active);\n    }\n\n    /**\n     * @type {HTMLDivElement} - DOM object of picker element\n     */\n  }, {\n    key: \"pickerElement\",\n    get: function get() {\n      return this.picker ? this.picker.element : undefined;\n    }\n\n    /**\n     * Set new values to the config options\n     * @param {Object} options - config options to update\n     */\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var picker = this.picker;\n      var newOptions = processOptions(options, this);\n      Object.assign(this._options, options);\n      Object.assign(this.config, newOptions);\n      picker.setOptions(newOptions);\n      refreshUI(this, 3);\n    }\n\n    /**\n     * Show the picker element\n     */\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.inputField) {\n        if (this.inputField.disabled) {\n          return;\n        }\n        if (this.inputField !== document.activeElement) {\n          this._showing = true;\n          this.inputField.focus();\n          delete this._showing;\n        }\n      }\n      this.picker.show();\n    }\n\n    /**\n     * Hide the picker element\n     * Not available on inline picker\n     */\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.inline) {\n        return;\n      }\n      this.picker.hide();\n      this.picker.update().changeView(this.config.startView).render();\n    }\n\n    /**\n     * Destroy the Datepicker instance\n     * @return {Detepicker} - the instance destroyed\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.hide();\n      unregisterListeners(this);\n      this.picker.detach();\n      if (!this.inline) {\n        this.inputField.classList.remove('datepicker-input');\n      }\n      delete this.element.datepicker;\n      return this;\n    }\n\n    /**\n     * Get the selected date(s)\n     *\n     * The method returns a Date object of selected date by default, and returns\n     * an array of selected dates in multidate mode. If format string is passed,\n     * it returns date string(s) formatted in given format.\n     *\n     * @param  {String} [format] - Format string to stringify the date(s)\n     * @return {Date|String|Date[]|String[]} - selected date(s), or if none is\n     * selected, empty array in multidate mode and untitled in sigledate mode\n     */\n  }, {\n    key: \"getDate\",\n    value: function getDate() {\n      var _this = this;\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var callback = format ? function (date) {\n        return formatDate(date, format, _this.config.locale);\n      } : function (date) {\n        return new Date(date);\n      };\n      if (this.config.multidate) {\n        return this.dates.map(callback);\n      }\n      if (this.dates.length > 0) {\n        return callback(this.dates[0]);\n      }\n    }\n\n    /**\n     * Set selected date(s)\n     *\n     * In multidate mode, you can pass multiple dates as a series of arguments\n     * or an array. (Since each date is parsed individually, the type of the\n     * dates doesn't have to be the same.)\n     * The given dates are used to toggle the select status of each date. The\n     * number of selected dates is kept from exceeding the length set to\n     * maxNumberOfDates.\n     *\n     * With clear: true option, the method can be used to clear the selection\n     * and to replace the selection instead of toggling in multidate mode.\n     * If the option is passed with no date arguments or an empty dates array,\n     * it works as \"clear\" (clear the selection then set nothing), and if the\n     * option is passed with new dates to select, it works as \"replace\" (clear\n     * the selection then set the given dates)\n     *\n     * When render: false option is used, the method omits re-rendering the\n     * picker element. In this case, you need to call refresh() method later in\n     * order for the picker element to reflect the changes. The input field is\n     * refreshed always regardless of this option.\n     *\n     * When invalid (unparsable, repeated, disabled or out-of-range) dates are\n     * passed, the method ignores them and applies only valid ones. In the case\n     * that all the given dates are invalid, which is distinguished from passing\n     * no dates, the method considers it as an error and leaves the selection\n     * untouched.\n     *\n     * @param {...(Date|Number|String)|Array} [dates] - Date strings, Date\n     * objects, time values or mix of those for new selection\n     * @param {Object} [options] - function options\n     * - clear: {boolean} - Whether to clear the existing selection\n     *     defualt: false\n     * - render: {boolean} - Whether to re-render the picker element\n     *     default: true\n     * - autohide: {boolean} - Whether to hide the picker element after re-render\n     *     Ignored when used with render: false\n     *     default: config.autohide\n     */\n  }, {\n    key: \"setDate\",\n    value: function setDate() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var dates = [].concat(args);\n      var opts = {};\n      var lastArg = lastItemOf(args);\n      if (_typeof(lastArg) === 'object' && !Array.isArray(lastArg) && !(lastArg instanceof Date) && lastArg) {\n        Object.assign(opts, dates.pop());\n      }\n      var inputDates = Array.isArray(dates[0]) ? dates[0] : dates;\n      _setDate(this, inputDates, opts);\n    }\n\n    /**\n     * Update the selected date(s) with input field's value\n     * Not available on inline picker\n     *\n     * The input field will be refreshed with properly formatted date string.\n     *\n     * @param  {Object} [options] - function options\n     * - autohide: {boolean} - whether to hide the picker element after refresh\n     *     default: false\n     */\n  }, {\n    key: \"update\",\n    value: function update() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      if (this.inline) {\n        return;\n      }\n      var opts = {\n        clear: true,\n        autohide: !!(options && options.autohide)\n      };\n      var inputDates = stringToArray(this.inputField.value, this.config.dateDelimiter);\n      _setDate(this, inputDates, opts);\n    }\n\n    /**\n     * Refresh the picker element and the associated input field\n     * @param {String} [target] - target item when refreshing one item only\n     * 'picker' or 'input'\n     * @param {Boolean} [forceRender] - whether to re-render the picker element\n     * regardless of its state instead of optimized refresh\n     */\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var forceRender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (target && typeof target !== 'string') {\n        forceRender = target;\n        target = undefined;\n      }\n      var mode;\n      if (target === 'picker') {\n        mode = 2;\n      } else if (target === 'input') {\n        mode = 1;\n      } else {\n        mode = 3;\n      }\n      refreshUI(this, mode, !forceRender);\n    }\n\n    /**\n     * Enter edit mode\n     * Not available on inline picker or when the picker element is hidden\n     */\n  }, {\n    key: \"enterEditMode\",\n    value: function enterEditMode() {\n      if (this.inline || !this.picker.active || this.editMode) {\n        return;\n      }\n      this.editMode = true;\n      this.inputField.classList.add('in-edit', 'border-blue-700', '!border-primary-700');\n    }\n\n    /**\n     * Exit from edit mode\n     * Not available on inline picker\n     * @param  {Object} [options] - function options\n     * - update: {boolean} - whether to call update() after exiting\n     *     If false, input field is revert to the existing selection\n     *     default: false\n     */\n  }, {\n    key: \"exitEditMode\",\n    value: function exitEditMode() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      if (this.inline || !this.editMode) {\n        return;\n      }\n      var opts = Object.assign({\n        update: false\n      }, options);\n      delete this.editMode;\n      this.inputField.classList.remove('in-edit', 'border-blue-700', '!border-primary-700');\n      if (opts.update) {\n        this.update(opts);\n      }\n    }\n  }], [{\n    key: \"formatDate\",\n    value: function formatDate$1(date, format, lang) {\n      return formatDate(date, format, lang && locales[lang] || locales.en);\n    }\n\n    /**\n     * Parse date string\n     * @param  {String|Date|Number} dateStr - date string, Date object or time\n     * value to parse\n     * @param  {String|Object} format - format string or object that contains\n     * toValue() custom parser, whose signature is\n     * - args:\n     *   - dateStr: {String|Date|Number} - the dateStr passed to the method\n     *   - format: {Object} - the format object passed to the method\n     *   - locale: {Object} - locale for the language specified by `lang`\n     * - return:\n     *     {Date|Number} parsed date or its time value\n     * @param  {String} [lang=en] - language code for the locale to use\n     * @return {Number} time value of parsed date\n     */\n  }, {\n    key: \"parseDate\",\n    value: function parseDate$1(dateStr, format, lang) {\n      return parseDate(dateStr, format, lang && locales[lang] || locales.en);\n    }\n\n    /**\n     * @type {Object} - Installed locales in `[languageCode]: localeObject` format\n     * en`:_English (US)_ is pre-installed.\n     */\n  }, {\n    key: \"locales\",\n    get: function get() {\n      return locales;\n    }\n  }]);\n}();\n\n// filter out the config options inapproprite to pass to Datepicker\nfunction filterOptions(options) {\n  var newOpts = Object.assign({}, options);\n  delete newOpts.inputs;\n  delete newOpts.allowOneSidedRange;\n  delete newOpts.maxNumberOfDates; // to ensure each datepicker handles a single date\n\n  return newOpts;\n}\nfunction setupDatepicker(rangepicker, changeDateListener, el, options) {\n  registerListeners(rangepicker, [[el, 'changeDate', changeDateListener]]);\n  new Datepicker(el, options, rangepicker);\n}\nfunction onChangeDate(rangepicker, ev) {\n  // to prevent both datepickers trigger the other side's update each other\n  if (rangepicker._updating) {\n    return;\n  }\n  rangepicker._updating = true;\n  var target = ev.target;\n  if (target.datepicker === undefined) {\n    return;\n  }\n  var datepickers = rangepicker.datepickers;\n  var setDateOptions = {\n    render: false\n  };\n  var changedSide = rangepicker.inputs.indexOf(target);\n  var otherSide = changedSide === 0 ? 1 : 0;\n  var changedDate = datepickers[changedSide].dates[0];\n  var otherDate = datepickers[otherSide].dates[0];\n  if (changedDate !== undefined && otherDate !== undefined) {\n    // if the start of the range > the end, swap them\n    if (changedSide === 0 && changedDate > otherDate) {\n      datepickers[0].setDate(otherDate, setDateOptions);\n      datepickers[1].setDate(changedDate, setDateOptions);\n    } else if (changedSide === 1 && changedDate < otherDate) {\n      datepickers[0].setDate(changedDate, setDateOptions);\n      datepickers[1].setDate(otherDate, setDateOptions);\n    }\n  } else if (!rangepicker.allowOneSidedRange) {\n    // to prevent the range from becoming one-sided, copy changed side's\n    // selection (no matter if it's empty) to the other side\n    if (changedDate !== undefined || otherDate !== undefined) {\n      setDateOptions.clear = true;\n      datepickers[otherSide].setDate(datepickers[changedSide].dates, setDateOptions);\n    }\n  }\n  datepickers[0].picker.update().render();\n  datepickers[1].picker.update().render();\n  delete rangepicker._updating;\n}\n\n/**\n * Class representing a date range picker\n */\nvar DateRangePicker = /*#__PURE__*/function () {\n  /**\n   * Create a date range picker\n   * @param  {Element} element - element to bind a date range picker\n   * @param  {Object} [options] - config options\n   */\n  function DateRangePicker(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, DateRangePicker);\n    var inputs = Array.isArray(options.inputs) ? options.inputs : Array.from(element.querySelectorAll('input'));\n    if (inputs.length < 2) {\n      return;\n    }\n    element.rangepicker = this;\n    this.element = element;\n    this.inputs = inputs.slice(0, 2);\n    this.allowOneSidedRange = !!options.allowOneSidedRange;\n    var changeDateListener = onChangeDate.bind(null, this);\n    var cleanOptions = filterOptions(options);\n    // in order for initial date setup to work right when pcicLvel > 0,\n    // let Datepicker constructor add the instance to the rangepicker\n    var datepickers = [];\n    Object.defineProperty(this, 'datepickers', {\n      get: function get() {\n        return datepickers;\n      }\n    });\n    setupDatepicker(this, changeDateListener, this.inputs[0], cleanOptions);\n    setupDatepicker(this, changeDateListener, this.inputs[1], cleanOptions);\n    Object.freeze(datepickers);\n    // normalize the range if inital dates are given\n    if (datepickers[0].dates.length > 0) {\n      onChangeDate(this, {\n        target: this.inputs[0]\n      });\n    } else if (datepickers[1].dates.length > 0) {\n      onChangeDate(this, {\n        target: this.inputs[1]\n      });\n    }\n  }\n\n  /**\n   * @type {Array} - selected date of the linked date pickers\n   */\n  return _createClass(DateRangePicker, [{\n    key: \"dates\",\n    get: function get() {\n      return this.datepickers.length === 2 ? [this.datepickers[0].dates[0], this.datepickers[1].dates[0]] : undefined;\n    }\n\n    /**\n     * Set new values to the config options\n     * @param {Object} options - config options to update\n     */\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      this.allowOneSidedRange = !!options.allowOneSidedRange;\n      var cleanOptions = filterOptions(options);\n      this.datepickers[0].setOptions(cleanOptions);\n      this.datepickers[1].setOptions(cleanOptions);\n    }\n\n    /**\n     * Destroy the DateRangePicker instance\n     * @return {DateRangePicker} - the instance destroyed\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.datepickers[0].destroy();\n      this.datepickers[1].destroy();\n      unregisterListeners(this);\n      delete this.element.rangepicker;\n    }\n\n    /**\n     * Get the start and end dates of the date range\n     *\n     * The method returns Date objects by default. If format string is passed,\n     * it returns date strings formatted in given format.\n     * The result array always contains 2 items (start date/end date) and\n     * undefined is used for unselected side. (e.g. If none is selected,\n     * the result will be [undefined, undefined]. If only the end date is set\n     * when allowOneSidedRange config option is true, [undefined, endDate] will\n     * be returned.)\n     *\n     * @param  {String} [format] - Format string to stringify the dates\n     * @return {Array} - Start and end dates\n     */\n  }, {\n    key: \"getDates\",\n    value: function getDates() {\n      var _this = this;\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var callback = format ? function (date) {\n        return formatDate(date, format, _this.datepickers[0].config.locale);\n      } : function (date) {\n        return new Date(date);\n      };\n      return this.dates.map(function (date) {\n        return date === undefined ? date : callback(date);\n      });\n    }\n\n    /**\n     * Set the start and end dates of the date range\n     *\n     * The method calls datepicker.setDate() internally using each of the\n     * arguments in start→end order.\n     *\n     * When a clear: true option object is passed instead of a date, the method\n     * clears the date.\n     *\n     * If an invalid date, the same date as the current one or an option object\n     * without clear: true is passed, the method considers that argument as an\n     * \"ineffective\" argument because calling datepicker.setDate() with those\n     * values makes no changes to the date selection.\n     *\n     * When the allowOneSidedRange config option is false, passing {clear: true}\n     * to clear the range works only when it is done to the last effective\n     * argument (in other words, passed to rangeEnd or to rangeStart along with\n     * ineffective rangeEnd). This is because when the date range is changed,\n     * it gets normalized based on the last change at the end of the changing\n     * process.\n     *\n     * @param {Date|Number|String|Object} rangeStart - Start date of the range\n     * or {clear: true} to clear the date\n     * @param {Date|Number|String|Object} rangeEnd - End date of the range\n     * or {clear: true} to clear the date\n     */\n  }, {\n    key: \"setDates\",\n    value: function setDates(rangeStart, rangeEnd) {\n      var _this$datepickers = _slicedToArray(this.datepickers, 2),\n        datepicker0 = _this$datepickers[0],\n        datepicker1 = _this$datepickers[1];\n      var origDates = this.dates;\n\n      // If range normalization runs on every change, we can't set a new range\n      // that starts after the end of the current range correctly because the\n      // normalization process swaps start↔︎end right after setting the new start\n      // date. To prevent this, the normalization process needs to run once after\n      // both of the new dates are set.\n      this._updating = true;\n      datepicker0.setDate(rangeStart);\n      datepicker1.setDate(rangeEnd);\n      delete this._updating;\n      if (datepicker1.dates[0] !== origDates[1]) {\n        onChangeDate(this, {\n          target: this.inputs[1]\n        });\n      } else if (datepicker0.dates[0] !== origDates[0]) {\n        onChangeDate(this, {\n          target: this.inputs[0]\n        });\n      }\n    }\n  }]);\n}();\n\nexports.DateRangePicker = DateRangePicker;\nexports.Datepicker = Datepicker;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { AccordionItem, AccordionOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { AccordionInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: AccordionOptions = {\n    alwaysOpen: false,\n    activeClasses: 'bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white',\n    inactiveClasses: 'text-gray-500 dark:text-gray-400',\n    onOpen: () => {},\n    onClose: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Accordion implements AccordionInterface {\n    _instanceId: string;\n    _accordionEl: HTMLElement;\n    _items: AccordionItem[];\n    _options: AccordionOptions;\n    _clickHandler: EventListenerOrEventListenerObject;\n    _initialized: boolean;\n\n    constructor(\n        accordionEl: HTMLElement | null = null,\n        items: AccordionItem[] = [],\n        options: AccordionOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : accordionEl.id;\n        this._accordionEl = accordionEl;\n        this._items = items;\n        this._options = { ...Default, ...options };\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Accordion',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._items.length && !this._initialized) {\n            // show accordion item based on click\n            this._items.forEach((item) => {\n                if (item.active) {\n                    this.open(item.id);\n                }\n\n                const clickHandler = () => {\n                    this.toggle(item.id);\n                };\n\n                item.triggerEl.addEventListener('click', clickHandler);\n\n                // Store the clickHandler in a property of the item for removal later\n                item.clickHandler = clickHandler;\n            });\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._items.length && this._initialized) {\n            this._items.forEach((item) => {\n                item.triggerEl.removeEventListener('click', item.clickHandler);\n\n                // Clean up by deleting the clickHandler property from the item\n                delete item.clickHandler;\n            });\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Accordion', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    getItem(id: string) {\n        return this._items.filter((item) => item.id === id)[0];\n    }\n\n    open(id: string) {\n        const item = this.getItem(id);\n\n        // don't hide other accordions if always open\n        if (!this._options.alwaysOpen) {\n            this._items.map((i) => {\n                if (i !== item) {\n                    i.triggerEl.classList.remove(\n                        ...this._options.activeClasses.split(' ')\n                    );\n                    i.triggerEl.classList.add(\n                        ...this._options.inactiveClasses.split(' ')\n                    );\n                    i.targetEl.classList.add('hidden');\n                    i.triggerEl.setAttribute('aria-expanded', 'false');\n                    i.active = false;\n\n                    // rotate icon if set\n                    if (i.iconEl) {\n                        i.iconEl.classList.add('rotate-180');\n                    }\n                }\n            });\n        }\n\n        // show active item\n        item.triggerEl.classList.add(...this._options.activeClasses.split(' '));\n        item.triggerEl.classList.remove(\n            ...this._options.inactiveClasses.split(' ')\n        );\n        item.triggerEl.setAttribute('aria-expanded', 'true');\n        item.targetEl.classList.remove('hidden');\n        item.active = true;\n\n        // rotate icon if set\n        if (item.iconEl) {\n            item.iconEl.classList.remove('rotate-180');\n        }\n\n        // callback function\n        this._options.onOpen(this, item);\n    }\n\n    toggle(id: string) {\n        const item = this.getItem(id);\n\n        if (item.active) {\n            this.close(id);\n        } else {\n            this.open(id);\n        }\n\n        // callback function\n        this._options.onToggle(this, item);\n    }\n\n    close(id: string) {\n        const item = this.getItem(id);\n\n        item.triggerEl.classList.remove(\n            ...this._options.activeClasses.split(' ')\n        );\n        item.triggerEl.classList.add(\n            ...this._options.inactiveClasses.split(' ')\n        );\n        item.targetEl.classList.add('hidden');\n        item.triggerEl.setAttribute('aria-expanded', 'false');\n        item.active = false;\n\n        // rotate icon if set\n        if (item.iconEl) {\n            item.iconEl.classList.add('rotate-180');\n        }\n\n        // callback function\n        this._options.onClose(this, item);\n    }\n\n    updateOnOpen(callback: () => void) {\n        this._options.onOpen = callback;\n    }\n\n    updateOnClose(callback: () => void) {\n        this._options.onClose = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initAccordions() {\n    document.querySelectorAll('[data-accordion]').forEach(($accordionEl) => {\n        const alwaysOpen = $accordionEl.getAttribute('data-accordion');\n        const activeClasses = $accordionEl.getAttribute('data-active-classes');\n        const inactiveClasses = $accordionEl.getAttribute(\n            'data-inactive-classes'\n        );\n\n        const items = [] as AccordionItem[];\n        $accordionEl\n            .querySelectorAll('[data-accordion-target]')\n            .forEach(($triggerEl) => {\n                // Consider only items that directly belong to $accordionEl\n                // (to make nested accordions work).\n                if ($triggerEl.closest('[data-accordion]') === $accordionEl) {\n                    const item = {\n                        id: $triggerEl.getAttribute('data-accordion-target'),\n                        triggerEl: $triggerEl,\n                        targetEl: document.querySelector(\n                            $triggerEl.getAttribute('data-accordion-target')\n                        ),\n                        iconEl: $triggerEl.querySelector(\n                            '[data-accordion-icon]'\n                        ),\n                        active:\n                            $triggerEl.getAttribute('aria-expanded') === 'true'\n                                ? true\n                                : false,\n                    } as AccordionItem;\n                    items.push(item);\n                }\n            });\n\n        new Accordion($accordionEl as HTMLElement, items, {\n            alwaysOpen: alwaysOpen === 'open' ? true : false,\n            activeClasses: activeClasses\n                ? activeClasses\n                : Default.activeClasses,\n            inactiveClasses: inactiveClasses\n                ? inactiveClasses\n                : Default.inactiveClasses,\n        } as AccordionOptions);\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Accordion = Accordion;\n    window.initAccordions = initAccordions;\n}\n\nexport default Accordion;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type {\n    CarouselOptions,\n    CarouselItem,\n    IndicatorItem,\n    RotationItems,\n} from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { CarouselInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: CarouselOptions = {\n    defaultPosition: 0,\n    indicators: {\n        items: [],\n        activeClasses: 'bg-white dark:bg-gray-800',\n        inactiveClasses:\n            'bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800',\n    },\n    interval: 3000,\n    onNext: () => {},\n    onPrev: () => {},\n    onChange: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Carousel implements CarouselInterface {\n    _instanceId: string;\n    _carouselEl: HTMLElement;\n    _items: CarouselItem[];\n    _indicators: IndicatorItem[];\n    _activeItem: CarouselItem;\n    _intervalDuration: number;\n    _intervalInstance: number;\n    _options: CarouselOptions;\n    _initialized: boolean;\n\n    constructor(\n        carouselEl: HTMLElement | null = null,\n        items: CarouselItem[] = [],\n        options: CarouselOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : carouselEl.id;\n        this._carouselEl = carouselEl;\n        this._items = items;\n        this._options = {\n            ...Default,\n            ...options,\n            indicators: { ...Default.indicators, ...options.indicators },\n        };\n        this._activeItem = this.getItem(this._options.defaultPosition);\n        this._indicators = this._options.indicators.items;\n        this._intervalDuration = this._options.interval;\n        this._intervalInstance = null;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Carousel',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    /**\n     * initialize carousel and items based on active one\n     */\n    init() {\n        if (this._items.length && !this._initialized) {\n            this._items.map((item: CarouselItem) => {\n                item.el.classList.add(\n                    'absolute',\n                    'inset-0',\n                    'transition-transform',\n                    'transform'\n                );\n            });\n\n            // if no active item is set then first position is default\n            if (this.getActiveItem()) {\n                this.slideTo(this.getActiveItem().position);\n            } else {\n                this.slideTo(0);\n            }\n\n            this._indicators.map((indicator, position) => {\n                indicator.el.addEventListener('click', () => {\n                    this.slideTo(position);\n                });\n            });\n\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Carousel', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    getItem(position: number) {\n        return this._items[position];\n    }\n\n    /**\n     * Slide to the element based on id\n     * @param {*} position\n     */\n    slideTo(position: number) {\n        const nextItem: CarouselItem = this._items[position];\n        const rotationItems: RotationItems = {\n            left:\n                nextItem.position === 0\n                    ? this._items[this._items.length - 1]\n                    : this._items[nextItem.position - 1],\n            middle: nextItem,\n            right:\n                nextItem.position === this._items.length - 1\n                    ? this._items[0]\n                    : this._items[nextItem.position + 1],\n        };\n        this._rotate(rotationItems);\n        this._setActiveItem(nextItem);\n        if (this._intervalInstance) {\n            this.pause();\n            this.cycle();\n        }\n\n        this._options.onChange(this);\n    }\n\n    /**\n     * Based on the currently active item it will go to the next position\n     */\n    next() {\n        const activeItem = this.getActiveItem();\n        let nextItem = null;\n\n        // check if last item\n        if (activeItem.position === this._items.length - 1) {\n            nextItem = this._items[0];\n        } else {\n            nextItem = this._items[activeItem.position + 1];\n        }\n\n        this.slideTo(nextItem.position);\n\n        // callback function\n        this._options.onNext(this);\n    }\n\n    /**\n     * Based on the currently active item it will go to the previous position\n     */\n    prev() {\n        const activeItem = this.getActiveItem();\n        let prevItem = null;\n\n        // check if first item\n        if (activeItem.position === 0) {\n            prevItem = this._items[this._items.length - 1];\n        } else {\n            prevItem = this._items[activeItem.position - 1];\n        }\n\n        this.slideTo(prevItem.position);\n\n        // callback function\n        this._options.onPrev(this);\n    }\n\n    /**\n     * This method applies the transform classes based on the left, middle, and right rotation carousel items\n     * @param {*} rotationItems\n     */\n    _rotate(rotationItems: RotationItems) {\n        // reset\n        this._items.map((item: CarouselItem) => {\n            item.el.classList.add('hidden');\n        });\n\n        // Handling the case when there is only one item\n        if (this._items.length === 1) {\n            rotationItems.middle.el.classList.remove(\n                '-translate-x-full',\n                'translate-x-full',\n                'translate-x-0',\n                'hidden',\n                'z-10'\n            );\n            rotationItems.middle.el.classList.add('translate-x-0', 'z-20');\n            return;\n        }\n\n        // left item (previously active)\n        rotationItems.left.el.classList.remove(\n            '-translate-x-full',\n            'translate-x-full',\n            'translate-x-0',\n            'hidden',\n            'z-20'\n        );\n\n        rotationItems.left.el.classList.add('-translate-x-full', 'z-10');\n\n        // currently active item\n        rotationItems.middle.el.classList.remove(\n            '-translate-x-full',\n            'translate-x-full',\n            'translate-x-0',\n            'hidden',\n            'z-10'\n        );\n        rotationItems.middle.el.classList.add('translate-x-0', 'z-30');\n\n        // right item (upcoming active)\n        rotationItems.right.el.classList.remove(\n            '-translate-x-full',\n            'translate-x-full',\n            'translate-x-0',\n            'hidden',\n            'z-30'\n        );\n        rotationItems.right.el.classList.add('translate-x-full', 'z-20');\n    }\n\n    /**\n     * Set an interval to cycle through the carousel items\n     */\n    cycle() {\n        if (typeof window !== 'undefined') {\n            this._intervalInstance = window.setInterval(() => {\n                this.next();\n            }, this._intervalDuration);\n        }\n    }\n\n    /**\n     * Clears the cycling interval\n     */\n    pause() {\n        clearInterval(this._intervalInstance);\n    }\n\n    /**\n     * Get the currently active item\n     */\n    getActiveItem() {\n        return this._activeItem;\n    }\n\n    /**\n     * Set the currently active item and data attribute\n     * @param {*} position\n     */\n    _setActiveItem(item: CarouselItem) {\n        this._activeItem = item;\n        const position = item.position;\n\n        // update the indicators if available\n        if (this._indicators.length) {\n            this._indicators.map((indicator) => {\n                indicator.el.setAttribute('aria-current', 'false');\n                indicator.el.classList.remove(\n                    ...this._options.indicators.activeClasses.split(' ')\n                );\n                indicator.el.classList.add(\n                    ...this._options.indicators.inactiveClasses.split(' ')\n                );\n            });\n            this._indicators[position].el.classList.add(\n                ...this._options.indicators.activeClasses.split(' ')\n            );\n            this._indicators[position].el.classList.remove(\n                ...this._options.indicators.inactiveClasses.split(' ')\n            );\n            this._indicators[position].el.setAttribute('aria-current', 'true');\n        }\n    }\n\n    updateOnNext(callback: () => void) {\n        this._options.onNext = callback;\n    }\n\n    updateOnPrev(callback: () => void) {\n        this._options.onPrev = callback;\n    }\n\n    updateOnChange(callback: () => void) {\n        this._options.onChange = callback;\n    }\n}\n\nexport function initCarousels() {\n    document.querySelectorAll('[data-carousel]').forEach(($carouselEl) => {\n        const interval = $carouselEl.getAttribute('data-carousel-interval');\n        const slide =\n            $carouselEl.getAttribute('data-carousel') === 'slide'\n                ? true\n                : false;\n\n        const items: CarouselItem[] = [];\n        let defaultPosition = 0;\n        if ($carouselEl.querySelectorAll('[data-carousel-item]').length) {\n            Array.from(\n                $carouselEl.querySelectorAll('[data-carousel-item]')\n            ).map(($carouselItemEl: HTMLElement, position: number) => {\n                items.push({\n                    position: position,\n                    el: $carouselItemEl,\n                });\n\n                if (\n                    $carouselItemEl.getAttribute('data-carousel-item') ===\n                    'active'\n                ) {\n                    defaultPosition = position;\n                }\n            });\n        }\n\n        const indicators: IndicatorItem[] = [];\n        if ($carouselEl.querySelectorAll('[data-carousel-slide-to]').length) {\n            Array.from(\n                $carouselEl.querySelectorAll('[data-carousel-slide-to]')\n            ).map(($indicatorEl: HTMLElement) => {\n                indicators.push({\n                    position: parseInt(\n                        $indicatorEl.getAttribute('data-carousel-slide-to')\n                    ),\n                    el: $indicatorEl,\n                });\n            });\n        }\n\n        const carousel = new Carousel($carouselEl as HTMLElement, items, {\n            defaultPosition: defaultPosition,\n            indicators: {\n                items: indicators,\n            },\n            interval: interval ? interval : Default.interval,\n        } as CarouselOptions);\n\n        if (slide) {\n            carousel.cycle();\n        }\n\n        // check for controls\n        const carouselNextEl = $carouselEl.querySelector(\n            '[data-carousel-next]'\n        );\n        const carouselPrevEl = $carouselEl.querySelector(\n            '[data-carousel-prev]'\n        );\n\n        if (carouselNextEl) {\n            carouselNextEl.addEventListener('click', () => {\n                carousel.next();\n            });\n        }\n\n        if (carouselPrevEl) {\n            carouselPrevEl.addEventListener('click', () => {\n                carousel.prev();\n            });\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Carousel = Carousel;\n    window.initCarousels = initCarousels;\n}\n\nexport default Carousel;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { CopyClipboardOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { CopyClipboardInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: CopyClipboardOptions = {\n    htmlEntities: false,\n    contentType: 'input',\n    onCopy: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass CopyClipboard implements CopyClipboardInterface {\n    _instanceId: string;\n    _triggerEl: HTMLElement | null;\n    _targetEl: HTMLInputElement | null;\n    _options: CopyClipboardOptions;\n    _initialized: boolean;\n    _triggerElClickHandler: EventListenerOrEventListenerObject;\n    _inputHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        triggerEl: HTMLElement | null = null,\n        targetEl: HTMLInputElement | null = null,\n        options: CopyClipboardOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n\n        this._triggerEl = triggerEl;\n        this._targetEl = targetEl;\n        this._options = { ...Default, ...options };\n        this._initialized = false;\n\n        this.init();\n        instances.addInstance(\n            'CopyClipboard',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._targetEl && this._triggerEl && !this._initialized) {\n            this._triggerElClickHandler = () => {\n                this.copy();\n            };\n\n            // clicking on the trigger element should copy the value of the target element\n            if (this._triggerEl) {\n                this._triggerEl.addEventListener(\n                    'click',\n                    this._triggerElClickHandler\n                );\n            }\n\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._triggerEl && this._targetEl && this._initialized) {\n            if (this._triggerEl) {\n                this._triggerEl.removeEventListener(\n                    'click',\n                    this._triggerElClickHandler\n                );\n            }\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('CopyClipboard', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    getTargetValue() {\n        if (this._options.contentType === 'input') {\n            return this._targetEl.value;\n        }\n\n        if (this._options.contentType === 'innerHTML') {\n            return this._targetEl.innerHTML;\n        }\n\n        if (this._options.contentType === 'textContent') {\n            return this._targetEl.textContent.replace(/\\s+/g, ' ').trim();\n        }\n    }\n\n    copy() {\n        let textToCopy = this.getTargetValue();\n\n        // Check if HTMLEntities option is enabled\n        if (this._options.htmlEntities) {\n            // Encode the text using HTML entities\n            textToCopy = this.decodeHTML(textToCopy);\n        }\n\n        // Create a temporary textarea element\n        const tempTextArea = document.createElement('textarea');\n        tempTextArea.value = textToCopy;\n        document.body.appendChild(tempTextArea);\n\n        // Select the text inside the textarea and copy it to the clipboard\n        tempTextArea.select();\n        document.execCommand('copy');\n\n        // Remove the temporary textarea\n        document.body.removeChild(tempTextArea);\n\n        // Callback function\n        this._options.onCopy(this);\n\n        return textToCopy;\n    }\n\n    // Function to encode text into HTML entities\n    decodeHTML(html: string) {\n        const textarea = document.createElement('textarea');\n        textarea.innerHTML = html;\n        return textarea.textContent;\n    }\n\n    updateOnCopyCallback(callback: () => void) {\n        this._options.onCopy = callback;\n    }\n}\n\nexport function initCopyClipboards() {\n    document\n        .querySelectorAll('[data-copy-to-clipboard-target]')\n        .forEach(($triggerEl) => {\n            const targetId = $triggerEl.getAttribute(\n                'data-copy-to-clipboard-target'\n            );\n            const $targetEl = document.getElementById(targetId);\n            const contentType = $triggerEl.getAttribute(\n                'data-copy-to-clipboard-content-type'\n            );\n            const htmlEntities = $triggerEl.getAttribute(\n                'data-copy-to-clipboard-html-entities'\n            );\n\n            // check if the target element exists\n            if ($targetEl) {\n                if (\n                    !instances.instanceExists(\n                        'CopyClipboard',\n                        $targetEl.getAttribute('id')\n                    )\n                ) {\n                    new CopyClipboard(\n                        $triggerEl as HTMLElement,\n                        $targetEl as HTMLInputElement,\n                        {\n                            htmlEntities:\n                                htmlEntities && htmlEntities === 'true'\n                                    ? true\n                                    : Default.htmlEntities,\n                            contentType: contentType\n                                ? contentType\n                                : Default.contentType,\n                        } as CopyClipboardOptions\n                    );\n                }\n            } else {\n                console.error(\n                    `The target element with id \"${targetId}\" does not exist. Please check the data-copy-to-clipboard-target attribute.`\n                );\n            }\n        });\n}\n\nif (typeof window !== 'undefined') {\n    window.CopyClipboard = CopyClipboard;\n    window.initClipboards = initCopyClipboards;\n}\n\nexport default CopyClipboard;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { CollapseOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { CollapseInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: CollapseOptions = {\n    onCollapse: () => {},\n    onExpand: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Collapse implements CollapseInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement | null;\n    _triggerEl: HTMLElement | null;\n    _options: CollapseOptions;\n    _visible: boolean;\n    _initialized: boolean;\n    _clickHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        targetEl: HTMLElement | null = null,\n        triggerEl: HTMLElement | null = null,\n        options: CollapseOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._targetEl = targetEl;\n        this._triggerEl = triggerEl;\n        this._options = { ...Default, ...options };\n        this._visible = false;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Collapse',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._triggerEl && this._targetEl && !this._initialized) {\n            if (this._triggerEl.hasAttribute('aria-expanded')) {\n                this._visible =\n                    this._triggerEl.getAttribute('aria-expanded') === 'true';\n            } else {\n                // fix until v2 not to break previous single collapses which became dismiss\n                this._visible = !this._targetEl.classList.contains('hidden');\n            }\n\n            this._clickHandler = () => {\n                this.toggle();\n            };\n\n            this._triggerEl.addEventListener('click', this._clickHandler);\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._triggerEl && this._initialized) {\n            this._triggerEl.removeEventListener('click', this._clickHandler);\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Collapse', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    collapse() {\n        this._targetEl.classList.add('hidden');\n        if (this._triggerEl) {\n            this._triggerEl.setAttribute('aria-expanded', 'false');\n        }\n        this._visible = false;\n\n        // callback function\n        this._options.onCollapse(this);\n    }\n\n    expand() {\n        this._targetEl.classList.remove('hidden');\n        if (this._triggerEl) {\n            this._triggerEl.setAttribute('aria-expanded', 'true');\n        }\n        this._visible = true;\n\n        // callback function\n        this._options.onExpand(this);\n    }\n\n    toggle() {\n        if (this._visible) {\n            this.collapse();\n        } else {\n            this.expand();\n        }\n        // callback function\n        this._options.onToggle(this);\n    }\n\n    updateOnCollapse(callback: () => void) {\n        this._options.onCollapse = callback;\n    }\n\n    updateOnExpand(callback: () => void) {\n        this._options.onExpand = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initCollapses() {\n    document\n        .querySelectorAll('[data-collapse-toggle]')\n        .forEach(($triggerEl) => {\n            const targetId = $triggerEl.getAttribute('data-collapse-toggle');\n            const $targetEl = document.getElementById(targetId);\n\n            // check if the target element exists\n            if ($targetEl) {\n                if (\n                    !instances.instanceExists(\n                        'Collapse',\n                        $targetEl.getAttribute('id')\n                    )\n                ) {\n                    new Collapse(\n                        $targetEl as HTMLElement,\n                        $triggerEl as HTMLElement\n                    );\n                } else {\n                    // if instance exists already for the same target element then create a new one with a different trigger element\n                    new Collapse(\n                        $targetEl as HTMLElement,\n                        $triggerEl as HTMLElement,\n                        {},\n                        {\n                            id:\n                                $targetEl.getAttribute('id') +\n                                '_' +\n                                instances._generateRandomId(),\n                        }\n                    );\n                }\n            } else {\n                console.error(\n                    `The target element with id \"${targetId}\" does not exist. Please check the data-collapse-toggle attribute.`\n                );\n            }\n        });\n}\n\nif (typeof window !== 'undefined') {\n    window.Collapse = Collapse;\n    window.initCollapses = initCollapses;\n}\n\nexport default Collapse;\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { DatepickerOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { DatepickerInterface } from './interface';\nimport instances from '../../dom/instances';\n\nimport {\n    Datepicker as FlowbiteDatepicker,\n    DateRangePicker as FlowbiteDateRangePicker,\n} from 'flowbite-datepicker';\n\nconst Default: DatepickerOptions = {\n    defaultDatepickerId: null,\n    autohide: false,\n    format: 'mm/dd/yyyy',\n    maxDate: null,\n    minDate: null,\n    orientation: 'bottom',\n    buttons: false,\n    autoSelectToday: 0,\n    title: null,\n    language: 'en',\n    rangePicker: false,\n    onShow: () => {},\n    onHide: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Datepicker implements DatepickerInterface {\n    _instanceId: string;\n    _datepickerEl: HTMLElement;\n    _datepickerInstance: FlowbiteDatepicker | FlowbiteDateRangePicker | null;\n    _options: DatepickerOptions;\n    _initialized: boolean;\n\n    constructor(\n        datepickerEl: HTMLElement | null = null,\n        options: DatepickerOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : datepickerEl.id;\n        this._datepickerEl = datepickerEl;\n        this._datepickerInstance = null;\n        this._options = { ...Default, ...options };\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Datepicker',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._datepickerEl && !this._initialized) {\n            if (this._options.rangePicker) {\n                this._datepickerInstance = new FlowbiteDateRangePicker(\n                    this._datepickerEl,\n                    this._getDatepickerOptions(this._options)\n                );\n            } else {\n                this._datepickerInstance = new FlowbiteDatepicker(\n                    this._datepickerEl,\n                    this._getDatepickerOptions(this._options)\n                );\n            }\n\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            this._initialized = false;\n            this._datepickerInstance.destroy();\n        }\n    }\n\n    removeInstance() {\n        this.destroy();\n        instances.removeInstance('Datepicker', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    getDatepickerInstance() {\n        return this._datepickerInstance;\n    }\n\n    getDate() {\n        if (\n            this._options.rangePicker &&\n            this._datepickerInstance instanceof FlowbiteDateRangePicker\n        ) {\n            return this._datepickerInstance.getDates();\n        }\n\n        if (\n            !this._options.rangePicker &&\n            this._datepickerInstance instanceof FlowbiteDatepicker\n        ) {\n            return this._datepickerInstance.getDate();\n        }\n    }\n\n    setDate(date: any) {\n        if (\n            this._options.rangePicker &&\n            this._datepickerInstance instanceof FlowbiteDateRangePicker\n        ) {\n            return this._datepickerInstance.setDates(date);\n        }\n\n        if (\n            !this._options.rangePicker &&\n            this._datepickerInstance instanceof FlowbiteDatepicker\n        ) {\n            return this._datepickerInstance.setDate(date);\n        }\n    }\n\n    show() {\n        this._datepickerInstance.show();\n        this._options.onShow(this);\n    }\n\n    hide() {\n        this._datepickerInstance.hide();\n        this._options.onHide(this);\n    }\n\n    _getDatepickerOptions(options: DatepickerOptions) {\n        const datepickerOptions = {} as any;\n\n        if (options.buttons) {\n            datepickerOptions.todayBtn = true;\n            datepickerOptions.clearBtn = true;\n\n            if (options.autoSelectToday) {\n                datepickerOptions.todayBtnMode = 1;\n            }\n        }\n\n        if (options.autohide) {\n            datepickerOptions.autohide = true;\n        }\n\n        if (options.format) {\n            datepickerOptions.format = options.format;\n        }\n\n        if (options.maxDate) {\n            datepickerOptions.maxDate = options.maxDate;\n        }\n\n        if (options.minDate) {\n            datepickerOptions.minDate = options.minDate;\n        }\n\n        if (options.orientation) {\n            datepickerOptions.orientation = options.orientation;\n        }\n\n        if (options.title) {\n            datepickerOptions.title = options.title;\n        }\n\n        if (options.language) {\n            datepickerOptions.language = options.language;\n        }\n\n        return datepickerOptions;\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n}\n\nexport function initDatepickers() {\n    document\n        .querySelectorAll(\n            '[datepicker], [inline-datepicker], [date-rangepicker]'\n        )\n        .forEach(($datepickerEl) => {\n            if ($datepickerEl) {\n                const buttons =\n                    $datepickerEl.hasAttribute('datepicker-buttons');\n                const autoselectToday = $datepickerEl.hasAttribute(\n                    'datepicker-autoselect-today'\n                );\n                const autohide = $datepickerEl.hasAttribute(\n                    'datepicker-autohide'\n                );\n                const format = $datepickerEl.getAttribute('datepicker-format');\n                const maxDate = $datepickerEl.getAttribute(\n                    'datepicker-max-date'\n                );\n                const minDate = $datepickerEl.getAttribute(\n                    'datepicker-min-date'\n                );\n                const orientation = $datepickerEl.getAttribute(\n                    'datepicker-orientation'\n                );\n                const title = $datepickerEl.getAttribute('datepicker-title');\n                const language = $datepickerEl.getAttribute(\n                    'datepicker-language'\n                );\n                const rangePicker =\n                    $datepickerEl.hasAttribute('date-rangepicker');\n                new Datepicker(\n                    $datepickerEl as HTMLElement,\n                    {\n                        buttons: buttons ? buttons : Default.buttons,\n                        autoSelectToday: autoselectToday\n                            ? autoselectToday\n                            : Default.autoSelectToday,\n                        autohide: autohide ? autohide : Default.autohide,\n                        format: format ? format : Default.format,\n                        maxDate: maxDate ? maxDate : Default.maxDate,\n                        minDate: minDate ? minDate : Default.minDate,\n                        orientation: orientation\n                            ? orientation\n                            : Default.orientation,\n                        title: title ? title : Default.title,\n                        language: language ? language : Default.language,\n                        rangePicker: rangePicker\n                            ? rangePicker\n                            : Default.rangePicker,\n                    } as DatepickerOptions\n                );\n            } else {\n                console.error(\n                    `The datepicker element does not exist. Please check the datepicker attribute.`\n                );\n            }\n        });\n}\n\nif (typeof window !== 'undefined') {\n    window.Datepicker = Datepicker;\n    window.initDatepickers = initDatepickers;\n}\n\nexport default Datepicker;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { DialOptions, DialTriggerType } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { DialInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: DialOptions = {\n    triggerType: 'hover',\n    onShow: () => {},\n    onHide: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Dial implements DialInterface {\n    _instanceId: string;\n    _parentEl: HTMLElement;\n    _triggerEl: HTMLElement;\n    _targetEl: HTMLElement;\n    _options: DialOptions;\n    _visible: boolean;\n    _initialized: boolean;\n    _showEventHandler: EventListenerOrEventListenerObject;\n    _hideEventHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        parentEl: HTMLElement | null = null,\n        triggerEl: HTMLElement | null = null,\n        targetEl: HTMLElement | null = null,\n        options: DialOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._parentEl = parentEl;\n        this._triggerEl = triggerEl;\n        this._targetEl = targetEl;\n        this._options = { ...Default, ...options };\n        this._visible = false;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Dial',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._triggerEl && this._targetEl && !this._initialized) {\n            const triggerEventTypes = this._getTriggerEventTypes(\n                this._options.triggerType\n            );\n\n            this._showEventHandler = () => {\n                this.show();\n            };\n\n            triggerEventTypes.showEvents.forEach((ev: string) => {\n                this._triggerEl.addEventListener(ev, this._showEventHandler);\n                this._targetEl.addEventListener(ev, this._showEventHandler);\n            });\n\n            this._hideEventHandler = () => {\n                if (!this._parentEl.matches(':hover')) {\n                    this.hide();\n                }\n            };\n\n            triggerEventTypes.hideEvents.forEach((ev: string) => {\n                this._parentEl.addEventListener(ev, this._hideEventHandler);\n            });\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            const triggerEventTypes = this._getTriggerEventTypes(\n                this._options.triggerType\n            );\n\n            triggerEventTypes.showEvents.forEach((ev: string) => {\n                this._triggerEl.removeEventListener(ev, this._showEventHandler);\n                this._targetEl.removeEventListener(ev, this._showEventHandler);\n            });\n\n            triggerEventTypes.hideEvents.forEach((ev: string) => {\n                this._parentEl.removeEventListener(ev, this._hideEventHandler);\n            });\n\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Dial', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    hide() {\n        this._targetEl.classList.add('hidden');\n        if (this._triggerEl) {\n            this._triggerEl.setAttribute('aria-expanded', 'false');\n        }\n        this._visible = false;\n\n        // callback function\n        this._options.onHide(this);\n    }\n\n    show() {\n        this._targetEl.classList.remove('hidden');\n        if (this._triggerEl) {\n            this._triggerEl.setAttribute('aria-expanded', 'true');\n        }\n        this._visible = true;\n\n        // callback function\n        this._options.onShow(this);\n    }\n\n    toggle() {\n        if (this._visible) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    }\n\n    isHidden() {\n        return !this._visible;\n    }\n\n    isVisible() {\n        return this._visible;\n    }\n\n    _getTriggerEventTypes(triggerType: DialTriggerType) {\n        switch (triggerType) {\n            case 'hover':\n                return {\n                    showEvents: ['mouseenter', 'focus'],\n                    hideEvents: ['mouseleave', 'blur'],\n                };\n            case 'click':\n                return {\n                    showEvents: ['click', 'focus'],\n                    hideEvents: ['focusout', 'blur'],\n                };\n            case 'none':\n                return {\n                    showEvents: [],\n                    hideEvents: [],\n                };\n            default:\n                return {\n                    showEvents: ['mouseenter', 'focus'],\n                    hideEvents: ['mouseleave', 'blur'],\n                };\n        }\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initDials() {\n    document.querySelectorAll('[data-dial-init]').forEach(($parentEl) => {\n        const $triggerEl = $parentEl.querySelector('[data-dial-toggle]');\n\n        if ($triggerEl) {\n            const dialId = $triggerEl.getAttribute('data-dial-toggle');\n            const $dialEl = document.getElementById(dialId);\n\n            if ($dialEl) {\n                const triggerType =\n                    $triggerEl.getAttribute('data-dial-trigger');\n                new Dial(\n                    $parentEl as HTMLElement,\n                    $triggerEl as HTMLElement,\n                    $dialEl as HTMLElement,\n                    {\n                        triggerType: triggerType\n                            ? triggerType\n                            : Default.triggerType,\n                    } as DialOptions\n                );\n            } else {\n                console.error(\n                    `Dial with id ${dialId} does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?`\n                );\n            }\n        } else {\n            console.error(\n                `Dial with id ${$parentEl.id} does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Dial = Dial;\n    window.initDials = initDials;\n}\n\nexport default Dial;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { DismissOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { DismissInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: DismissOptions = {\n    transition: 'transition-opacity',\n    duration: 300,\n    timing: 'ease-out',\n    onHide: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Dismiss implements DismissInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement | null;\n    _triggerEl: HTMLElement | null;\n    _options: DismissOptions;\n    _initialized: boolean;\n    _clickHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        targetEl: HTMLElement | null = null,\n        triggerEl: HTMLElement | null = null,\n        options: DismissOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._targetEl = targetEl;\n        this._triggerEl = triggerEl;\n        this._options = { ...Default, ...options };\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Dismiss',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._triggerEl && this._targetEl && !this._initialized) {\n            this._clickHandler = () => {\n                this.hide();\n            };\n            this._triggerEl.addEventListener('click', this._clickHandler);\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._triggerEl && this._initialized) {\n            this._triggerEl.removeEventListener('click', this._clickHandler);\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Dismiss', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    hide() {\n        this._targetEl.classList.add(\n            this._options.transition,\n            `duration-${this._options.duration}`,\n            this._options.timing,\n            'opacity-0'\n        );\n        setTimeout(() => {\n            this._targetEl.classList.add('hidden');\n        }, this._options.duration);\n\n        // callback function\n        this._options.onHide(this, this._targetEl);\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n}\n\nexport function initDismisses() {\n    document.querySelectorAll('[data-dismiss-target]').forEach(($triggerEl) => {\n        const targetId = $triggerEl.getAttribute('data-dismiss-target');\n        const $dismissEl = document.querySelector(targetId);\n\n        if ($dismissEl) {\n            new Dismiss($dismissEl as HTMLElement, $triggerEl as HTMLElement);\n        } else {\n            console.error(\n                `The dismiss element with id \"${targetId}\" does not exist. Please check the data-dismiss-target attribute.`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Dismiss = Dismiss;\n    window.initDismisses = initDismisses;\n}\n\nexport default Dismiss;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { DrawerOptions, PlacementClasses } from './types';\nimport type { InstanceOptions, EventListenerInstance } from '../../dom/types';\nimport { DrawerInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: DrawerOptions = {\n    placement: 'left',\n    bodyScrolling: false,\n    backdrop: true,\n    edge: false,\n    edgeOffset: 'bottom-[60px]',\n    backdropClasses: 'bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30',\n    onShow: () => {},\n    onHide: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Drawer implements DrawerInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement;\n    _triggerEl: HTMLElement;\n    _options: DrawerOptions;\n    _visible: boolean;\n    _eventListenerInstances: EventListenerInstance[] = [];\n    _handleEscapeKey: EventListenerOrEventListenerObject;\n    _initialized: boolean;\n\n    constructor(\n        targetEl: HTMLElement | null = null,\n        options: DrawerOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._targetEl = targetEl;\n        this._options = { ...Default, ...options };\n        this._visible = false;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Drawer',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        // set initial accessibility attributes\n        if (this._targetEl && !this._initialized) {\n            this._targetEl.setAttribute('aria-hidden', 'true');\n            this._targetEl.classList.add('transition-transform');\n\n            // set base placement classes\n            this._getPlacementClasses(this._options.placement).base.map((c) => {\n                this._targetEl.classList.add(c);\n            });\n\n            this._handleEscapeKey = (event: KeyboardEvent) => {\n                if (event.key === 'Escape') {\n                    // if 'Escape' key is pressed\n                    if (this.isVisible()) {\n                        // if the Drawer is visible\n                        this.hide(); // hide the Drawer\n                    }\n                }\n            };\n\n            // add keyboard event listener to document\n            document.addEventListener('keydown', this._handleEscapeKey);\n\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            this.removeAllEventListenerInstances();\n            this._destroyBackdropEl();\n\n            // Remove the keyboard event listener\n            document.removeEventListener('keydown', this._handleEscapeKey);\n\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Drawer', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    hide() {\n        // based on the edge option show placement classes\n        if (this._options.edge) {\n            this._getPlacementClasses(\n                this._options.placement + '-edge'\n            ).active.map((c) => {\n                this._targetEl.classList.remove(c);\n            });\n            this._getPlacementClasses(\n                this._options.placement + '-edge'\n            ).inactive.map((c) => {\n                this._targetEl.classList.add(c);\n            });\n        } else {\n            this._getPlacementClasses(this._options.placement).active.map(\n                (c) => {\n                    this._targetEl.classList.remove(c);\n                }\n            );\n            this._getPlacementClasses(this._options.placement).inactive.map(\n                (c) => {\n                    this._targetEl.classList.add(c);\n                }\n            );\n        }\n\n        // set accessibility attributes\n        this._targetEl.setAttribute('aria-hidden', 'true');\n        this._targetEl.removeAttribute('aria-modal');\n        this._targetEl.removeAttribute('role');\n\n        // enable body scroll\n        if (!this._options.bodyScrolling) {\n            document.body.classList.remove('overflow-hidden');\n        }\n\n        // destroy backdrop\n        if (this._options.backdrop) {\n            this._destroyBackdropEl();\n        }\n\n        this._visible = false;\n\n        // callback function\n        this._options.onHide(this);\n    }\n\n    show() {\n        if (this._options.edge) {\n            this._getPlacementClasses(\n                this._options.placement + '-edge'\n            ).active.map((c) => {\n                this._targetEl.classList.add(c);\n            });\n            this._getPlacementClasses(\n                this._options.placement + '-edge'\n            ).inactive.map((c) => {\n                this._targetEl.classList.remove(c);\n            });\n        } else {\n            this._getPlacementClasses(this._options.placement).active.map(\n                (c) => {\n                    this._targetEl.classList.add(c);\n                }\n            );\n            this._getPlacementClasses(this._options.placement).inactive.map(\n                (c) => {\n                    this._targetEl.classList.remove(c);\n                }\n            );\n        }\n\n        // set accessibility attributes\n        this._targetEl.setAttribute('aria-modal', 'true');\n        this._targetEl.setAttribute('role', 'dialog');\n        this._targetEl.removeAttribute('aria-hidden');\n\n        // disable body scroll\n        if (!this._options.bodyScrolling) {\n            document.body.classList.add('overflow-hidden');\n        }\n\n        // show backdrop\n        if (this._options.backdrop) {\n            this._createBackdrop();\n        }\n\n        this._visible = true;\n\n        // callback function\n        this._options.onShow(this);\n    }\n\n    toggle() {\n        if (this.isVisible()) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    }\n\n    _createBackdrop() {\n        if (!this._visible) {\n            const backdropEl = document.createElement('div');\n            backdropEl.setAttribute('drawer-backdrop', '');\n            backdropEl.classList.add(\n                ...this._options.backdropClasses.split(' ')\n            );\n            document.querySelector('body').append(backdropEl);\n            backdropEl.addEventListener('click', () => {\n                this.hide();\n            });\n        }\n    }\n\n    _destroyBackdropEl() {\n        if (\n            this._visible &&\n            document.querySelector('[drawer-backdrop]') !== null\n        ) {\n            document.querySelector('[drawer-backdrop]').remove();\n        }\n    }\n\n    _getPlacementClasses(placement: string): PlacementClasses {\n        switch (placement) {\n            case 'top':\n                return {\n                    base: ['top-0', 'left-0', 'right-0'],\n                    active: ['transform-none'],\n                    inactive: ['-translate-y-full'],\n                };\n            case 'right':\n                return {\n                    base: ['right-0', 'top-0'],\n                    active: ['transform-none'],\n                    inactive: ['translate-x-full'],\n                };\n            case 'bottom':\n                return {\n                    base: ['bottom-0', 'left-0', 'right-0'],\n                    active: ['transform-none'],\n                    inactive: ['translate-y-full'],\n                };\n            case 'left':\n                return {\n                    base: ['left-0', 'top-0'],\n                    active: ['transform-none'],\n                    inactive: ['-translate-x-full'],\n                };\n            case 'bottom-edge':\n                return {\n                    base: ['left-0', 'top-0'],\n                    active: ['transform-none'],\n                    inactive: ['translate-y-full', this._options.edgeOffset],\n                };\n            default:\n                return {\n                    base: ['left-0', 'top-0'],\n                    active: ['transform-none'],\n                    inactive: ['-translate-x-full'],\n                };\n        }\n    }\n\n    isHidden() {\n        return !this._visible;\n    }\n\n    isVisible() {\n        return this._visible;\n    }\n\n    addEventListenerInstance(\n        element: HTMLElement,\n        type: string,\n        handler: EventListenerOrEventListenerObject\n    ) {\n        this._eventListenerInstances.push({\n            element: element,\n            type: type,\n            handler: handler,\n        });\n    }\n\n    removeAllEventListenerInstances() {\n        this._eventListenerInstances.map((eventListenerInstance) => {\n            eventListenerInstance.element.removeEventListener(\n                eventListenerInstance.type,\n                eventListenerInstance.handler\n            );\n        });\n        this._eventListenerInstances = [];\n    }\n\n    getAllEventListenerInstances() {\n        return this._eventListenerInstances;\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initDrawers() {\n    document.querySelectorAll('[data-drawer-target]').forEach(($triggerEl) => {\n        // mandatory\n        const drawerId = $triggerEl.getAttribute('data-drawer-target');\n        const $drawerEl = document.getElementById(drawerId);\n\n        if ($drawerEl) {\n            const placement = $triggerEl.getAttribute('data-drawer-placement');\n            const bodyScrolling = $triggerEl.getAttribute(\n                'data-drawer-body-scrolling'\n            );\n            const backdrop = $triggerEl.getAttribute('data-drawer-backdrop');\n            const edge = $triggerEl.getAttribute('data-drawer-edge');\n            const edgeOffset = $triggerEl.getAttribute(\n                'data-drawer-edge-offset'\n            );\n\n            new Drawer($drawerEl, {\n                placement: placement ? placement : Default.placement,\n                bodyScrolling: bodyScrolling\n                    ? bodyScrolling === 'true'\n                        ? true\n                        : false\n                    : Default.bodyScrolling,\n                backdrop: backdrop\n                    ? backdrop === 'true'\n                        ? true\n                        : false\n                    : Default.backdrop,\n                edge: edge ? (edge === 'true' ? true : false) : Default.edge,\n                edgeOffset: edgeOffset ? edgeOffset : Default.edgeOffset,\n            } as DrawerOptions);\n        } else {\n            console.error(\n                `Drawer with id ${drawerId} not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?`\n            );\n        }\n    });\n\n    document.querySelectorAll('[data-drawer-toggle]').forEach(($triggerEl) => {\n        const drawerId = $triggerEl.getAttribute('data-drawer-toggle');\n        const $drawerEl = document.getElementById(drawerId);\n\n        if ($drawerEl) {\n            const drawer: DrawerInterface = instances.getInstance(\n                'Drawer',\n                drawerId\n            );\n\n            if (drawer) {\n                const toggleDrawer = () => {\n                    drawer.toggle();\n                };\n                $triggerEl.addEventListener('click', toggleDrawer);\n                drawer.addEventListenerInstance(\n                    $triggerEl as HTMLElement,\n                    'click',\n                    toggleDrawer\n                );\n            } else {\n                console.error(\n                    `Drawer with id ${drawerId} has not been initialized. Please initialize it using the data-drawer-target attribute.`\n                );\n            }\n        } else {\n            console.error(\n                `Drawer with id ${drawerId} not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?`\n            );\n        }\n    });\n\n    document\n        .querySelectorAll('[data-drawer-dismiss], [data-drawer-hide]')\n        .forEach(($triggerEl) => {\n            const drawerId = $triggerEl.getAttribute('data-drawer-dismiss')\n                ? $triggerEl.getAttribute('data-drawer-dismiss')\n                : $triggerEl.getAttribute('data-drawer-hide');\n            const $drawerEl = document.getElementById(drawerId);\n\n            if ($drawerEl) {\n                const drawer: DrawerInterface = instances.getInstance(\n                    'Drawer',\n                    drawerId\n                );\n\n                if (drawer) {\n                    const hideDrawer = () => {\n                        drawer.hide();\n                    };\n                    $triggerEl.addEventListener('click', hideDrawer);\n                    drawer.addEventListenerInstance(\n                        $triggerEl as HTMLElement,\n                        'click',\n                        hideDrawer\n                    );\n                } else {\n                    console.error(\n                        `Drawer with id ${drawerId} has not been initialized. Please initialize it using the data-drawer-target attribute.`\n                    );\n                }\n            } else {\n                console.error(\n                    `Drawer with id ${drawerId} not found. Are you sure that the data-drawer-target attribute points to the correct drawer id`\n                );\n            }\n        });\n\n    document.querySelectorAll('[data-drawer-show]').forEach(($triggerEl) => {\n        const drawerId = $triggerEl.getAttribute('data-drawer-show');\n        const $drawerEl = document.getElementById(drawerId);\n\n        if ($drawerEl) {\n            const drawer: DrawerInterface = instances.getInstance(\n                'Drawer',\n                drawerId\n            );\n\n            if (drawer) {\n                const showDrawer = () => {\n                    drawer.show();\n                };\n                $triggerEl.addEventListener('click', showDrawer);\n                drawer.addEventListenerInstance(\n                    $triggerEl as HTMLElement,\n                    'click',\n                    showDrawer\n                );\n            } else {\n                console.error(\n                    `Drawer with id ${drawerId} has not been initialized. Please initialize it using the data-drawer-target attribute.`\n                );\n            }\n        } else {\n            console.error(\n                `Drawer with id ${drawerId} not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Drawer = Drawer;\n    window.initDrawers = initDrawers;\n}\n\nexport default Drawer;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport { createPopper } from '@popperjs/core';\nimport type {\n    Options as PopperOptions,\n    Instance as PopperInstance,\n} from '@popperjs/core';\nimport type { DropdownOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { DropdownInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: DropdownOptions = {\n    placement: 'bottom',\n    triggerType: 'click',\n    offsetSkidding: 0,\n    offsetDistance: 10,\n    delay: 300,\n    ignoreClickOutsideClass: false,\n    onShow: () => {},\n    onHide: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Dropdown implements DropdownInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement;\n    _triggerEl: HTMLElement;\n    _options: DropdownOptions;\n    _visible: boolean;\n    _popperInstance: PopperInstance;\n    _initialized: boolean;\n    _clickOutsideEventListener: EventListenerOrEventListenerObject;\n    _hoverShowTriggerElHandler: EventListenerOrEventListenerObject;\n    _hoverShowTargetElHandler: EventListenerOrEventListenerObject;\n    _hoverHideHandler: EventListenerOrEventListenerObject;\n    _clickHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        targetElement: HTMLElement | null = null,\n        triggerElement: HTMLElement | null = null,\n        options: DropdownOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetElement.id;\n        this._targetEl = targetElement;\n        this._triggerEl = triggerElement;\n        this._options = { ...Default, ...options };\n        this._popperInstance = null;\n        this._visible = false;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Dropdown',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._triggerEl && this._targetEl && !this._initialized) {\n            this._popperInstance = this._createPopperInstance();\n            this._setupEventListeners();\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        const triggerEvents = this._getTriggerEvents();\n\n        // Remove click event listeners for trigger element\n        if (this._options.triggerType === 'click') {\n            triggerEvents.showEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(ev, this._clickHandler);\n            });\n        }\n\n        // Remove hover event listeners for trigger and target elements\n        if (this._options.triggerType === 'hover') {\n            triggerEvents.showEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(\n                    ev,\n                    this._hoverShowTriggerElHandler\n                );\n                this._targetEl.removeEventListener(\n                    ev,\n                    this._hoverShowTargetElHandler\n                );\n            });\n\n            triggerEvents.hideEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(ev, this._hoverHideHandler);\n                this._targetEl.removeEventListener(ev, this._hoverHideHandler);\n            });\n        }\n\n        this._popperInstance.destroy();\n        this._initialized = false;\n    }\n\n    removeInstance() {\n        instances.removeInstance('Dropdown', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    _setupEventListeners() {\n        const triggerEvents = this._getTriggerEvents();\n\n        this._clickHandler = () => {\n            this.toggle();\n        };\n\n        // click event handling for trigger element\n        if (this._options.triggerType === 'click') {\n            triggerEvents.showEvents.forEach((ev) => {\n                this._triggerEl.addEventListener(ev, this._clickHandler);\n            });\n        }\n\n        this._hoverShowTriggerElHandler = (ev) => {\n            if (ev.type === 'click') {\n                this.toggle();\n            } else {\n                setTimeout(() => {\n                    this.show();\n                }, this._options.delay);\n            }\n        };\n        this._hoverShowTargetElHandler = () => {\n            this.show();\n        };\n\n        this._hoverHideHandler = () => {\n            setTimeout(() => {\n                if (!this._targetEl.matches(':hover')) {\n                    this.hide();\n                }\n            }, this._options.delay);\n        };\n\n        // hover event handling for trigger element\n        if (this._options.triggerType === 'hover') {\n            triggerEvents.showEvents.forEach((ev) => {\n                this._triggerEl.addEventListener(\n                    ev,\n                    this._hoverShowTriggerElHandler\n                );\n                this._targetEl.addEventListener(\n                    ev,\n                    this._hoverShowTargetElHandler\n                );\n            });\n\n            triggerEvents.hideEvents.forEach((ev) => {\n                this._triggerEl.addEventListener(ev, this._hoverHideHandler);\n                this._targetEl.addEventListener(ev, this._hoverHideHandler);\n            });\n        }\n    }\n\n    _createPopperInstance() {\n        return createPopper(this._triggerEl, this._targetEl, {\n            placement: this._options.placement,\n            modifiers: [\n                {\n                    name: 'offset',\n                    options: {\n                        offset: [\n                            this._options.offsetSkidding,\n                            this._options.offsetDistance,\n                        ],\n                    },\n                },\n            ],\n        });\n    }\n\n    _setupClickOutsideListener() {\n        this._clickOutsideEventListener = (ev: MouseEvent) => {\n            this._handleClickOutside(ev, this._targetEl);\n        };\n        document.body.addEventListener(\n            'click',\n            this._clickOutsideEventListener,\n            true\n        );\n    }\n\n    _removeClickOutsideListener() {\n        document.body.removeEventListener(\n            'click',\n            this._clickOutsideEventListener,\n            true\n        );\n    }\n\n    _handleClickOutside(ev: Event, targetEl: HTMLElement) {\n        const clickedEl = ev.target as Node;\n\n        // Ignore clicks on the trigger element (ie. a datepicker input)\n        const ignoreClickOutsideClass = this._options.ignoreClickOutsideClass;\n\n        let isIgnored = false;\n        if (ignoreClickOutsideClass) {\n            const ignoredClickOutsideEls = document.querySelectorAll(\n                `.${ignoreClickOutsideClass}`\n            );\n            ignoredClickOutsideEls.forEach((el) => {\n                if (el.contains(clickedEl)) {\n                    isIgnored = true;\n                    return;\n                }\n            });\n        }\n\n        // Ignore clicks on the target element (ie. dropdown itself)\n        if (\n            clickedEl !== targetEl &&\n            !targetEl.contains(clickedEl) &&\n            !this._triggerEl.contains(clickedEl) &&\n            !isIgnored &&\n            this.isVisible()\n        ) {\n            this.hide();\n        }\n    }\n\n    _getTriggerEvents() {\n        switch (this._options.triggerType) {\n            case 'hover':\n                return {\n                    showEvents: ['mouseenter', 'click'],\n                    hideEvents: ['mouseleave'],\n                };\n            case 'click':\n                return {\n                    showEvents: ['click'],\n                    hideEvents: [],\n                };\n            case 'none':\n                return {\n                    showEvents: [],\n                    hideEvents: [],\n                };\n            default:\n                return {\n                    showEvents: ['click'],\n                    hideEvents: [],\n                };\n        }\n    }\n\n    toggle() {\n        if (this.isVisible()) {\n            this.hide();\n        } else {\n            this.show();\n        }\n        this._options.onToggle(this);\n    }\n\n    isVisible() {\n        return this._visible;\n    }\n\n    show() {\n        this._targetEl.classList.remove('hidden');\n        this._targetEl.classList.add('block');\n        this._targetEl.removeAttribute('aria-hidden');\n\n        // Enable the event listeners\n        this._popperInstance.setOptions((options: PopperOptions) => ({\n            ...options,\n            modifiers: [\n                ...options.modifiers,\n                { name: 'eventListeners', enabled: true },\n            ],\n        }));\n\n        this._setupClickOutsideListener();\n\n        // Update its position\n        this._popperInstance.update();\n        this._visible = true;\n\n        // callback function\n        this._options.onShow(this);\n    }\n\n    hide() {\n        this._targetEl.classList.remove('block');\n        this._targetEl.classList.add('hidden');\n        this._targetEl.setAttribute('aria-hidden', 'true');\n\n        // Disable the event listeners\n        this._popperInstance.setOptions((options: PopperOptions) => ({\n            ...options,\n            modifiers: [\n                ...options.modifiers,\n                { name: 'eventListeners', enabled: false },\n            ],\n        }));\n\n        this._visible = false;\n\n        this._removeClickOutsideListener();\n\n        // callback function\n        this._options.onHide(this);\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initDropdowns() {\n    document\n        .querySelectorAll('[data-dropdown-toggle]')\n        .forEach(($triggerEl) => {\n            const dropdownId = $triggerEl.getAttribute('data-dropdown-toggle');\n            const $dropdownEl = document.getElementById(dropdownId);\n\n            if ($dropdownEl) {\n                const placement = $triggerEl.getAttribute(\n                    'data-dropdown-placement'\n                );\n                const offsetSkidding = $triggerEl.getAttribute(\n                    'data-dropdown-offset-skidding'\n                );\n                const offsetDistance = $triggerEl.getAttribute(\n                    'data-dropdown-offset-distance'\n                );\n                const triggerType = $triggerEl.getAttribute(\n                    'data-dropdown-trigger'\n                );\n                const delay = $triggerEl.getAttribute('data-dropdown-delay');\n                const ignoreClickOutsideClass = $triggerEl.getAttribute(\n                    'data-dropdown-ignore-click-outside-class'\n                );\n\n                new Dropdown(\n                    $dropdownEl as HTMLElement,\n                    $triggerEl as HTMLElement,\n                    {\n                        placement: placement ? placement : Default.placement,\n                        triggerType: triggerType\n                            ? triggerType\n                            : Default.triggerType,\n                        offsetSkidding: offsetSkidding\n                            ? parseInt(offsetSkidding)\n                            : Default.offsetSkidding,\n                        offsetDistance: offsetDistance\n                            ? parseInt(offsetDistance)\n                            : Default.offsetDistance,\n                        delay: delay ? parseInt(delay) : Default.delay,\n                        ignoreClickOutsideClass: ignoreClickOutsideClass\n                            ? ignoreClickOutsideClass\n                            : Default.ignoreClickOutsideClass,\n                    } as DropdownOptions\n                );\n            } else {\n                console.error(\n                    `The dropdown element with id \"${dropdownId}\" does not exist. Please check the data-dropdown-toggle attribute.`\n                );\n            }\n        });\n}\n\nif (typeof window !== 'undefined') {\n    window.Dropdown = Dropdown;\n    window.initDropdowns = initDropdowns;\n}\n\nexport default Dropdown;\n", "import { initAccordions } from './accordion';\nimport { initCarousels } from './carousel';\nimport { initCopyClipboards } from './clipboard';\nimport { initCollapses } from './collapse';\nimport { initDials } from './dial';\nimport { initDismisses } from './dismiss';\nimport { initDrawers } from './drawer';\nimport { initDropdowns } from './dropdown';\nimport { initInputCounters } from './input-counter';\nimport { initModals } from './modal';\nimport { initPopovers } from './popover';\nimport { initTabs } from './tabs';\nimport { initTooltips } from './tooltip';\nimport { initDatepickers } from './datepicker';\n\nexport function initFlowbite() {\n    initAccordions();\n    initCollapses();\n    initCarousels();\n    initDismisses();\n    initDropdowns();\n    initModals();\n    initDrawers();\n    initTabs();\n    initTooltips();\n    initPopovers();\n    initDials();\n    initInputCounters();\n    initCopyClipboards();\n    initDatepickers();\n}\n\nif (typeof window !== 'undefined') {\n    window.initFlowbite = initFlowbite;\n}\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { InputCounterOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { InputCounterInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: InputCounterOptions = {\n    minValue: null,\n    maxValue: null,\n    onIncrement: () => {},\n    onDecrement: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass InputCounter implements InputCounterInterface {\n    _instanceId: string;\n    _targetEl: HTMLInputElement | null;\n    _incrementEl: HTMLElement | null;\n    _decrementEl: HTMLElement | null;\n    _options: InputCounterOptions;\n    _initialized: boolean;\n    _incrementClickHandler: EventListenerOrEventListenerObject;\n    _decrementClickHandler: EventListenerOrEventListenerObject;\n    _inputHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        targetEl: HTMLInputElement | null = null,\n        incrementEl: HTMLElement | null = null,\n        decrementEl: HTMLElement | null = null,\n        options: InputCounterOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n\n        this._targetEl = targetEl;\n        this._incrementEl = incrementEl;\n        this._decrementEl = decrementEl;\n        this._options = { ...Default, ...options };\n        this._initialized = false;\n\n        this.init();\n        instances.addInstance(\n            'InputCounter',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._targetEl && !this._initialized) {\n            this._inputHandler = (event) => {\n                {\n                    const target = event.target as HTMLInputElement;\n\n                    // check if the value is numeric\n                    if (!/^\\d*$/.test(target.value)) {\n                        // Regex to check if the value is numeric\n                        target.value = target.value.replace(/[^\\d]/g, ''); // Remove non-numeric characters\n                    }\n\n                    // check for max value\n                    if (\n                        this._options.maxValue !== null &&\n                        parseInt(target.value) > this._options.maxValue\n                    ) {\n                        target.value = this._options.maxValue.toString();\n                    }\n\n                    // check for min value\n                    if (\n                        this._options.minValue !== null &&\n                        parseInt(target.value) < this._options.minValue\n                    ) {\n                        target.value = this._options.minValue.toString();\n                    }\n                }\n            };\n\n            this._incrementClickHandler = () => {\n                this.increment();\n            };\n\n            this._decrementClickHandler = () => {\n                this.decrement();\n            };\n\n            // Add event listener to restrict input to numeric values only\n            this._targetEl.addEventListener('input', this._inputHandler);\n\n            if (this._incrementEl) {\n                this._incrementEl.addEventListener(\n                    'click',\n                    this._incrementClickHandler\n                );\n            }\n\n            if (this._decrementEl) {\n                this._decrementEl.addEventListener(\n                    'click',\n                    this._decrementClickHandler\n                );\n            }\n\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._targetEl && this._initialized) {\n            this._targetEl.removeEventListener('input', this._inputHandler);\n\n            if (this._incrementEl) {\n                this._incrementEl.removeEventListener(\n                    'click',\n                    this._incrementClickHandler\n                );\n            }\n            if (this._decrementEl) {\n                this._decrementEl.removeEventListener(\n                    'click',\n                    this._decrementClickHandler\n                );\n            }\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('InputCounter', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    getCurrentValue() {\n        return parseInt(this._targetEl.value) || 0;\n    }\n\n    increment() {\n        // don't increment if the value is already at the maximum value\n        if (\n            this._options.maxValue !== null &&\n            this.getCurrentValue() >= this._options.maxValue\n        ) {\n            return;\n        }\n\n        this._targetEl.value = (this.getCurrentValue() + 1).toString();\n        this._options.onIncrement(this);\n    }\n\n    decrement() {\n        // don't decrement if the value is already at the minimum value\n        if (\n            this._options.minValue !== null &&\n            this.getCurrentValue() <= this._options.minValue\n        ) {\n            return;\n        }\n\n        this._targetEl.value = (this.getCurrentValue() - 1).toString();\n        this._options.onDecrement(this);\n    }\n\n    updateOnIncrement(callback: () => void) {\n        this._options.onIncrement = callback;\n    }\n\n    updateOnDecrement(callback: () => void) {\n        this._options.onDecrement = callback;\n    }\n}\n\nexport function initInputCounters() {\n    document.querySelectorAll('[data-input-counter]').forEach(($targetEl) => {\n        const targetId = $targetEl.id;\n\n        const $incrementEl = document.querySelector(\n            '[data-input-counter-increment=\"' + targetId + '\"]'\n        );\n\n        const $decrementEl = document.querySelector(\n            '[data-input-counter-decrement=\"' + targetId + '\"]'\n        );\n\n        const minValue = $targetEl.getAttribute('data-input-counter-min');\n        const maxValue = $targetEl.getAttribute('data-input-counter-max');\n\n        // check if the target element exists\n        if ($targetEl) {\n            if (\n                !instances.instanceExists(\n                    'InputCounter',\n                    $targetEl.getAttribute('id')\n                )\n            ) {\n                new InputCounter(\n                    $targetEl as HTMLInputElement,\n                    $incrementEl ? ($incrementEl as HTMLElement) : null,\n                    $decrementEl ? ($decrementEl as HTMLElement) : null,\n                    {\n                        minValue: minValue ? parseInt(minValue) : null,\n                        maxValue: maxValue ? parseInt(maxValue) : null,\n                    } as InputCounterOptions\n                );\n            }\n        } else {\n            console.error(\n                `The target element with id \"${targetId}\" does not exist. Please check the data-input-counter attribute.`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.InputCounter = InputCounter;\n    window.initInputCounters = initInputCounters;\n}\n\nexport default InputCounter;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { ModalOptions } from './types';\nimport type { InstanceOptions, EventListenerInstance } from '../../dom/types';\nimport { ModalInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: ModalOptions = {\n    placement: 'center',\n    backdropClasses: 'bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40',\n    backdrop: 'dynamic',\n    closable: true,\n    onHide: () => {},\n    onShow: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Modal implements ModalInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement | null;\n    _options: ModalOptions;\n    _isHidden: boolean;\n    _backdropEl: HTMLElement | null;\n    _clickOutsideEventListener: EventListenerOrEventListenerObject;\n    _keydownEventListener: EventListenerOrEventListenerObject;\n    _eventListenerInstances: EventListenerInstance[] = [];\n    _initialized: boolean;\n\n    constructor(\n        targetEl: HTMLElement | null = null,\n        options: ModalOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._targetEl = targetEl;\n        this._options = { ...Default, ...options };\n        this._isHidden = true;\n        this._backdropEl = null;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Modal',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._targetEl && !this._initialized) {\n            this._getPlacementClasses().map((c) => {\n                this._targetEl.classList.add(c);\n            });\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            this.removeAllEventListenerInstances();\n            this._destroyBackdropEl();\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Modal', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    _createBackdrop() {\n        if (this._isHidden) {\n            const backdropEl = document.createElement('div');\n            backdropEl.classList.add(\n                ...this._options.backdropClasses.split(' ')\n            );\n            document.querySelector('body').append(backdropEl);\n            this._backdropEl = backdropEl;\n        }\n    }\n\n    _destroyBackdropEl() {\n        if (!this._isHidden && this._backdropEl) {\n            this._backdropEl.remove();\n            this._backdropEl = null;\n        }\n    }\n\n    _setupModalCloseEventListeners() {\n        if (this._options.backdrop === 'dynamic') {\n            this._clickOutsideEventListener = (ev: MouseEvent) => {\n                this._handleOutsideClick(ev.target);\n            };\n            this._targetEl.addEventListener(\n                'click',\n                this._clickOutsideEventListener,\n                true\n            );\n        }\n\n        this._keydownEventListener = (ev: KeyboardEvent) => {\n            if (ev.key === 'Escape') {\n                this.hide();\n            }\n        };\n        document.body.addEventListener(\n            'keydown',\n            this._keydownEventListener,\n            true\n        );\n    }\n\n    _removeModalCloseEventListeners() {\n        if (this._options.backdrop === 'dynamic') {\n            this._targetEl.removeEventListener(\n                'click',\n                this._clickOutsideEventListener,\n                true\n            );\n        }\n        document.body.removeEventListener(\n            'keydown',\n            this._keydownEventListener,\n            true\n        );\n    }\n\n    _handleOutsideClick(target: EventTarget) {\n        if (\n            target === this._targetEl ||\n            (target === this._backdropEl && this.isVisible())\n        ) {\n            this.hide();\n        }\n    }\n\n    _getPlacementClasses() {\n        switch (this._options.placement) {\n            // top\n            case 'top-left':\n                return ['justify-start', 'items-start'];\n            case 'top-center':\n                return ['justify-center', 'items-start'];\n            case 'top-right':\n                return ['justify-end', 'items-start'];\n\n            // center\n            case 'center-left':\n                return ['justify-start', 'items-center'];\n            case 'center':\n                return ['justify-center', 'items-center'];\n            case 'center-right':\n                return ['justify-end', 'items-center'];\n\n            // bottom\n            case 'bottom-left':\n                return ['justify-start', 'items-end'];\n            case 'bottom-center':\n                return ['justify-center', 'items-end'];\n            case 'bottom-right':\n                return ['justify-end', 'items-end'];\n\n            default:\n                return ['justify-center', 'items-center'];\n        }\n    }\n\n    toggle() {\n        if (this._isHidden) {\n            this.show();\n        } else {\n            this.hide();\n        }\n\n        // callback function\n        this._options.onToggle(this);\n    }\n\n    show() {\n        if (this.isHidden) {\n            this._targetEl.classList.add('flex');\n            this._targetEl.classList.remove('hidden');\n            this._targetEl.setAttribute('aria-modal', 'true');\n            this._targetEl.setAttribute('role', 'dialog');\n            this._targetEl.removeAttribute('aria-hidden');\n            this._createBackdrop();\n            this._isHidden = false;\n\n            // Add keyboard event listener to the document\n            if (this._options.closable) {\n                this._setupModalCloseEventListeners();\n            }\n\n            // prevent body scroll\n            document.body.classList.add('overflow-hidden');\n\n            // callback function\n            this._options.onShow(this);\n        }\n    }\n\n    hide() {\n        if (this.isVisible) {\n            this._targetEl.classList.add('hidden');\n            this._targetEl.classList.remove('flex');\n            this._targetEl.setAttribute('aria-hidden', 'true');\n            this._targetEl.removeAttribute('aria-modal');\n            this._targetEl.removeAttribute('role');\n            this._destroyBackdropEl();\n            this._isHidden = true;\n\n            // re-apply body scroll\n            document.body.classList.remove('overflow-hidden');\n\n            if (this._options.closable) {\n                this._removeModalCloseEventListeners();\n            }\n\n            // callback function\n            this._options.onHide(this);\n        }\n    }\n\n    isVisible() {\n        return !this._isHidden;\n    }\n\n    isHidden() {\n        return this._isHidden;\n    }\n\n    addEventListenerInstance(\n        element: HTMLElement,\n        type: string,\n        handler: EventListenerOrEventListenerObject\n    ) {\n        this._eventListenerInstances.push({\n            element: element,\n            type: type,\n            handler: handler,\n        });\n    }\n\n    removeAllEventListenerInstances() {\n        this._eventListenerInstances.map((eventListenerInstance) => {\n            eventListenerInstance.element.removeEventListener(\n                eventListenerInstance.type,\n                eventListenerInstance.handler\n            );\n        });\n        this._eventListenerInstances = [];\n    }\n\n    getAllEventListenerInstances() {\n        return this._eventListenerInstances;\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initModals() {\n    // initiate modal based on data-modal-target\n    document.querySelectorAll('[data-modal-target]').forEach(($triggerEl) => {\n        const modalId = $triggerEl.getAttribute('data-modal-target');\n        const $modalEl = document.getElementById(modalId);\n\n        if ($modalEl) {\n            const placement = $modalEl.getAttribute('data-modal-placement');\n            const backdrop = $modalEl.getAttribute('data-modal-backdrop');\n            new Modal(\n                $modalEl as HTMLElement,\n                {\n                    placement: placement ? placement : Default.placement,\n                    backdrop: backdrop ? backdrop : Default.backdrop,\n                } as ModalOptions\n            );\n        } else {\n            console.error(\n                `Modal with id ${modalId} does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?.`\n            );\n        }\n    });\n\n    // toggle modal visibility\n    document.querySelectorAll('[data-modal-toggle]').forEach(($triggerEl) => {\n        const modalId = $triggerEl.getAttribute('data-modal-toggle');\n        const $modalEl = document.getElementById(modalId);\n\n        if ($modalEl) {\n            const modal: ModalInterface = instances.getInstance(\n                'Modal',\n                modalId\n            );\n\n            if (modal) {\n                const toggleModal = () => {\n                    modal.toggle();\n                };\n                $triggerEl.addEventListener('click', toggleModal);\n                modal.addEventListenerInstance(\n                    $triggerEl as HTMLElement,\n                    'click',\n                    toggleModal\n                );\n            } else {\n                console.error(\n                    `Modal with id ${modalId} has not been initialized. Please initialize it using the data-modal-target attribute.`\n                );\n            }\n        } else {\n            console.error(\n                `Modal with id ${modalId} does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?`\n            );\n        }\n    });\n\n    // show modal on click if exists based on id\n    document.querySelectorAll('[data-modal-show]').forEach(($triggerEl) => {\n        const modalId = $triggerEl.getAttribute('data-modal-show');\n        const $modalEl = document.getElementById(modalId);\n\n        if ($modalEl) {\n            const modal: ModalInterface = instances.getInstance(\n                'Modal',\n                modalId\n            );\n\n            if (modal) {\n                const showModal = () => {\n                    modal.show();\n                };\n                $triggerEl.addEventListener('click', showModal);\n                modal.addEventListenerInstance(\n                    $triggerEl as HTMLElement,\n                    'click',\n                    showModal\n                );\n            } else {\n                console.error(\n                    `Modal with id ${modalId} has not been initialized. Please initialize it using the data-modal-target attribute.`\n                );\n            }\n        } else {\n            console.error(\n                `Modal with id ${modalId} does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?`\n            );\n        }\n    });\n\n    // hide modal on click if exists based on id\n    document.querySelectorAll('[data-modal-hide]').forEach(($triggerEl) => {\n        const modalId = $triggerEl.getAttribute('data-modal-hide');\n        const $modalEl = document.getElementById(modalId);\n\n        if ($modalEl) {\n            const modal: ModalInterface = instances.getInstance(\n                'Modal',\n                modalId\n            );\n\n            if (modal) {\n                const hideModal = () => {\n                    modal.hide();\n                };\n                $triggerEl.addEventListener('click', hideModal);\n                modal.addEventListenerInstance(\n                    $triggerEl as HTMLElement,\n                    'click',\n                    hideModal\n                );\n            } else {\n                console.error(\n                    `Modal with id ${modalId} has not been initialized. Please initialize it using the data-modal-target attribute.`\n                );\n            }\n        } else {\n            console.error(\n                `Modal with id ${modalId} does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Modal = Modal;\n    window.initModals = initModals;\n}\n\nexport default Modal;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport { createPopper } from '@popperjs/core';\nimport type {\n    Options as PopperOptions,\n    Instance as PopperInstance,\n} from '@popperjs/core';\nimport type { PopoverOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { PopoverInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: PopoverOptions = {\n    placement: 'top',\n    offset: 10,\n    triggerType: 'hover',\n    onShow: () => {},\n    onHide: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Popover implements PopoverInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement;\n    _triggerEl: HTMLElement;\n    _options: PopoverOptions;\n    _popperInstance: PopperInstance;\n    _clickOutsideEventListener: EventListenerOrEventListenerObject;\n    _keydownEventListener: EventListenerOrEventListenerObject;\n    _visible: boolean;\n    _initialized: boolean;\n    _showHandler: EventListenerOrEventListenerObject;\n    _hideHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        targetEl: HTMLElement | null = null,\n        triggerEl: HTMLElement | null = null,\n        options: PopoverOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._targetEl = targetEl;\n        this._triggerEl = triggerEl;\n        this._options = { ...Default, ...options };\n        this._popperInstance = null;\n        this._visible = false;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Popover',\n            this,\n            instanceOptions.id ? instanceOptions.id : this._targetEl.id,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._triggerEl && this._targetEl && !this._initialized) {\n            this._setupEventListeners();\n            this._popperInstance = this._createPopperInstance();\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            // remove event listeners associated with the trigger element and target element\n            const triggerEvents = this._getTriggerEvents();\n\n            triggerEvents.showEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(ev, this._showHandler);\n                this._targetEl.removeEventListener(ev, this._showHandler);\n            });\n\n            triggerEvents.hideEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(ev, this._hideHandler);\n                this._targetEl.removeEventListener(ev, this._hideHandler);\n            });\n\n            // remove event listeners for keydown\n            this._removeKeydownListener();\n\n            // remove event listeners for click outside\n            this._removeClickOutsideListener();\n\n            // destroy the Popper instance if you have one (assuming this._popperInstance is the Popper instance)\n            if (this._popperInstance) {\n                this._popperInstance.destroy();\n            }\n\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Popover', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    _setupEventListeners() {\n        const triggerEvents = this._getTriggerEvents();\n\n        this._showHandler = () => {\n            this.show();\n        };\n\n        this._hideHandler = () => {\n            setTimeout(() => {\n                if (!this._targetEl.matches(':hover')) {\n                    this.hide();\n                }\n            }, 100);\n        };\n\n        triggerEvents.showEvents.forEach((ev) => {\n            this._triggerEl.addEventListener(ev, this._showHandler);\n            this._targetEl.addEventListener(ev, this._showHandler);\n        });\n\n        triggerEvents.hideEvents.forEach((ev) => {\n            this._triggerEl.addEventListener(ev, this._hideHandler);\n            this._targetEl.addEventListener(ev, this._hideHandler);\n        });\n    }\n\n    _createPopperInstance() {\n        return createPopper(this._triggerEl, this._targetEl, {\n            placement: this._options.placement,\n            modifiers: [\n                {\n                    name: 'offset',\n                    options: {\n                        offset: [0, this._options.offset],\n                    },\n                },\n            ],\n        });\n    }\n\n    _getTriggerEvents() {\n        switch (this._options.triggerType) {\n            case 'hover':\n                return {\n                    showEvents: ['mouseenter', 'focus'],\n                    hideEvents: ['mouseleave', 'blur'],\n                };\n            case 'click':\n                return {\n                    showEvents: ['click', 'focus'],\n                    hideEvents: ['focusout', 'blur'],\n                };\n            case 'none':\n                return {\n                    showEvents: [],\n                    hideEvents: [],\n                };\n            default:\n                return {\n                    showEvents: ['mouseenter', 'focus'],\n                    hideEvents: ['mouseleave', 'blur'],\n                };\n        }\n    }\n\n    _setupKeydownListener() {\n        this._keydownEventListener = (ev: KeyboardEvent) => {\n            if (ev.key === 'Escape') {\n                this.hide();\n            }\n        };\n        document.body.addEventListener(\n            'keydown',\n            this._keydownEventListener,\n            true\n        );\n    }\n\n    _removeKeydownListener() {\n        document.body.removeEventListener(\n            'keydown',\n            this._keydownEventListener,\n            true\n        );\n    }\n\n    _setupClickOutsideListener() {\n        this._clickOutsideEventListener = (ev: MouseEvent) => {\n            this._handleClickOutside(ev, this._targetEl);\n        };\n        document.body.addEventListener(\n            'click',\n            this._clickOutsideEventListener,\n            true\n        );\n    }\n\n    _removeClickOutsideListener() {\n        document.body.removeEventListener(\n            'click',\n            this._clickOutsideEventListener,\n            true\n        );\n    }\n\n    _handleClickOutside(ev: Event, targetEl: HTMLElement) {\n        const clickedEl = ev.target as Node;\n        if (\n            clickedEl !== targetEl &&\n            !targetEl.contains(clickedEl) &&\n            !this._triggerEl.contains(clickedEl) &&\n            this.isVisible()\n        ) {\n            this.hide();\n        }\n    }\n\n    isVisible() {\n        return this._visible;\n    }\n\n    toggle() {\n        if (this.isVisible()) {\n            this.hide();\n        } else {\n            this.show();\n        }\n        this._options.onToggle(this);\n    }\n\n    show() {\n        this._targetEl.classList.remove('opacity-0', 'invisible');\n        this._targetEl.classList.add('opacity-100', 'visible');\n\n        // Enable the event listeners\n        this._popperInstance.setOptions((options: PopperOptions) => ({\n            ...options,\n            modifiers: [\n                ...options.modifiers,\n                { name: 'eventListeners', enabled: true },\n            ],\n        }));\n\n        // handle click outside\n        this._setupClickOutsideListener();\n\n        // handle esc keydown\n        this._setupKeydownListener();\n\n        // Update its position\n        this._popperInstance.update();\n\n        // set visibility to true\n        this._visible = true;\n\n        // callback function\n        this._options.onShow(this);\n    }\n\n    hide() {\n        this._targetEl.classList.remove('opacity-100', 'visible');\n        this._targetEl.classList.add('opacity-0', 'invisible');\n\n        // Disable the event listeners\n        this._popperInstance.setOptions((options: PopperOptions) => ({\n            ...options,\n            modifiers: [\n                ...options.modifiers,\n                { name: 'eventListeners', enabled: false },\n            ],\n        }));\n\n        // handle click outside\n        this._removeClickOutsideListener();\n\n        // handle esc keydown\n        this._removeKeydownListener();\n\n        // set visibility to false\n        this._visible = false;\n\n        // callback function\n        this._options.onHide(this);\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initPopovers() {\n    document.querySelectorAll('[data-popover-target]').forEach(($triggerEl) => {\n        const popoverID = $triggerEl.getAttribute('data-popover-target');\n        const $popoverEl = document.getElementById(popoverID);\n\n        if ($popoverEl) {\n            const triggerType = $triggerEl.getAttribute('data-popover-trigger');\n            const placement = $triggerEl.getAttribute('data-popover-placement');\n            const offset = $triggerEl.getAttribute('data-popover-offset');\n\n            new Popover(\n                $popoverEl as HTMLElement,\n                $triggerEl as HTMLElement,\n                {\n                    placement: placement ? placement : Default.placement,\n                    offset: offset ? parseInt(offset) : Default.offset,\n                    triggerType: triggerType\n                        ? triggerType\n                        : Default.triggerType,\n                } as PopoverOptions\n            );\n        } else {\n            console.error(\n                `The popover element with id \"${popoverID}\" does not exist. Please check the data-popover-target attribute.`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Popover = Popover;\n    window.initPopovers = initPopovers;\n}\n\nexport default Popover;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { TabItem, TabsOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { TabsInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: TabsOptions = {\n    defaultTabId: null,\n    activeClasses:\n        'text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500',\n    inactiveClasses:\n        'dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300',\n    onShow: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Tabs implements TabsInterface {\n    _instanceId: string;\n    _tabsEl: HTMLElement;\n    _items: TabItem[];\n    _activeTab: TabItem;\n    _options: TabsOptions;\n    _initialized: boolean;\n\n    constructor(\n        tabsEl: HTMLElement | null = null,\n        items: TabItem[] = [],\n        options: TabsOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id ? instanceOptions.id : tabsEl.id;\n        this._tabsEl = tabsEl;\n        this._items = items;\n        this._activeTab = options ? this.getTab(options.defaultTabId) : null;\n        this._options = { ...Default, ...options };\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Tabs',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._items.length && !this._initialized) {\n            // set the first tab as active if not set by explicitly\n            if (!this._activeTab) {\n                this.setActiveTab(this._items[0]);\n            }\n\n            // force show the first default tab\n            this.show(this._activeTab.id, true);\n\n            // show tab content based on click\n            this._items.map((tab) => {\n                tab.triggerEl.addEventListener('click', (event) => {\n                    event.preventDefault();\n                    this.show(tab.id);\n                });\n            });\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        this.destroy();\n        instances.removeInstance('Tabs', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    getActiveTab() {\n        return this._activeTab;\n    }\n\n    setActiveTab(tab: TabItem) {\n        this._activeTab = tab;\n    }\n\n    getTab(id: string) {\n        return this._items.filter((t) => t.id === id)[0];\n    }\n\n    show(id: string, forceShow = false) {\n        const tab = this.getTab(id);\n\n        // don't do anything if already active\n        if (tab === this._activeTab && !forceShow) {\n            return;\n        }\n\n        // hide other tabs\n        this._items.map((t: TabItem) => {\n            if (t !== tab) {\n                t.triggerEl.classList.remove(\n                    ...this._options.activeClasses.split(' ')\n                );\n                t.triggerEl.classList.add(\n                    ...this._options.inactiveClasses.split(' ')\n                );\n                t.targetEl.classList.add('hidden');\n                t.triggerEl.setAttribute('aria-selected', 'false');\n            }\n        });\n\n        // show active tab\n        tab.triggerEl.classList.add(...this._options.activeClasses.split(' '));\n        tab.triggerEl.classList.remove(\n            ...this._options.inactiveClasses.split(' ')\n        );\n        tab.triggerEl.setAttribute('aria-selected', 'true');\n        tab.targetEl.classList.remove('hidden');\n\n        this.setActiveTab(tab);\n\n        // callback function\n        this._options.onShow(this, tab);\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n}\n\nexport function initTabs() {\n    document.querySelectorAll('[data-tabs-toggle]').forEach(($parentEl) => {\n        const tabItems: TabItem[] = [];\n        const activeClasses = $parentEl.getAttribute(\n            'data-tabs-active-classes'\n        );\n        const inactiveClasses = $parentEl.getAttribute(\n            'data-tabs-inactive-classes'\n        );\n        let defaultTabId = null;\n        $parentEl\n            .querySelectorAll('[role=\"tab\"]')\n            .forEach(($triggerEl: HTMLElement) => {\n                const isActive =\n                    $triggerEl.getAttribute('aria-selected') === 'true';\n                const tab: TabItem = {\n                    id: $triggerEl.getAttribute('data-tabs-target'),\n                    triggerEl: $triggerEl,\n                    targetEl: document.querySelector(\n                        $triggerEl.getAttribute('data-tabs-target')\n                    ),\n                };\n                tabItems.push(tab);\n\n                if (isActive) {\n                    defaultTabId = tab.id;\n                }\n            });\n\n        new Tabs($parentEl as HTMLElement, tabItems, {\n            defaultTabId: defaultTabId,\n            activeClasses: activeClasses\n                ? activeClasses\n                : Default.activeClasses,\n            inactiveClasses: inactiveClasses\n                ? inactiveClasses\n                : Default.inactiveClasses,\n        } as TabsOptions);\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Tabs = Tabs;\n    window.initTabs = initTabs;\n}\n\nexport default Tabs;\n", "/* eslint-disable @typescript-eslint/no-empty-function */\nimport { createPopper } from '@popperjs/core';\nimport type {\n    Options as PopperOptions,\n    Instance as PopperInstance,\n} from '@popperjs/core';\nimport type { TooltipOptions } from './types';\nimport type { InstanceOptions } from '../../dom/types';\nimport { TooltipInterface } from './interface';\nimport instances from '../../dom/instances';\n\nconst Default: TooltipOptions = {\n    placement: 'top',\n    triggerType: 'hover',\n    onShow: () => {},\n    onHide: () => {},\n    onToggle: () => {},\n};\n\nconst DefaultInstanceOptions: InstanceOptions = {\n    id: null,\n    override: true,\n};\n\nclass Tooltip implements TooltipInterface {\n    _instanceId: string;\n    _targetEl: HTMLElement | null;\n    _triggerEl: HTMLElement | null;\n    _options: TooltipOptions;\n    _popperInstance: PopperInstance;\n    _clickOutsideEventListener: EventListenerOrEventListenerObject;\n    _keydownEventListener: EventListenerOrEventListenerObject;\n    _visible: boolean;\n    _initialized: boolean;\n    _showHandler: EventListenerOrEventListenerObject;\n    _hideHandler: EventListenerOrEventListenerObject;\n\n    constructor(\n        targetEl: HTMLElement | null = null,\n        triggerEl: HTMLElement | null = null,\n        options: TooltipOptions = Default,\n        instanceOptions: InstanceOptions = DefaultInstanceOptions\n    ) {\n        this._instanceId = instanceOptions.id\n            ? instanceOptions.id\n            : targetEl.id;\n        this._targetEl = targetEl;\n        this._triggerEl = triggerEl;\n        this._options = { ...Default, ...options };\n        this._popperInstance = null;\n        this._visible = false;\n        this._initialized = false;\n        this.init();\n        instances.addInstance(\n            'Tooltip',\n            this,\n            this._instanceId,\n            instanceOptions.override\n        );\n    }\n\n    init() {\n        if (this._triggerEl && this._targetEl && !this._initialized) {\n            this._setupEventListeners();\n            this._popperInstance = this._createPopperInstance();\n            this._initialized = true;\n        }\n    }\n\n    destroy() {\n        if (this._initialized) {\n            // remove event listeners associated with the trigger element\n            const triggerEvents = this._getTriggerEvents();\n\n            triggerEvents.showEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(ev, this._showHandler);\n            });\n\n            triggerEvents.hideEvents.forEach((ev) => {\n                this._triggerEl.removeEventListener(ev, this._hideHandler);\n            });\n\n            // remove event listeners for keydown\n            this._removeKeydownListener();\n\n            // remove event listeners for click outside\n            this._removeClickOutsideListener();\n\n            // destroy the Popper instance if you have one (assuming this._popperInstance is the Popper instance)\n            if (this._popperInstance) {\n                this._popperInstance.destroy();\n            }\n            this._initialized = false;\n        }\n    }\n\n    removeInstance() {\n        instances.removeInstance('Tooltip', this._instanceId);\n    }\n\n    destroyAndRemoveInstance() {\n        this.destroy();\n        this.removeInstance();\n    }\n\n    _setupEventListeners() {\n        const triggerEvents = this._getTriggerEvents();\n\n        this._showHandler = () => {\n            this.show();\n        };\n\n        this._hideHandler = () => {\n            this.hide();\n        };\n\n        triggerEvents.showEvents.forEach((ev) => {\n            this._triggerEl.addEventListener(ev, this._showHandler);\n        });\n\n        triggerEvents.hideEvents.forEach((ev) => {\n            this._triggerEl.addEventListener(ev, this._hideHandler);\n        });\n    }\n\n    _createPopperInstance() {\n        return createPopper(this._triggerEl, this._targetEl, {\n            placement: this._options.placement,\n            modifiers: [\n                {\n                    name: 'offset',\n                    options: {\n                        offset: [0, 8],\n                    },\n                },\n            ],\n        });\n    }\n\n    _getTriggerEvents() {\n        switch (this._options.triggerType) {\n            case 'hover':\n                return {\n                    showEvents: ['mouseenter', 'focus'],\n                    hideEvents: ['mouseleave', 'blur'],\n                };\n            case 'click':\n                return {\n                    showEvents: ['click', 'focus'],\n                    hideEvents: ['focusout', 'blur'],\n                };\n            case 'none':\n                return {\n                    showEvents: [],\n                    hideEvents: [],\n                };\n            default:\n                return {\n                    showEvents: ['mouseenter', 'focus'],\n                    hideEvents: ['mouseleave', 'blur'],\n                };\n        }\n    }\n\n    _setupKeydownListener() {\n        this._keydownEventListener = (ev: KeyboardEvent) => {\n            if (ev.key === 'Escape') {\n                this.hide();\n            }\n        };\n        document.body.addEventListener(\n            'keydown',\n            this._keydownEventListener,\n            true\n        );\n    }\n\n    _removeKeydownListener() {\n        document.body.removeEventListener(\n            'keydown',\n            this._keydownEventListener,\n            true\n        );\n    }\n\n    _setupClickOutsideListener() {\n        this._clickOutsideEventListener = (ev: MouseEvent) => {\n            this._handleClickOutside(ev, this._targetEl);\n        };\n        document.body.addEventListener(\n            'click',\n            this._clickOutsideEventListener,\n            true\n        );\n    }\n\n    _removeClickOutsideListener() {\n        document.body.removeEventListener(\n            'click',\n            this._clickOutsideEventListener,\n            true\n        );\n    }\n\n    _handleClickOutside(ev: Event, targetEl: HTMLElement) {\n        const clickedEl = ev.target as Node;\n        if (\n            clickedEl !== targetEl &&\n            !targetEl.contains(clickedEl) &&\n            !this._triggerEl.contains(clickedEl) &&\n            this.isVisible()\n        ) {\n            this.hide();\n        }\n    }\n\n    isVisible() {\n        return this._visible;\n    }\n\n    toggle() {\n        if (this.isVisible()) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    }\n\n    show() {\n        this._targetEl.classList.remove('opacity-0', 'invisible');\n        this._targetEl.classList.add('opacity-100', 'visible');\n\n        // Enable the event listeners\n        this._popperInstance.setOptions((options: PopperOptions) => ({\n            ...options,\n            modifiers: [\n                ...options.modifiers,\n                { name: 'eventListeners', enabled: true },\n            ],\n        }));\n\n        // handle click outside\n        this._setupClickOutsideListener();\n\n        // handle esc keydown\n        this._setupKeydownListener();\n\n        // Update its position\n        this._popperInstance.update();\n\n        // set visibility\n        this._visible = true;\n\n        // callback function\n        this._options.onShow(this);\n    }\n\n    hide() {\n        this._targetEl.classList.remove('opacity-100', 'visible');\n        this._targetEl.classList.add('opacity-0', 'invisible');\n\n        // Disable the event listeners\n        this._popperInstance.setOptions((options: PopperOptions) => ({\n            ...options,\n            modifiers: [\n                ...options.modifiers,\n                { name: 'eventListeners', enabled: false },\n            ],\n        }));\n\n        // handle click outside\n        this._removeClickOutsideListener();\n\n        // handle esc keydown\n        this._removeKeydownListener();\n\n        // set visibility\n        this._visible = false;\n\n        // callback function\n        this._options.onHide(this);\n    }\n\n    updateOnShow(callback: () => void) {\n        this._options.onShow = callback;\n    }\n\n    updateOnHide(callback: () => void) {\n        this._options.onHide = callback;\n    }\n\n    updateOnToggle(callback: () => void) {\n        this._options.onToggle = callback;\n    }\n}\n\nexport function initTooltips() {\n    document.querySelectorAll('[data-tooltip-target]').forEach(($triggerEl) => {\n        const tooltipId = $triggerEl.getAttribute('data-tooltip-target');\n        const $tooltipEl = document.getElementById(tooltipId);\n\n        if ($tooltipEl) {\n            const triggerType = $triggerEl.getAttribute('data-tooltip-trigger');\n            const placement = $triggerEl.getAttribute('data-tooltip-placement');\n\n            new Tooltip(\n                $tooltipEl as HTMLElement,\n                $triggerEl as HTMLElement,\n                {\n                    placement: placement ? placement : Default.placement,\n                    triggerType: triggerType\n                        ? triggerType\n                        : Default.triggerType,\n                } as TooltipOptions\n            );\n        } else {\n            console.error(\n                `The tooltip element with id \"${tooltipId}\" does not exist. Please check the data-tooltip-target attribute.`\n            );\n        }\n    });\n}\n\nif (typeof window !== 'undefined') {\n    window.Tooltip = Tooltip;\n    window.initTooltips = initTooltips;\n}\n\nexport default Tooltip;\n", "class Events {\n    private _eventType: string;\n    private _eventFunctions: EventListener[];\n\n    constructor(eventType: string, eventFunctions: EventListener[] = []) {\n        this._eventType = eventType;\n        this._eventFunctions = eventFunctions;\n    }\n\n    init() {\n        this._eventFunctions.forEach((eventFunction) => {\n            if (typeof window !== 'undefined') {\n                window.addEventListener(this._eventType, eventFunction);\n            }\n        });\n    }\n}\n\nexport default Events;\n", "import { AccordionInterface } from '../components/accordion/interface';\nimport { CarouselInterface } from '../components/carousel/interface';\nimport { CollapseInterface } from '../components/collapse/interface';\nimport { DialInterface } from '../components/dial/interface';\nimport { DismissInterface } from '../components/dismiss/interface';\nimport { DrawerInterface } from '../components/drawer/interface';\nimport { DropdownInterface } from '../components/dropdown/interface';\nimport { ModalInterface } from '../components/modal/interface';\nimport { PopoverInterface } from '../components/popover/interface';\nimport { TabsInterface } from '../components/tabs/interface';\nimport { TooltipInterface } from '../components/tooltip/interface';\nimport { InputCounterInterface } from '../components/input-counter/interface';\nimport { CopyClipboardInterface } from '../components/clipboard/interface';\nimport { DatepickerInterface } from '../components/datepicker/interface';\n\nclass Instances {\n    private _instances: {\n        Accordion: { [id: string]: AccordionInterface };\n        Carousel: { [id: string]: CarouselInterface };\n        Collapse: { [id: string]: CollapseInterface };\n        Dial: { [id: string]: DialInterface };\n        Dismiss: { [id: string]: DismissInterface };\n        Drawer: { [id: string]: DrawerInterface };\n        Dropdown: { [id: string]: DropdownInterface };\n        Modal: { [id: string]: ModalInterface };\n        Popover: { [id: string]: PopoverInterface };\n        Tabs: { [id: string]: TabsInterface };\n        Tooltip: { [id: string]: TooltipInterface };\n        InputCounter: { [id: string]: InputCounterInterface };\n        CopyClipboard: { [id: string]: CopyClipboardInterface };\n        Datepicker: { [id: string]: DatepickerInterface };\n    };\n\n    constructor() {\n        this._instances = {\n            Accordion: {},\n            Carousel: {},\n            Collapse: {},\n            Dial: {},\n            Dismiss: {},\n            Drawer: {},\n            Dropdown: {},\n            Modal: {},\n            Popover: {},\n            Tabs: {},\n            Tooltip: {},\n            InputCounter: {},\n            CopyClipboard: {},\n            Datepicker: {},\n        };\n    }\n\n    addInstance(\n        component: keyof Instances['_instances'],\n        instance: any,\n        id?: string,\n        override = false\n    ) {\n        if (!this._instances[component]) {\n            console.warn(`Flowbite: Component ${component} does not exist.`);\n            return false;\n        }\n\n        if (this._instances[component][id] && !override) {\n            console.warn(`Flowbite: Instance with ID ${id} already exists.`);\n            return;\n        }\n\n        if (override && this._instances[component][id]) {\n            this._instances[component][id].destroyAndRemoveInstance();\n        }\n\n        this._instances[component][id ? id : this._generateRandomId()] =\n            instance;\n    }\n\n    getAllInstances() {\n        return this._instances;\n    }\n\n    getInstances(component: keyof Instances['_instances']) {\n        if (!this._instances[component]) {\n            console.warn(`Flowbite: Component ${component} does not exist.`);\n            return false;\n        }\n        return this._instances[component];\n    }\n\n    getInstance(component: keyof Instances['_instances'], id: string) {\n        if (!this._componentAndInstanceCheck(component, id)) {\n            return;\n        }\n\n        if (!this._instances[component][id]) {\n            console.warn(`Flowbite: Instance with ID ${id} does not exist.`);\n            return;\n        }\n        return this._instances[component][id] as any;\n    }\n\n    destroyAndRemoveInstance(\n        component: keyof Instances['_instances'],\n        id: string\n    ) {\n        if (!this._componentAndInstanceCheck(component, id)) {\n            return;\n        }\n        this.destroyInstanceObject(component, id);\n        this.removeInstance(component, id);\n    }\n\n    removeInstance(component: keyof Instances['_instances'], id: string) {\n        if (!this._componentAndInstanceCheck(component, id)) {\n            return;\n        }\n        delete this._instances[component][id];\n    }\n\n    destroyInstanceObject(\n        component: keyof Instances['_instances'],\n        id: string\n    ) {\n        if (!this._componentAndInstanceCheck(component, id)) {\n            return;\n        }\n        this._instances[component][id].destroy();\n    }\n\n    instanceExists(component: keyof Instances['_instances'], id: string) {\n        if (!this._instances[component]) {\n            return false;\n        }\n\n        if (!this._instances[component][id]) {\n            return false;\n        }\n\n        return true;\n    }\n\n    _generateRandomId() {\n        return Math.random().toString(36).substr(2, 9);\n    }\n\n    private _componentAndInstanceCheck(\n        component: keyof Instances['_instances'],\n        id: string\n    ) {\n        if (!this._instances[component]) {\n            console.warn(`Flowbite: Component ${component} does not exist.`);\n            return false;\n        }\n\n        if (!this._instances[component][id]) {\n            console.warn(`Flowbite: Instance with ID ${id} does not exist.`);\n            return false;\n        }\n\n        return true;\n    }\n}\n\nconst instances = new Instances();\n\nexport default instances;\n\nif (typeof window !== 'undefined') {\n    window.FlowbiteInstances = instances;\n}\n", "// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n", "// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};", "__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }", "// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};", "// core components\nimport Accordion, { initAccordions } from './components/accordion';\nimport Carousel, { initCarousels } from './components/carousel';\nimport Collapse, { initCollapses } from './components/collapse';\nimport Dial, { initDials } from './components/dial';\nimport Dismiss, { initDismisses } from './components/dismiss';\nimport Drawer, { initDrawers } from './components/drawer';\nimport Dropdown, { initDropdowns } from './components/dropdown';\nimport Modal, { initModals } from './components/modal';\nimport Popover, { initPopovers } from './components/popover';\nimport Tabs, { initTabs } from './components/tabs';\nimport Tooltip, { initTooltips } from './components/tooltip';\nimport InputCounter, { initInputCounters } from './components/input-counter';\nimport CopyClipboard, { initCopyClipboards } from './components/clipboard';\nimport Datepicker, { initDatepickers } from './components/datepicker';\nimport './components/index';\nimport Events from './dom/events';\n\nconst liveViewLoadEvents = new Events('phx:page-loading-stop', [\n    initAccordions,\n    initCollapses,\n    initCarousels,\n    initDismisses,\n    initDropdowns,\n    initModals,\n    initDrawers,\n    initTabs,\n    initTooltips,\n    initPopovers,\n    initDials,\n    initInputCounters,\n    initCopyClipboards,\n    initDatepickers,\n]);\nliveViewLoadEvents.init();\n\nconst regularViewLoadEvents = new Events('load', [\n    initAccordions,\n    initCollapses,\n    initCarousels,\n    initDismisses,\n    initDropdowns,\n    initModals,\n    initDrawers,\n    initTabs,\n    initTooltips,\n    initPopovers,\n    initDials,\n    initInputCounters,\n    initCopyClipboards,\n    initDatepickers,\n]);\nregularViewLoadEvents.init();\n\nexport default {\n    Accordion,\n    Carousel,\n    Collapse,\n    Dial,\n    Drawer,\n    Dismiss,\n    Dropdown,\n    Modal,\n    Popover,\n    Tabs,\n    Tooltip,\n    InputCounter,\n    CopyClipboard,\n    Datepicker,\n    Events,\n};\n", "\"use strict\";\n\n(function() {\n  var PolyfillEvent = eventConstructor();\n\n  function eventConstructor() {\n    if (typeof window.CustomEvent === \"function\") return window.CustomEvent;\n    // IE<=9 Support\n    function CustomEvent(event, params) {\n      params = params || {bubbles: false, cancelable: false, detail: undefined};\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    }\n    CustomEvent.prototype = window.Event.prototype;\n    return CustomEvent;\n  }\n\n  function buildHiddenInput(name, value) {\n    var input = document.createElement(\"input\");\n    input.type = \"hidden\";\n    input.name = name;\n    input.value = value;\n    return input;\n  }\n\n  function handleClick(element, targetModifierKey) {\n    var to = element.getAttribute(\"data-to\"),\n        method = buildHiddenInput(\"_method\", element.getAttribute(\"data-method\")),\n        csrf = buildHiddenInput(\"_csrf_token\", element.getAttribute(\"data-csrf\")),\n        form = document.createElement(\"form\"),\n        submit = document.createElement(\"input\"),\n        target = element.getAttribute(\"target\");\n\n    form.method = (element.getAttribute(\"data-method\") === \"get\") ? \"get\" : \"post\";\n    form.action = to;\n    form.style.display = \"none\";\n\n    if (target) form.target = target;\n    else if (targetModifierKey) form.target = \"_blank\";\n\n    form.appendChild(csrf);\n    form.appendChild(method);\n    document.body.appendChild(form);\n\n    // Insert a button and click it instead of using `form.submit`\n    // because the `submit` function does not emit a `submit` event.\n    submit.type = \"submit\";\n    form.appendChild(submit);\n    submit.click();\n  }\n\n  window.addEventListener(\"click\", function(e) {\n    var element = e.target;\n    if (e.defaultPrevented) return;\n\n    while (element && element.getAttribute) {\n      var phoenixLinkEvent = new PolyfillEvent('phoenix.link.click', {\n        \"bubbles\": true, \"cancelable\": true\n      });\n\n      if (!element.dispatchEvent(phoenixLinkEvent)) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        return false;\n      }\n\n      if (element.getAttribute(\"data-method\") && element.getAttribute(\"data-to\")) {\n        handleClick(element, e.metaKey || e.shiftKey);\n        e.preventDefault();\n        return false;\n      } else {\n        element = element.parentNode;\n      }\n    }\n  }, false);\n\n  window.addEventListener('phoenix.link.click', function (e) {\n    var message = e.target.getAttribute(\"data-confirm\");\n    if(message && !window.confirm(message)) {\n      e.preventDefault();\n    }\n  }, false);\n})();\n", "// wraps value in closure or returns closure\nexport let closure = (value) => {\n  if(typeof value === \"function\"){\n    return value\n  } else {\n    let closure = function (){ return value }\n    return closure\n  }\n}\n", "export const globalSelf = typeof self !== \"undefined\" ? self : null\nexport const phxWindow = typeof window !== \"undefined\" ? window : null\nexport const global = globalSelf || phxWindow || global\nexport const DEFAULT_VSN = \"2.0.0\"\nexport const SOCKET_STATES = {connecting: 0, open: 1, closing: 2, closed: 3}\nexport const DEFAULT_TIMEOUT = 10000\nexport const WS_CLOSE_NORMAL = 1000\nexport const CHANNEL_STATES = {\n  closed: \"closed\",\n  errored: \"errored\",\n  joined: \"joined\",\n  joining: \"joining\",\n  leaving: \"leaving\",\n}\nexport const CHANNEL_EVENTS = {\n  close: \"phx_close\",\n  error: \"phx_error\",\n  join: \"phx_join\",\n  reply: \"phx_reply\",\n  leave: \"phx_leave\"\n}\n\nexport const TRANSPORTS = {\n  longpoll: \"longpoll\",\n  websocket: \"websocket\"\n}\nexport const XHR_STATES = {\n  complete: 4\n}\n", "/**\n * Initializes the Push\n * @param {Channel} channel - The Channel\n * @param {string} event - The event, for example `\"phx_join\"`\n * @param {Object} payload - The payload, for example `{user_id: 123}`\n * @param {number} timeout - The push timeout in milliseconds\n */\nexport default class Push {\n  constructor(channel, event, payload, timeout){\n    this.channel = channel\n    this.event = event\n    this.payload = payload || function (){ return {} }\n    this.receivedResp = null\n    this.timeout = timeout\n    this.timeoutTimer = null\n    this.recHooks = []\n    this.sent = false\n  }\n\n  /**\n   *\n   * @param {number} timeout\n   */\n  resend(timeout){\n    this.timeout = timeout\n    this.reset()\n    this.send()\n  }\n\n  /**\n   *\n   */\n  send(){\n    if(this.hasReceived(\"timeout\")){ return }\n    this.startTimeout()\n    this.sent = true\n    this.channel.socket.push({\n      topic: this.channel.topic,\n      event: this.event,\n      payload: this.payload(),\n      ref: this.ref,\n      join_ref: this.channel.joinRef()\n    })\n  }\n\n  /**\n   *\n   * @param {*} status\n   * @param {*} callback\n   */\n  receive(status, callback){\n    if(this.hasReceived(status)){\n      callback(this.receivedResp.response)\n    }\n\n    this.recHooks.push({status, callback})\n    return this\n  }\n\n  /**\n   * @private\n   */\n  reset(){\n    this.cancelRefEvent()\n    this.ref = null\n    this.refEvent = null\n    this.receivedResp = null\n    this.sent = false\n  }\n\n  /**\n   * @private\n   */\n  matchReceive({status, response, _ref}){\n    this.recHooks.filter(h => h.status === status)\n      .forEach(h => h.callback(response))\n  }\n\n  /**\n   * @private\n   */\n  cancelRefEvent(){\n    if(!this.refEvent){ return }\n    this.channel.off(this.refEvent)\n  }\n\n  /**\n   * @private\n   */\n  cancelTimeout(){\n    clearTimeout(this.timeoutTimer)\n    this.timeoutTimer = null\n  }\n\n  /**\n   * @private\n   */\n  startTimeout(){\n    if(this.timeoutTimer){ this.cancelTimeout() }\n    this.ref = this.channel.socket.makeRef()\n    this.refEvent = this.channel.replyEventName(this.ref)\n\n    this.channel.on(this.refEvent, payload => {\n      this.cancelRefEvent()\n      this.cancelTimeout()\n      this.receivedResp = payload\n      this.matchReceive(payload)\n    })\n\n    this.timeoutTimer = setTimeout(() => {\n      this.trigger(\"timeout\", {})\n    }, this.timeout)\n  }\n\n  /**\n   * @private\n   */\n  hasReceived(status){\n    return this.receivedResp && this.receivedResp.status === status\n  }\n\n  /**\n   * @private\n   */\n  trigger(status, response){\n    this.channel.trigger(this.refEvent, {status, response})\n  }\n}\n", "/**\n *\n * Creates a timer that accepts a `timerCalc` function to perform\n * calculated timeout retries, such as exponential backoff.\n *\n * @example\n * let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *   return [1000, 5000, 10000][tries - 1] || 10000\n * })\n * reconnectTimer.scheduleTimeout() // fires after 1000\n * reconnectTimer.scheduleTimeout() // fires after 5000\n * reconnectTimer.reset()\n * reconnectTimer.scheduleTimeout() // fires after 1000\n *\n * @param {Function} callback\n * @param {Function} timerCalc\n */\nexport default class Timer {\n  constructor(callback, timerCalc){\n    this.callback = callback\n    this.timerCalc = timerCalc\n    this.timer = null\n    this.tries = 0\n  }\n\n  reset(){\n    this.tries = 0\n    clearTimeout(this.timer)\n  }\n\n  /**\n   * Cancels any previous scheduleTimeout and schedules callback\n   */\n  scheduleTimeout(){\n    clearTimeout(this.timer)\n\n    this.timer = setTimeout(() => {\n      this.tries = this.tries + 1\n      this.callback()\n    }, this.timerCalc(this.tries + 1))\n  }\n}\n", "import {closure} from \"./utils\"\nimport {\n  CHANNEL_EVENTS,\n  CHANNEL_STATES,\n} from \"./constants\"\n\nimport Push from \"./push\"\nimport Timer from \"./timer\"\n\n/**\n *\n * @param {string} topic\n * @param {(Object|function)} params\n * @param {Socket} socket\n */\nexport default class Channel {\n  constructor(topic, params, socket){\n    this.state = CHANNEL_STATES.closed\n    this.topic = topic\n    this.params = closure(params || {})\n    this.socket = socket\n    this.bindings = []\n    this.bindingRef = 0\n    this.timeout = this.socket.timeout\n    this.joinedOnce = false\n    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout)\n    this.pushBuffer = []\n    this.stateChangeRefs = []\n\n    this.rejoinTimer = new Timer(() => {\n      if(this.socket.isConnected()){ this.rejoin() }\n    }, this.socket.rejoinAfterMs)\n    this.stateChangeRefs.push(this.socket.onError(() => this.rejoinTimer.reset()))\n    this.stateChangeRefs.push(this.socket.onOpen(() => {\n      this.rejoinTimer.reset()\n      if(this.isErrored()){ this.rejoin() }\n    })\n    )\n    this.joinPush.receive(\"ok\", () => {\n      this.state = CHANNEL_STATES.joined\n      this.rejoinTimer.reset()\n      this.pushBuffer.forEach(pushEvent => pushEvent.send())\n      this.pushBuffer = []\n    })\n    this.joinPush.receive(\"error\", () => {\n      this.state = CHANNEL_STATES.errored\n      if(this.socket.isConnected()){ this.rejoinTimer.scheduleTimeout() }\n    })\n    this.onClose(() => {\n      this.rejoinTimer.reset()\n      if(this.socket.hasLogger()) this.socket.log(\"channel\", `close ${this.topic} ${this.joinRef()}`)\n      this.state = CHANNEL_STATES.closed\n      this.socket.remove(this)\n    })\n    this.onError(reason => {\n      if(this.socket.hasLogger()) this.socket.log(\"channel\", `error ${this.topic}`, reason)\n      if(this.isJoining()){ this.joinPush.reset() }\n      this.state = CHANNEL_STATES.errored\n      if(this.socket.isConnected()){ this.rejoinTimer.scheduleTimeout() }\n    })\n    this.joinPush.receive(\"timeout\", () => {\n      if(this.socket.hasLogger()) this.socket.log(\"channel\", `timeout ${this.topic} (${this.joinRef()})`, this.joinPush.timeout)\n      let leavePush = new Push(this, CHANNEL_EVENTS.leave, closure({}), this.timeout)\n      leavePush.send()\n      this.state = CHANNEL_STATES.errored\n      this.joinPush.reset()\n      if(this.socket.isConnected()){ this.rejoinTimer.scheduleTimeout() }\n    })\n    this.on(CHANNEL_EVENTS.reply, (payload, ref) => {\n      this.trigger(this.replyEventName(ref), payload)\n    })\n  }\n\n  /**\n   * Join the channel\n   * @param {integer} timeout\n   * @returns {Push}\n   */\n  join(timeout = this.timeout){\n    if(this.joinedOnce){\n      throw new Error(\"tried to join multiple times. 'join' can only be called a single time per channel instance\")\n    } else {\n      this.timeout = timeout\n      this.joinedOnce = true\n      this.rejoin()\n      return this.joinPush\n    }\n  }\n\n  /**\n   * Hook into channel close\n   * @param {Function} callback\n   */\n  onClose(callback){\n    this.on(CHANNEL_EVENTS.close, callback)\n  }\n\n  /**\n   * Hook into channel errors\n   * @param {Function} callback\n   */\n  onError(callback){\n    return this.on(CHANNEL_EVENTS.error, reason => callback(reason))\n  }\n\n  /**\n   * Subscribes on channel events\n   *\n   * Subscription returns a ref counter, which can be used later to\n   * unsubscribe the exact event listener\n   *\n   * @example\n   * const ref1 = channel.on(\"event\", do_stuff)\n   * const ref2 = channel.on(\"event\", do_other_stuff)\n   * channel.off(\"event\", ref1)\n   * // Since unsubscription, do_stuff won't fire,\n   * // while do_other_stuff will keep firing on the \"event\"\n   *\n   * @param {string} event\n   * @param {Function} callback\n   * @returns {integer} ref\n   */\n  on(event, callback){\n    let ref = this.bindingRef++\n    this.bindings.push({event, ref, callback})\n    return ref\n  }\n\n  /**\n   * Unsubscribes off of channel events\n   *\n   * Use the ref returned from a channel.on() to unsubscribe one\n   * handler, or pass nothing for the ref to unsubscribe all\n   * handlers for the given event.\n   *\n   * @example\n   * // Unsubscribe the do_stuff handler\n   * const ref1 = channel.on(\"event\", do_stuff)\n   * channel.off(\"event\", ref1)\n   *\n   * // Unsubscribe all handlers from event\n   * channel.off(\"event\")\n   *\n   * @param {string} event\n   * @param {integer} ref\n   */\n  off(event, ref){\n    this.bindings = this.bindings.filter((bind) => {\n      return !(bind.event === event && (typeof ref === \"undefined\" || ref === bind.ref))\n    })\n  }\n\n  /**\n   * @private\n   */\n  canPush(){ return this.socket.isConnected() && this.isJoined() }\n\n  /**\n   * Sends a message `event` to phoenix with the payload `payload`.\n   * Phoenix receives this in the `handle_in(event, payload, socket)`\n   * function. if phoenix replies or it times out (default 10000ms),\n   * then optionally the reply can be received.\n   *\n   * @example\n   * channel.push(\"event\")\n   *   .receive(\"ok\", payload => console.log(\"phoenix replied:\", payload))\n   *   .receive(\"error\", err => console.log(\"phoenix errored\", err))\n   *   .receive(\"timeout\", () => console.log(\"timed out pushing\"))\n   * @param {string} event\n   * @param {Object} payload\n   * @param {number} [timeout]\n   * @returns {Push}\n   */\n  push(event, payload, timeout = this.timeout){\n    payload = payload || {}\n    if(!this.joinedOnce){\n      throw new Error(`tried to push '${event}' to '${this.topic}' before joining. Use channel.join() before pushing events`)\n    }\n    let pushEvent = new Push(this, event, function (){ return payload }, timeout)\n    if(this.canPush()){\n      pushEvent.send()\n    } else {\n      pushEvent.startTimeout()\n      this.pushBuffer.push(pushEvent)\n    }\n\n    return pushEvent\n  }\n\n  /** Leaves the channel\n   *\n   * Unsubscribes from server events, and\n   * instructs channel to terminate on server\n   *\n   * Triggers onClose() hooks\n   *\n   * To receive leave acknowledgements, use the `receive`\n   * hook to bind to the server ack, ie:\n   *\n   * @example\n   * channel.leave().receive(\"ok\", () => alert(\"left!\") )\n   *\n   * @param {integer} timeout\n   * @returns {Push}\n   */\n  leave(timeout = this.timeout){\n    this.rejoinTimer.reset()\n    this.joinPush.cancelTimeout()\n\n    this.state = CHANNEL_STATES.leaving\n    let onClose = () => {\n      if(this.socket.hasLogger()) this.socket.log(\"channel\", `leave ${this.topic}`)\n      this.trigger(CHANNEL_EVENTS.close, \"leave\")\n    }\n    let leavePush = new Push(this, CHANNEL_EVENTS.leave, closure({}), timeout)\n    leavePush.receive(\"ok\", () => onClose())\n      .receive(\"timeout\", () => onClose())\n    leavePush.send()\n    if(!this.canPush()){ leavePush.trigger(\"ok\", {}) }\n\n    return leavePush\n  }\n\n  /**\n   * Overridable message hook\n   *\n   * Receives all events for specialized message handling\n   * before dispatching to the channel callbacks.\n   *\n   * Must return the payload, modified or unmodified\n   * @param {string} event\n   * @param {Object} payload\n   * @param {integer} ref\n   * @returns {Object}\n   */\n  onMessage(_event, payload, _ref){ return payload }\n\n  /**\n   * @private\n   */\n  isMember(topic, event, payload, joinRef){\n    if(this.topic !== topic){ return false }\n\n    if(joinRef && joinRef !== this.joinRef()){\n      if(this.socket.hasLogger()) this.socket.log(\"channel\", \"dropping outdated message\", {topic, event, payload, joinRef})\n      return false\n    } else {\n      return true\n    }\n  }\n\n  /**\n   * @private\n   */\n  joinRef(){ return this.joinPush.ref }\n\n  /**\n   * @private\n   */\n  rejoin(timeout = this.timeout){\n    if(this.isLeaving()){ return }\n    this.socket.leaveOpenTopic(this.topic)\n    this.state = CHANNEL_STATES.joining\n    this.joinPush.resend(timeout)\n  }\n\n  /**\n   * @private\n   */\n  trigger(event, payload, ref, joinRef){\n    let handledPayload = this.onMessage(event, payload, ref, joinRef)\n    if(payload && !handledPayload){ throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\") }\n\n    let eventBindings = this.bindings.filter(bind => bind.event === event)\n\n    for(let i = 0; i < eventBindings.length; i++){\n      let bind = eventBindings[i]\n      bind.callback(handledPayload, ref, joinRef || this.joinRef())\n    }\n  }\n\n  /**\n   * @private\n   */\n  replyEventName(ref){ return `chan_reply_${ref}` }\n\n  /**\n   * @private\n   */\n  isClosed(){ return this.state === CHANNEL_STATES.closed }\n\n  /**\n   * @private\n   */\n  isErrored(){ return this.state === CHANNEL_STATES.errored }\n\n  /**\n   * @private\n   */\n  isJoined(){ return this.state === CHANNEL_STATES.joined }\n\n  /**\n   * @private\n   */\n  isJoining(){ return this.state === CHANNEL_STATES.joining }\n\n  /**\n   * @private\n   */\n  isLeaving(){ return this.state === CHANNEL_STATES.leaving }\n}\n", "import {\n  global,\n  XHR_STATES\n} from \"./constants\"\n\nexport default class Ajax {\n\n  static request(method, endPoint, accept, body, timeout, ontimeout, callback){\n    if(global.XDomainRequest){\n      let req = new global.XDomainRequest() // IE8, IE9\n      return this.xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback)\n    } else {\n      let req = new global.XMLHttpRequest() // IE7+, Firefox, Chrome, Opera, Safari\n      return this.xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback)\n    }\n  }\n\n  static xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback){\n    req.timeout = timeout\n    req.open(method, endPoint)\n    req.onload = () => {\n      let response = this.parseJSON(req.responseText)\n      callback && callback(response)\n    }\n    if(ontimeout){ req.ontimeout = ontimeout }\n\n    // Work around bug in IE9 that requires an attached onprogress handler\n    req.onprogress = () => { }\n\n    req.send(body)\n    return req\n  }\n\n  static xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback){\n    req.open(method, endPoint, true)\n    req.timeout = timeout\n    req.setRequestHeader(\"Content-Type\", accept)\n    req.onerror = () => callback && callback(null)\n    req.onreadystatechange = () => {\n      if(req.readyState === XHR_STATES.complete && callback){\n        let response = this.parseJSON(req.responseText)\n        callback(response)\n      }\n    }\n    if(ontimeout){ req.ontimeout = ontimeout }\n\n    req.send(body)\n    return req\n  }\n\n  static parseJSON(resp){\n    if(!resp || resp === \"\"){ return null }\n\n    try {\n      return JSON.parse(resp)\n    } catch (e){\n      console && console.log(\"failed to parse JSON response\", resp)\n      return null\n    }\n  }\n\n  static serialize(obj, parentKey){\n    let queryStr = []\n    for(var key in obj){\n      if(!Object.prototype.hasOwnProperty.call(obj, key)){ continue }\n      let paramKey = parentKey ? `${parentKey}[${key}]` : key\n      let paramVal = obj[key]\n      if(typeof paramVal === \"object\"){\n        queryStr.push(this.serialize(paramVal, paramKey))\n      } else {\n        queryStr.push(encodeURIComponent(paramKey) + \"=\" + encodeURIComponent(paramVal))\n      }\n    }\n    return queryStr.join(\"&\")\n  }\n\n  static appendParams(url, params){\n    if(Object.keys(params).length === 0){ return url }\n\n    let prefix = url.match(/\\?/) ? \"&\" : \"?\"\n    return `${url}${prefix}${this.serialize(params)}`\n  }\n}\n", "import {\n  SOCKET_STATES,\n  TRANSPORTS\n} from \"./constants\"\n\nimport Ajax from \"./ajax\"\n\nlet arrayBufferToBase64 = (buffer) => {\n  let binary = \"\"\n  let bytes = new Uint8Array(buffer)\n  let len = bytes.byteLength\n  for(let i = 0; i < len; i++){ binary += String.fromCharCode(bytes[i]) }\n  return btoa(binary)\n}\n\nexport default class LongPoll {\n\n  constructor(endPoint){\n    this.endPoint = null\n    this.token = null\n    this.skipHeartbeat = true\n    this.reqs = new Set()\n    this.awaitingBatchAck = false\n    this.currentBatch = null\n    this.currentBatchTimer = null\n    this.batchBuffer = []\n    this.onopen = function (){ } // noop\n    this.onerror = function (){ } // noop\n    this.onmessage = function (){ } // noop\n    this.onclose = function (){ } // noop\n    this.pollEndpoint = this.normalizeEndpoint(endPoint)\n    this.readyState = SOCKET_STATES.connecting\n    // we must wait for the caller to finish setting up our callbacks and timeout properties\n    setTimeout(() => this.poll(), 0)\n  }\n\n  normalizeEndpoint(endPoint){\n    return (endPoint\n      .replace(\"ws://\", \"http://\")\n      .replace(\"wss://\", \"https://\")\n      .replace(new RegExp(\"(.*)\\/\" + TRANSPORTS.websocket), \"$1/\" + TRANSPORTS.longpoll))\n  }\n\n  endpointURL(){\n    return Ajax.appendParams(this.pollEndpoint, {token: this.token})\n  }\n\n  closeAndRetry(code, reason, wasClean){\n    this.close(code, reason, wasClean)\n    this.readyState = SOCKET_STATES.connecting\n  }\n\n  ontimeout(){\n    this.onerror(\"timeout\")\n    this.closeAndRetry(1005, \"timeout\", false)\n  }\n\n  isActive(){ return this.readyState === SOCKET_STATES.open || this.readyState === SOCKET_STATES.connecting }\n\n  poll(){\n    this.ajax(\"GET\", \"application/json\", null, () => this.ontimeout(), resp => {\n      if(resp){\n        var {status, token, messages} = resp\n        this.token = token\n      } else {\n        status = 0\n      }\n\n      switch(status){\n        case 200:\n          messages.forEach(msg => {\n            // Tasks are what things like event handlers, setTimeout callbacks,\n            // promise resolves and more are run within.\n            // In modern browsers, there are two different kinds of tasks,\n            // microtasks and macrotasks.\n            // Microtasks are mainly used for Promises, while macrotasks are\n            // used for everything else.\n            // Microtasks always have priority over macrotasks. If the JS engine\n            // is looking for a task to run, it will always try to empty the\n            // microtask queue before attempting to run anything from the\n            // macrotask queue.\n            //\n            // For the WebSocket transport, messages always arrive in their own\n            // event. This means that if any promises are resolved from within,\n            // their callbacks will always finish execution by the time the\n            // next message event handler is run.\n            //\n            // In order to emulate this behaviour, we need to make sure each\n            // onmessage handler is run within its own macrotask.\n            setTimeout(() => this.onmessage({data: msg}), 0)\n          })\n          this.poll()\n          break\n        case 204:\n          this.poll()\n          break\n        case 410:\n          this.readyState = SOCKET_STATES.open\n          this.onopen({})\n          this.poll()\n          break\n        case 403:\n          this.onerror(403)\n          this.close(1008, \"forbidden\", false)\n          break\n        case 0:\n        case 500:\n          this.onerror(500)\n          this.closeAndRetry(1011, \"internal server error\", 500)\n          break\n        default: throw new Error(`unhandled poll status ${status}`)\n      }\n    })\n  }\n\n  // we collect all pushes within the current event loop by\n  // setTimeout 0, which optimizes back-to-back procedural\n  // pushes against an empty buffer\n\n  send(body){\n    if(typeof(body) !== \"string\"){ body = arrayBufferToBase64(body) }\n    if(this.currentBatch){\n      this.currentBatch.push(body)\n    } else if(this.awaitingBatchAck){\n      this.batchBuffer.push(body)\n    } else {\n      this.currentBatch = [body]\n      this.currentBatchTimer = setTimeout(() => {\n        this.batchSend(this.currentBatch)\n        this.currentBatch = null\n      }, 0)\n    }\n  }\n\n  batchSend(messages){\n    this.awaitingBatchAck = true\n    this.ajax(\"POST\", \"application/x-ndjson\", messages.join(\"\\n\"), () => this.onerror(\"timeout\"), resp => {\n      this.awaitingBatchAck = false\n      if(!resp || resp.status !== 200){\n        this.onerror(resp && resp.status)\n        this.closeAndRetry(1011, \"internal server error\", false)\n      } else if(this.batchBuffer.length > 0){\n        this.batchSend(this.batchBuffer)\n        this.batchBuffer = []\n      }\n    })\n  }\n\n  close(code, reason, wasClean){\n    for(let req of this.reqs){ req.abort() }\n    this.readyState = SOCKET_STATES.closed\n    let opts = Object.assign({code: 1000, reason: undefined, wasClean: true}, {code, reason, wasClean})\n    this.batchBuffer = []\n    clearTimeout(this.currentBatchTimer)\n    this.currentBatchTimer = null\n    if(typeof(CloseEvent) !== \"undefined\"){\n      this.onclose(new CloseEvent(\"close\", opts))\n    } else {\n      this.onclose(opts)\n    }\n  }\n\n  ajax(method, contentType, body, onCallerTimeout, callback){\n    let req\n    let ontimeout = () => {\n      this.reqs.delete(req)\n      onCallerTimeout()\n    }\n    req = Ajax.request(method, this.endpointURL(), contentType, body, this.timeout, ontimeout, resp => {\n      this.reqs.delete(req)\n      if(this.isActive()){ callback(resp) }\n    })\n    this.reqs.add(req)\n  }\n}\n", "/**\n * Initializes the Presence\n * @param {Channel} channel - The Channel\n * @param {Object} opts - The options,\n *        for example `{events: {state: \"state\", diff: \"diff\"}}`\n */\nexport default class Presence {\n\n  constructor(channel, opts = {}){\n    let events = opts.events || {state: \"presence_state\", diff: \"presence_diff\"}\n    this.state = {}\n    this.pendingDiffs = []\n    this.channel = channel\n    this.joinRef = null\n    this.caller = {\n      onJoin: function (){ },\n      onLeave: function (){ },\n      onSync: function (){ }\n    }\n\n    this.channel.on(events.state, newState => {\n      let {onJoin, onLeave, onSync} = this.caller\n\n      this.joinRef = this.channel.joinRef()\n      this.state = Presence.syncState(this.state, newState, onJoin, onLeave)\n\n      this.pendingDiffs.forEach(diff => {\n        this.state = Presence.syncDiff(this.state, diff, onJoin, onLeave)\n      })\n      this.pendingDiffs = []\n      onSync()\n    })\n\n    this.channel.on(events.diff, diff => {\n      let {onJoin, onLeave, onSync} = this.caller\n\n      if(this.inPendingSyncState()){\n        this.pendingDiffs.push(diff)\n      } else {\n        this.state = Presence.syncDiff(this.state, diff, onJoin, onLeave)\n        onSync()\n      }\n    })\n  }\n\n  onJoin(callback){ this.caller.onJoin = callback }\n\n  onLeave(callback){ this.caller.onLeave = callback }\n\n  onSync(callback){ this.caller.onSync = callback }\n\n  list(by){ return Presence.list(this.state, by) }\n\n  inPendingSyncState(){\n    return !this.joinRef || (this.joinRef !== this.channel.joinRef())\n  }\n\n  // lower-level public static API\n\n  /**\n   * Used to sync the list of presences on the server\n   * with the client's state. An optional `onJoin` and `onLeave` callback can\n   * be provided to react to changes in the client's local presences across\n   * disconnects and reconnects with the server.\n   *\n   * @returns {Presence}\n   */\n  static syncState(currentState, newState, onJoin, onLeave){\n    let state = this.clone(currentState)\n    let joins = {}\n    let leaves = {}\n\n    this.map(state, (key, presence) => {\n      if(!newState[key]){\n        leaves[key] = presence\n      }\n    })\n    this.map(newState, (key, newPresence) => {\n      let currentPresence = state[key]\n      if(currentPresence){\n        let newRefs = newPresence.metas.map(m => m.phx_ref)\n        let curRefs = currentPresence.metas.map(m => m.phx_ref)\n        let joinedMetas = newPresence.metas.filter(m => curRefs.indexOf(m.phx_ref) < 0)\n        let leftMetas = currentPresence.metas.filter(m => newRefs.indexOf(m.phx_ref) < 0)\n        if(joinedMetas.length > 0){\n          joins[key] = newPresence\n          joins[key].metas = joinedMetas\n        }\n        if(leftMetas.length > 0){\n          leaves[key] = this.clone(currentPresence)\n          leaves[key].metas = leftMetas\n        }\n      } else {\n        joins[key] = newPresence\n      }\n    })\n    return this.syncDiff(state, {joins: joins, leaves: leaves}, onJoin, onLeave)\n  }\n\n  /**\n   *\n   * Used to sync a diff of presence join and leave\n   * events from the server, as they happen. Like `syncState`, `syncDiff`\n   * accepts optional `onJoin` and `onLeave` callbacks to react to a user\n   * joining or leaving from a device.\n   *\n   * @returns {Presence}\n   */\n  static syncDiff(state, diff, onJoin, onLeave){\n    let {joins, leaves} = this.clone(diff)\n    if(!onJoin){ onJoin = function (){ } }\n    if(!onLeave){ onLeave = function (){ } }\n\n    this.map(joins, (key, newPresence) => {\n      let currentPresence = state[key]\n      state[key] = this.clone(newPresence)\n      if(currentPresence){\n        let joinedRefs = state[key].metas.map(m => m.phx_ref)\n        let curMetas = currentPresence.metas.filter(m => joinedRefs.indexOf(m.phx_ref) < 0)\n        state[key].metas.unshift(...curMetas)\n      }\n      onJoin(key, currentPresence, newPresence)\n    })\n    this.map(leaves, (key, leftPresence) => {\n      let currentPresence = state[key]\n      if(!currentPresence){ return }\n      let refsToRemove = leftPresence.metas.map(m => m.phx_ref)\n      currentPresence.metas = currentPresence.metas.filter(p => {\n        return refsToRemove.indexOf(p.phx_ref) < 0\n      })\n      onLeave(key, currentPresence, leftPresence)\n      if(currentPresence.metas.length === 0){\n        delete state[key]\n      }\n    })\n    return state\n  }\n\n  /**\n   * Returns the array of presences, with selected metadata.\n   *\n   * @param {Object} presences\n   * @param {Function} chooser\n   *\n   * @returns {Presence}\n   */\n  static list(presences, chooser){\n    if(!chooser){ chooser = function (key, pres){ return pres } }\n\n    return this.map(presences, (key, presence) => {\n      return chooser(key, presence)\n    })\n  }\n\n  // private\n\n  static map(obj, func){\n    return Object.getOwnPropertyNames(obj).map(key => func(key, obj[key]))\n  }\n\n  static clone(obj){ return JSON.parse(JSON.stringify(obj)) }\n}\n", "/* The default serializer for encoding and decoding messages */\nimport {\n  CHANNEL_EVENTS\n} from \"./constants\"\n\nexport default {\n  HEADER_LENGTH: 1,\n  META_LENGTH: 4,\n  KINDS: {push: 0, reply: 1, broadcast: 2},\n\n  encode(msg, callback){\n    if(msg.payload.constructor === ArrayBuffer){\n      return callback(this.binaryEncode(msg))\n    } else {\n      let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload]\n      return callback(JSON.stringify(payload))\n    }\n  },\n\n  decode(rawPayload, callback){\n    if(rawPayload.constructor === ArrayBuffer){\n      return callback(this.binaryDecode(rawPayload))\n    } else {\n      let [join_ref, ref, topic, event, payload] = JSON.parse(rawPayload)\n      return callback({join_ref, ref, topic, event, payload})\n    }\n  },\n\n  // private\n\n  binaryEncode(message){\n    let {join_ref, ref, event, topic, payload} = message\n    let metaLength = this.META_LENGTH + join_ref.length + ref.length + topic.length + event.length\n    let header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.push) // kind\n    view.setUint8(offset++, join_ref.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, event.length)\n    Array.from(join_ref, char => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(event, char => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + payload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(payload), header.byteLength)\n\n    return combined.buffer\n  },\n\n  binaryDecode(buffer){\n    let view = new DataView(buffer)\n    let kind = view.getUint8(0)\n    let decoder = new TextDecoder()\n    switch(kind){\n      case this.KINDS.push: return this.decodePush(buffer, view, decoder)\n      case this.KINDS.reply: return this.decodeReply(buffer, view, decoder)\n      case this.KINDS.broadcast: return this.decodeBroadcast(buffer, view, decoder)\n    }\n  },\n\n  decodePush(buffer, view, decoder){\n    let joinRefSize = view.getUint8(1)\n    let topicSize = view.getUint8(2)\n    let eventSize = view.getUint8(3)\n    let offset = this.HEADER_LENGTH + this.META_LENGTH - 1 // pushes have no ref\n    let joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize))\n    offset = offset + joinRefSize\n    let topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    let event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    let data = buffer.slice(offset, buffer.byteLength)\n    return {join_ref: joinRef, ref: null, topic: topic, event: event, payload: data}\n  },\n\n  decodeReply(buffer, view, decoder){\n    let joinRefSize = view.getUint8(1)\n    let refSize = view.getUint8(2)\n    let topicSize = view.getUint8(3)\n    let eventSize = view.getUint8(4)\n    let offset = this.HEADER_LENGTH + this.META_LENGTH\n    let joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize))\n    offset = offset + joinRefSize\n    let ref = decoder.decode(buffer.slice(offset, offset + refSize))\n    offset = offset + refSize\n    let topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    let event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    let data = buffer.slice(offset, buffer.byteLength)\n    let payload = {status: event, response: data}\n    return {join_ref: joinRef, ref: ref, topic: topic, event: CHANNEL_EVENTS.reply, payload: payload}\n  },\n\n  decodeBroadcast(buffer, view, decoder){\n    let topicSize = view.getUint8(1)\n    let eventSize = view.getUint8(2)\n    let offset = this.HEADER_LENGTH + 2\n    let topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    let event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    let data = buffer.slice(offset, buffer.byteLength)\n\n    return {join_ref: null, ref: null, topic: topic, event: event, payload: data}\n  }\n}\n", "import {\n  global,\n  phxWindow,\n  CHANNEL_EVENTS,\n  DEFAULT_TIMEOUT,\n  DEFAULT_VSN,\n  SOCKET_STATES,\n  TRANSPORTS,\n  WS_CLOSE_NORMAL\n} from \"./constants\"\n\nimport {\n  closure\n} from \"./utils\"\n\nimport Ajax from \"./ajax\"\nimport Channel from \"./channel\"\nimport LongPoll from \"./longpoll\"\nimport Serializer from \"./serializer\"\nimport Timer from \"./timer\"\n\n/** Initializes the Socket *\n *\n * For IE8 support use an ES5-shim (https://github.com/es-shims/es5-shim)\n *\n * @param {string} endPoint - The string WebSocket endpoint, ie, `\"ws://example.com/socket\"`,\n *                                               `\"wss://example.com\"`\n *                                               `\"/socket\"` (inherited host & protocol)\n * @param {Object} [opts] - Optional configuration\n * @param {Function} [opts.transport] - The Websocket Transport, for example WebSocket or Phoenix.LongPoll.\n *\n * Defaults to WebSocket with automatic LongPoll fallback if WebSocket is not defined.\n * To fallback to LongPoll when WebSocket attempts fail, use `longPollFallbackMs: 2500`.\n *\n * @param {Function} [opts.longPollFallbackMs] - The millisecond time to attempt the primary transport\n * before falling back to the LongPoll transport. Disabled by default.\n *\n * @param {Function} [opts.debug] - When true, enables debug logging. Default false.\n *\n * @param {Function} [opts.encode] - The function to encode outgoing messages.\n *\n * Defaults to JSON encoder.\n *\n * @param {Function} [opts.decode] - The function to decode incoming messages.\n *\n * Defaults to JSON:\n *\n * ```javascript\n * (payload, callback) => callback(JSON.parse(payload))\n * ```\n *\n * @param {number} [opts.timeout] - The default timeout in milliseconds to trigger push timeouts.\n *\n * Defaults `DEFAULT_TIMEOUT`\n * @param {number} [opts.heartbeatIntervalMs] - The millisec interval to send a heartbeat message\n * @param {number} [opts.reconnectAfterMs] - The optional function that returns the millisec\n * socket reconnect interval.\n *\n * Defaults to stepped backoff of:\n *\n * ```javascript\n * function(tries){\n *   return [10, 50, 100, 150, 200, 250, 500, 1000, 2000][tries - 1] || 5000\n * }\n * ````\n *\n * @param {number} [opts.rejoinAfterMs] - The optional function that returns the millisec\n * rejoin interval for individual channels.\n *\n * ```javascript\n * function(tries){\n *   return [1000, 2000, 5000][tries - 1] || 10000\n * }\n * ````\n *\n * @param {Function} [opts.logger] - The optional function for specialized logging, ie:\n *\n * ```javascript\n * function(kind, msg, data) {\n *   console.log(`${kind}: ${msg}`, data)\n * }\n * ```\n *\n * @param {number} [opts.longpollerTimeout] - The maximum timeout of a long poll AJAX request.\n *\n * Defaults to 20s (double the server long poll timer).\n *\n * @param {(Object|function)} [opts.params] - The optional params to pass when connecting\n * @param {string} [opts.binaryType] - The binary type to use for binary WebSocket frames.\n *\n * Defaults to \"arraybuffer\"\n *\n * @param {vsn} [opts.vsn] - The serializer's protocol version to send on connect.\n *\n * Defaults to DEFAULT_VSN.\n *\n * @param {Object} [opts.sessionStorage] - An optional Storage compatible object\n * Phoenix uses sessionStorage for longpoll fallback history. Overriding the store is\n * useful when Phoenix won't have access to `sessionStorage`. For example, This could\n * happen if a site loads a cross-domain channel in an iframe. Example usage:\n *\n *     class InMemoryStorage {\n *       constructor() { this.storage = {} }\n *       getItem(keyName) { return this.storage[keyName] || null }\n *       removeItem(keyName) { delete this.storage[keyName] }\n *       setItem(keyName, keyValue) { this.storage[keyName] = keyValue }\n *     }\n *\n*/\nexport default class Socket {\n  constructor(endPoint, opts = {}){\n    this.stateChangeCallbacks = {open: [], close: [], error: [], message: []}\n    this.channels = []\n    this.sendBuffer = []\n    this.ref = 0\n    this.timeout = opts.timeout || DEFAULT_TIMEOUT\n    this.transport = opts.transport || global.WebSocket || LongPoll\n    this.primaryPassedHealthCheck = false\n    this.longPollFallbackMs = opts.longPollFallbackMs\n    this.fallbackTimer = null\n    this.sessionStore = opts.sessionStorage || (global && global.sessionStorage)\n    this.establishedConnections = 0\n    this.defaultEncoder = Serializer.encode.bind(Serializer)\n    this.defaultDecoder = Serializer.decode.bind(Serializer)\n    this.closeWasClean = false\n    this.binaryType = opts.binaryType || \"arraybuffer\"\n    this.connectClock = 1\n    if(this.transport !== LongPoll){\n      this.encode = opts.encode || this.defaultEncoder\n      this.decode = opts.decode || this.defaultDecoder\n    } else {\n      this.encode = this.defaultEncoder\n      this.decode = this.defaultDecoder\n    }\n    let awaitingConnectionOnPageShow = null\n    if(phxWindow && phxWindow.addEventListener){\n      phxWindow.addEventListener(\"pagehide\", _e => {\n        if(this.conn){\n          this.disconnect()\n          awaitingConnectionOnPageShow = this.connectClock\n        }\n      })\n      phxWindow.addEventListener(\"pageshow\", _e => {\n        if(awaitingConnectionOnPageShow === this.connectClock){\n          awaitingConnectionOnPageShow = null\n          this.connect()\n        }\n      })\n    }\n    this.heartbeatIntervalMs = opts.heartbeatIntervalMs || 30000\n    this.rejoinAfterMs = (tries) => {\n      if(opts.rejoinAfterMs){\n        return opts.rejoinAfterMs(tries)\n      } else {\n        return [1000, 2000, 5000][tries - 1] || 10000\n      }\n    }\n    this.reconnectAfterMs = (tries) => {\n      if(opts.reconnectAfterMs){\n        return opts.reconnectAfterMs(tries)\n      } else {\n        return [10, 50, 100, 150, 200, 250, 500, 1000, 2000][tries - 1] || 5000\n      }\n    }\n    this.logger = opts.logger || null\n    if(!this.logger && opts.debug){\n      this.logger = (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n    }\n    this.longpollerTimeout = opts.longpollerTimeout || 20000\n    this.params = closure(opts.params || {})\n    this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`\n    this.vsn = opts.vsn || DEFAULT_VSN\n    this.heartbeatTimeoutTimer = null\n    this.heartbeatTimer = null\n    this.pendingHeartbeatRef = null\n    this.reconnectTimer = new Timer(() => {\n      this.teardown(() => this.connect())\n    }, this.reconnectAfterMs)\n  }\n\n  /**\n   * Returns the LongPoll transport reference\n   */\n  getLongPollTransport(){ return LongPoll }\n\n  /**\n   * Disconnects and replaces the active transport\n   *\n   * @param {Function} newTransport - The new transport class to instantiate\n   *\n   */\n  replaceTransport(newTransport){\n    this.connectClock++\n    this.closeWasClean = true\n    clearTimeout(this.fallbackTimer)\n    this.reconnectTimer.reset()\n    if(this.conn){\n      this.conn.close()\n      this.conn = null\n    }\n    this.transport = newTransport\n  }\n\n  /**\n   * Returns the socket protocol\n   *\n   * @returns {string}\n   */\n  protocol(){ return location.protocol.match(/^https/) ? \"wss\" : \"ws\" }\n\n  /**\n   * The fully qualified socket url\n   *\n   * @returns {string}\n   */\n  endPointURL(){\n    let uri = Ajax.appendParams(\n      Ajax.appendParams(this.endPoint, this.params()), {vsn: this.vsn})\n    if(uri.charAt(0) !== \"/\"){ return uri }\n    if(uri.charAt(1) === \"/\"){ return `${this.protocol()}:${uri}` }\n\n    return `${this.protocol()}://${location.host}${uri}`\n  }\n\n  /**\n   * Disconnects the socket\n   *\n   * See https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes for valid status codes.\n   *\n   * @param {Function} callback - Optional callback which is called after socket is disconnected.\n   * @param {integer} code - A status code for disconnection (Optional).\n   * @param {string} reason - A textual description of the reason to disconnect. (Optional)\n   */\n  disconnect(callback, code, reason){\n    this.connectClock++\n    this.closeWasClean = true\n    clearTimeout(this.fallbackTimer)\n    this.reconnectTimer.reset()\n    this.teardown(callback, code, reason)\n  }\n\n  /**\n   *\n   * @param {Object} params - The params to send when connecting, for example `{user_id: userToken}`\n   *\n   * Passing params to connect is deprecated; pass them in the Socket constructor instead:\n   * `new Socket(\"/socket\", {params: {user_id: userToken}})`.\n   */\n  connect(params){\n    if(params){\n      console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\")\n      this.params = closure(params)\n    }\n    if(this.conn){ return }\n    if(this.longPollFallbackMs && this.transport !== LongPoll){\n      this.connectWithFallback(LongPoll, this.longPollFallbackMs)\n    } else {\n      this.transportConnect()\n    }\n  }\n\n  /**\n   * Logs the message. Override `this.logger` for specialized logging. noops by default\n   * @param {string} kind\n   * @param {string} msg\n   * @param {Object} data\n   */\n  log(kind, msg, data){ this.logger && this.logger(kind, msg, data) }\n\n  /**\n   * Returns true if a logger has been set on this socket.\n   */\n  hasLogger(){ return this.logger !== null }\n\n  /**\n   * Registers callbacks for connection open events\n   *\n   * @example socket.onOpen(function(){ console.info(\"the socket was opened\") })\n   *\n   * @param {Function} callback\n   */\n  onOpen(callback){\n    let ref = this.makeRef()\n    this.stateChangeCallbacks.open.push([ref, callback])\n    return ref\n  }\n\n  /**\n   * Registers callbacks for connection close events\n   * @param {Function} callback\n   */\n  onClose(callback){\n    let ref = this.makeRef()\n    this.stateChangeCallbacks.close.push([ref, callback])\n    return ref\n  }\n\n  /**\n   * Registers callbacks for connection error events\n   *\n   * @example socket.onError(function(error){ alert(\"An error occurred\") })\n   *\n   * @param {Function} callback\n   */\n  onError(callback){\n    let ref = this.makeRef()\n    this.stateChangeCallbacks.error.push([ref, callback])\n    return ref\n  }\n\n  /**\n   * Registers callbacks for connection message events\n   * @param {Function} callback\n   */\n  onMessage(callback){\n    let ref = this.makeRef()\n    this.stateChangeCallbacks.message.push([ref, callback])\n    return ref\n  }\n\n  /**\n   * Pings the server and invokes the callback with the RTT in milliseconds\n   * @param {Function} callback\n   *\n   * Returns true if the ping was pushed or false if unable to be pushed.\n   */\n  ping(callback){\n    if(!this.isConnected()){ return false }\n    let ref = this.makeRef()\n    let startTime = Date.now()\n    this.push({topic: \"phoenix\", event: \"heartbeat\", payload: {}, ref: ref})\n    let onMsgRef = this.onMessage(msg => {\n      if(msg.ref === ref){\n        this.off([onMsgRef])\n        callback(Date.now() - startTime)\n      }\n    })\n    return true\n  }\n\n  /**\n   * @private\n   */\n\n  transportConnect(){\n    this.connectClock++\n    this.closeWasClean = false\n    this.conn = new this.transport(this.endPointURL())\n    this.conn.binaryType = this.binaryType\n    this.conn.timeout = this.longpollerTimeout\n    this.conn.onopen = () => this.onConnOpen()\n    this.conn.onerror = error => this.onConnError(error)\n    this.conn.onmessage = event => this.onConnMessage(event)\n    this.conn.onclose = event => this.onConnClose(event)\n  }\n\n  getSession(key){ return this.sessionStore && this.sessionStore.getItem(key) }\n\n  storeSession(key, val){ this.sessionStore && this.sessionStore.setItem(key, val) }\n\n  connectWithFallback(fallbackTransport, fallbackThreshold = 2500){\n    clearTimeout(this.fallbackTimer)\n    let established = false\n    let primaryTransport = true\n    let openRef, errorRef\n    let fallback = (reason) => {\n      this.log(\"transport\", `falling back to ${fallbackTransport.name}...`, reason)\n      this.off([openRef, errorRef])\n      primaryTransport = false\n      this.replaceTransport(fallbackTransport)\n      this.transportConnect()\n    }\n    if(this.getSession(`phx:fallback:${fallbackTransport.name}`)){ return fallback(\"memorized\") }\n\n    this.fallbackTimer = setTimeout(fallback, fallbackThreshold)\n\n    errorRef = this.onError(reason => {\n      this.log(\"transport\", \"error\", reason)\n      if(primaryTransport && !established){\n        clearTimeout(this.fallbackTimer)\n        fallback(reason)\n      }\n    })\n    this.onOpen(() => {\n      established = true\n      if(!primaryTransport){\n        // only memorize LP if we never connected to primary\n        if(!this.primaryPassedHealthCheck){ this.storeSession(`phx:fallback:${fallbackTransport.name}`, \"true\") }\n        return this.log(\"transport\", `established ${fallbackTransport.name} fallback`)\n      }\n      // if we've established primary, give the fallback a new period to attempt ping\n      clearTimeout(this.fallbackTimer)\n      this.fallbackTimer = setTimeout(fallback, fallbackThreshold)\n      this.ping(rtt => {\n        this.log(\"transport\", \"connected to primary after\", rtt)\n        this.primaryPassedHealthCheck = true\n        clearTimeout(this.fallbackTimer)\n      })\n    })\n    this.transportConnect()\n  }\n\n  clearHeartbeats(){\n    clearTimeout(this.heartbeatTimer)\n    clearTimeout(this.heartbeatTimeoutTimer)\n  }\n\n  onConnOpen(){\n    if(this.hasLogger()) this.log(\"transport\", `${this.transport.name} connected to ${this.endPointURL()}`)\n    this.closeWasClean = false\n    this.establishedConnections++\n    this.flushSendBuffer()\n    this.reconnectTimer.reset()\n    this.resetHeartbeat()\n    this.stateChangeCallbacks.open.forEach(([, callback]) => callback())\n  }\n\n  /**\n   * @private\n   */\n\n  heartbeatTimeout(){\n    if(this.pendingHeartbeatRef){\n      this.pendingHeartbeatRef = null\n      if(this.hasLogger()){ this.log(\"transport\", \"heartbeat timeout. Attempting to re-establish connection\") }\n      this.triggerChanError()\n      this.closeWasClean = false\n      this.teardown(() => this.reconnectTimer.scheduleTimeout(), WS_CLOSE_NORMAL, \"heartbeat timeout\")\n    }\n  }\n\n  resetHeartbeat(){\n    if(this.conn && this.conn.skipHeartbeat){ return }\n    this.pendingHeartbeatRef = null\n    this.clearHeartbeats()\n    this.heartbeatTimer = setTimeout(() => this.sendHeartbeat(), this.heartbeatIntervalMs)\n  }\n\n  teardown(callback, code, reason){\n    if(!this.conn){\n      return callback && callback()\n    }\n\n    this.waitForBufferDone(() => {\n      if(this.conn){\n        if(code){ this.conn.close(code, reason || \"\") } else { this.conn.close() }\n      }\n\n      this.waitForSocketClosed(() => {\n        if(this.conn){\n          this.conn.onopen = function (){ } // noop\n          this.conn.onerror = function (){ } // noop\n          this.conn.onmessage = function (){ } // noop\n          this.conn.onclose = function (){ } // noop\n          this.conn = null\n        }\n\n        callback && callback()\n      })\n    })\n  }\n\n  waitForBufferDone(callback, tries = 1){\n    if(tries === 5 || !this.conn || !this.conn.bufferedAmount){\n      callback()\n      return\n    }\n\n    setTimeout(() => {\n      this.waitForBufferDone(callback, tries + 1)\n    }, 150 * tries)\n  }\n\n  waitForSocketClosed(callback, tries = 1){\n    if(tries === 5 || !this.conn || this.conn.readyState === SOCKET_STATES.closed){\n      callback()\n      return\n    }\n\n    setTimeout(() => {\n      this.waitForSocketClosed(callback, tries + 1)\n    }, 150 * tries)\n  }\n\n  onConnClose(event){\n    let closeCode = event && event.code\n    if(this.hasLogger()) this.log(\"transport\", \"close\", event)\n    this.triggerChanError()\n    this.clearHeartbeats()\n    if(!this.closeWasClean && closeCode !== 1000){\n      this.reconnectTimer.scheduleTimeout()\n    }\n    this.stateChangeCallbacks.close.forEach(([, callback]) => callback(event))\n  }\n\n  /**\n   * @private\n   */\n  onConnError(error){\n    if(this.hasLogger()) this.log(\"transport\", error)\n    let transportBefore = this.transport\n    let establishedBefore = this.establishedConnections\n    this.stateChangeCallbacks.error.forEach(([, callback]) => {\n      callback(error, transportBefore, establishedBefore)\n    })\n    if(transportBefore === this.transport || establishedBefore > 0){\n      this.triggerChanError()\n    }\n  }\n\n  /**\n   * @private\n   */\n  triggerChanError(){\n    this.channels.forEach(channel => {\n      if(!(channel.isErrored() || channel.isLeaving() || channel.isClosed())){\n        channel.trigger(CHANNEL_EVENTS.error)\n      }\n    })\n  }\n\n  /**\n   * @returns {string}\n   */\n  connectionState(){\n    switch(this.conn && this.conn.readyState){\n      case SOCKET_STATES.connecting: return \"connecting\"\n      case SOCKET_STATES.open: return \"open\"\n      case SOCKET_STATES.closing: return \"closing\"\n      default: return \"closed\"\n    }\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  isConnected(){ return this.connectionState() === \"open\" }\n\n  /**\n   * @private\n   *\n   * @param {Channel}\n   */\n  remove(channel){\n    this.off(channel.stateChangeRefs)\n    this.channels = this.channels.filter(c => c !== channel)\n  }\n\n  /**\n   * Removes `onOpen`, `onClose`, `onError,` and `onMessage` registrations.\n   *\n   * @param {refs} - list of refs returned by calls to\n   *                 `onOpen`, `onClose`, `onError,` and `onMessage`\n   */\n  off(refs){\n    for(let key in this.stateChangeCallbacks){\n      this.stateChangeCallbacks[key] = this.stateChangeCallbacks[key].filter(([ref]) => {\n        return refs.indexOf(ref) === -1\n      })\n    }\n  }\n\n  /**\n   * Initiates a new channel for the given topic\n   *\n   * @param {string} topic\n   * @param {Object} chanParams - Parameters for the channel\n   * @returns {Channel}\n   */\n  channel(topic, chanParams = {}){\n    let chan = new Channel(topic, chanParams, this)\n    this.channels.push(chan)\n    return chan\n  }\n\n  /**\n   * @param {Object} data\n   */\n  push(data){\n    if(this.hasLogger()){\n      let {topic, event, payload, ref, join_ref} = data\n      this.log(\"push\", `${topic} ${event} (${join_ref}, ${ref})`, payload)\n    }\n\n    if(this.isConnected()){\n      this.encode(data, result => this.conn.send(result))\n    } else {\n      this.sendBuffer.push(() => this.encode(data, result => this.conn.send(result)))\n    }\n  }\n\n  /**\n   * Return the next message ref, accounting for overflows\n   * @returns {string}\n   */\n  makeRef(){\n    let newRef = this.ref + 1\n    if(newRef === this.ref){ this.ref = 0 } else { this.ref = newRef }\n\n    return this.ref.toString()\n  }\n\n  sendHeartbeat(){\n    if(this.pendingHeartbeatRef && !this.isConnected()){ return }\n    this.pendingHeartbeatRef = this.makeRef()\n    this.push({topic: \"phoenix\", event: \"heartbeat\", payload: {}, ref: this.pendingHeartbeatRef})\n    this.heartbeatTimeoutTimer = setTimeout(() => this.heartbeatTimeout(), this.heartbeatIntervalMs)\n  }\n\n  flushSendBuffer(){\n    if(this.isConnected() && this.sendBuffer.length > 0){\n      this.sendBuffer.forEach(callback => callback())\n      this.sendBuffer = []\n    }\n  }\n\n  onConnMessage(rawMessage){\n    this.decode(rawMessage.data, msg => {\n      let {topic, event, payload, ref, join_ref} = msg\n      if(ref && ref === this.pendingHeartbeatRef){\n        this.clearHeartbeats()\n        this.pendingHeartbeatRef = null\n        this.heartbeatTimer = setTimeout(() => this.sendHeartbeat(), this.heartbeatIntervalMs)\n      }\n\n      if(this.hasLogger()) this.log(\"receive\", `${payload.status || \"\"} ${topic} ${event} ${ref && \"(\" + ref + \")\" || \"\"}`, payload)\n\n      for(let i = 0; i < this.channels.length; i++){\n        const channel = this.channels[i]\n        if(!channel.isMember(topic, event, payload, join_ref)){ continue }\n        channel.trigger(event, payload, ref, join_ref)\n      }\n\n      for(let i = 0; i < this.stateChangeCallbacks.message.length; i++){\n        let [, callback] = this.stateChangeCallbacks.message[i]\n        callback(msg)\n      }\n    })\n  }\n\n  leaveOpenTopic(topic){\n    let dupChannel = this.channels.find(c => c.topic === topic && (c.isJoined() || c.isJoining()))\n    if(dupChannel){\n      if(this.hasLogger()) this.log(\"transport\", `leaving duplicate topic \"${topic}\"`)\n      dupChannel.leave()\n    }\n  }\n}\n", "export const CONSECUTIVE_RELOADS = \"consecutive-reloads\"\nexport const MAX_RELOADS = 10\nexport const RELOAD_JITTER_MIN = 5000\nexport const RELOAD_JITTER_MAX = 10000\nexport const FAILSAFE_JITTER = 30000\nexport const PHX_EVENT_CLASSES = [\n  \"phx-click-loading\", \"phx-change-loading\", \"phx-submit-loading\",\n  \"phx-keydown-loading\", \"phx-keyup-loading\", \"phx-blur-loading\", \"phx-focus-loading\",\n  \"phx-hook-loading\"\n]\nexport const PHX_COMPONENT = \"data-phx-component\"\nexport const PHX_LIVE_LINK = \"data-phx-link\"\nexport const PHX_TRACK_STATIC = \"track-static\"\nexport const PHX_LINK_STATE = \"data-phx-link-state\"\nexport const PHX_REF_LOADING = \"data-phx-ref-loading\"\nexport const PHX_REF_SRC = \"data-phx-ref-src\"\nexport const PHX_REF_LOCK = \"data-phx-ref-lock\"\nexport const PHX_TRACK_UPLOADS = \"track-uploads\"\nexport const PHX_UPLOAD_REF = \"data-phx-upload-ref\"\nexport const PHX_PREFLIGHTED_REFS = \"data-phx-preflighted-refs\"\nexport const PHX_DONE_REFS = \"data-phx-done-refs\"\nexport const PHX_DROP_TARGET = \"drop-target\"\nexport const PHX_ACTIVE_ENTRY_REFS = \"data-phx-active-refs\"\nexport const PHX_LIVE_FILE_UPDATED = \"phx:live-file:updated\"\nexport const PHX_SKIP = \"data-phx-skip\"\nexport const PHX_MAGIC_ID = \"data-phx-id\"\nexport const PHX_PRUNE = \"data-phx-prune\"\nexport const PHX_CONNECTED_CLASS = \"phx-connected\"\nexport const PHX_LOADING_CLASS = \"phx-loading\"\nexport const PHX_ERROR_CLASS = \"phx-error\"\nexport const PHX_CLIENT_ERROR_CLASS = \"phx-client-error\"\nexport const PHX_SERVER_ERROR_CLASS = \"phx-server-error\"\nexport const PHX_PARENT_ID = \"data-phx-parent-id\"\nexport const PHX_MAIN = \"data-phx-main\"\nexport const PHX_ROOT_ID = \"data-phx-root-id\"\nexport const PHX_VIEWPORT_TOP = \"viewport-top\"\nexport const PHX_VIEWPORT_BOTTOM = \"viewport-bottom\"\nexport const PHX_TRIGGER_ACTION = \"trigger-action\"\nexport const PHX_HAS_FOCUSED = \"phx-has-focused\"\nexport const FOCUSABLE_INPUTS = [\"text\", \"textarea\", \"number\", \"email\", \"password\", \"search\", \"tel\", \"url\", \"date\", \"time\", \"datetime-local\", \"color\", \"range\"]\nexport const CHECKABLE_INPUTS = [\"checkbox\", \"radio\"]\nexport const PHX_HAS_SUBMITTED = \"phx-has-submitted\"\nexport const PHX_SESSION = \"data-phx-session\"\nexport const PHX_VIEW_SELECTOR = `[${PHX_SESSION}]`\nexport const PHX_STICKY = \"data-phx-sticky\"\nexport const PHX_STATIC = \"data-phx-static\"\nexport const PHX_READONLY = \"data-phx-readonly\"\nexport const PHX_DISABLED = \"data-phx-disabled\"\nexport const PHX_DISABLE_WITH = \"disable-with\"\nexport const PHX_DISABLE_WITH_RESTORE = \"data-phx-disable-with-restore\"\nexport const PHX_HOOK = \"hook\"\nexport const PHX_DEBOUNCE = \"debounce\"\nexport const PHX_THROTTLE = \"throttle\"\nexport const PHX_UPDATE = \"update\"\nexport const PHX_STREAM = \"stream\"\nexport const PHX_STREAM_REF = \"data-phx-stream\"\nexport const PHX_KEY = \"key\"\nexport const PHX_PRIVATE = \"phxPrivate\"\nexport const PHX_AUTO_RECOVER = \"auto-recover\"\nexport const PHX_LV_DEBUG = \"phx:live-socket:debug\"\nexport const PHX_LV_PROFILE = \"phx:live-socket:profiling\"\nexport const PHX_LV_LATENCY_SIM = \"phx:live-socket:latency-sim\"\nexport const PHX_LV_HISTORY_POSITION = \"phx:nav-history-position\"\nexport const PHX_PROGRESS = \"progress\"\nexport const PHX_MOUNTED = \"mounted\"\nexport const PHX_RELOAD_STATUS = \"__phoenix_reload_status__\"\nexport const LOADER_TIMEOUT = 1\nexport const MAX_CHILD_JOIN_ATTEMPTS = 3\nexport const BEFORE_UNLOAD_LOADER_TIMEOUT = 200\nexport const BINDING_PREFIX = \"phx-\"\nexport const PUSH_TIMEOUT = 30000\nexport const LINK_HEADER = \"x-requested-with\"\nexport const RESPONSE_URL_HEADER = \"x-response-url\"\nexport const DEBOUNCE_TRIGGER = \"debounce-trigger\"\nexport const THROTTLED = \"throttled\"\nexport const DEBOUNCE_PREV_KEY = \"debounce-prev-key\"\nexport const DEFAULTS = {\n  debounce: 300,\n  throttle: 300\n}\nexport const PHX_PENDING_ATTRS = [PHX_REF_LOADING, PHX_REF_SRC, PHX_REF_LOCK]\n// Rendered\nexport const DYNAMICS = \"d\"\nexport const STATIC = \"s\"\nexport const ROOT = \"r\"\nexport const COMPONENTS = \"c\"\nexport const EVENTS = \"e\"\nexport const REPLY = \"r\"\nexport const TITLE = \"t\"\nexport const TEMPLATES = \"p\"\nexport const STREAM = \"stream\"\n", "import {\n  logError\n} from \"./utils\"\n\nexport default class EntryUploader {\n  constructor(entry, config, liveSocket){\n    let {chunk_size, chunk_timeout} = config\n    this.liveSocket = liveSocket\n    this.entry = entry\n    this.offset = 0\n    this.chunkSize = chunk_size\n    this.chunkTimeout = chunk_timeout\n    this.chunkTimer = null\n    this.errored = false\n    this.uploadChannel = liveSocket.channel(`lvu:${entry.ref}`, {token: entry.metadata()})\n  }\n\n  error(reason){\n    if(this.errored){ return }\n    this.uploadChannel.leave()\n    this.errored = true\n    clearTimeout(this.chunkTimer)\n    this.entry.error(reason)\n  }\n\n  upload(){\n    this.uploadChannel.onError(reason => this.error(reason))\n    this.uploadChannel.join()\n      .receive(\"ok\", _data => this.readNextChunk())\n      .receive(\"error\", reason => this.error(reason))\n  }\n\n  isDone(){ return this.offset >= this.entry.file.size }\n\n  readNextChunk(){\n    let reader = new window.FileReader()\n    let blob = this.entry.file.slice(this.offset, this.chunkSize + this.offset)\n    reader.onload = (e) => {\n      if(e.target.error === null){\n        this.offset += e.target.result.byteLength\n        this.pushChunk(e.target.result)\n      } else {\n        return logError(\"Read error: \" + e.target.error)\n      }\n    }\n    reader.readAsArrayBuffer(blob)\n  }\n\n  pushChunk(chunk){\n    if(!this.uploadChannel.isJoined()){ return }\n    this.uploadChannel.push(\"chunk\", chunk, this.chunkTimeout)\n      .receive(\"ok\", () => {\n        this.entry.progress((this.offset / this.entry.file.size) * 100)\n        if(!this.isDone()){\n          this.chunkTimer = setTimeout(() => this.readNextChunk(), this.liveSocket.getLatencySim() || 0)\n        }\n      })\n      .receive(\"error\", ({reason}) => this.error(reason))\n  }\n}\n", "import {\n  PHX_VIEW_SELECTOR\n} from \"./constants\"\n\nimport EntryUploader from \"./entry_uploader\"\n\nexport let logError = (msg, obj) => console.error && console.error(msg, obj)\n\nexport let isCid = (cid) => {\n  let type = typeof(cid)\n  return type === \"number\" || (type === \"string\" && /^(0|[1-9]\\d*)$/.test(cid))\n}\n\nexport function detectDuplicateIds(){\n  let ids = new Set()\n  let elems = document.querySelectorAll(\"*[id]\")\n  for(let i = 0, len = elems.length; i < len; i++){\n    if(ids.has(elems[i].id)){\n      console.error(`Multiple IDs detected: ${elems[i].id}. Ensure unique element ids.`)\n    } else {\n      ids.add(elems[i].id)\n    }\n  }\n}\n\nexport let debug = (view, kind, msg, obj) => {\n  if(view.liveSocket.isDebugEnabled()){\n    console.log(`${view.id} ${kind}: ${msg} - `, obj)\n  }\n}\n\n// wraps value in closure or returns closure\nexport let closure = (val) => typeof val === \"function\" ? val : function (){ return val }\n\nexport let clone = (obj) => { return JSON.parse(JSON.stringify(obj)) }\n\nexport let closestPhxBinding = (el, binding, borderEl) => {\n  do {\n    if(el.matches(`[${binding}]`) && !el.disabled){ return el }\n    el = el.parentElement || el.parentNode\n  } while(el !== null && el.nodeType === 1 && !((borderEl && borderEl.isSameNode(el)) || el.matches(PHX_VIEW_SELECTOR)))\n  return null\n}\n\nexport let isObject = (obj) => {\n  return obj !== null && typeof obj === \"object\" && !(obj instanceof Array)\n}\n\nexport let isEqualObj = (obj1, obj2) => JSON.stringify(obj1) === JSON.stringify(obj2)\n\nexport let isEmpty = (obj) => {\n  for(let x in obj){ return false }\n  return true\n}\n\nexport let maybe = (el, callback) => el && callback(el)\n\nexport let channelUploader = function (entries, onError, resp, liveSocket){\n  entries.forEach(entry => {\n    let entryUploader = new EntryUploader(entry, resp.config, liveSocket)\n    entryUploader.upload()\n  })\n}\n", "let Browser = {\n  canPushState(){ return (typeof (history.pushState) !== \"undefined\") },\n\n  dropLocal(localStorage, namespace, subkey){\n    return localStorage.removeItem(this.localKey(namespace, subkey))\n  },\n\n  updateLocal(localStorage, namespace, subkey, initial, func){\n    let current = this.getLocal(localStorage, namespace, subkey)\n    let key = this.localKey(namespace, subkey)\n    let newVal = current === null ? initial : func(current)\n    localStorage.setItem(key, JSON.stringify(newVal))\n    return newVal\n  },\n\n  getLocal(localStorage, namespace, subkey){\n    return JSON.parse(localStorage.getItem(this.localKey(namespace, subkey)))\n  },\n\n  updateCurrentState(callback){\n    if(!this.canPushState()){ return }\n    history.replaceState(callback(history.state || {}), \"\", window.location.href)\n  },\n\n  pushState(kind, meta, to){\n    if(this.canPushState()){\n      if(to !== window.location.href){\n        if(meta.type == \"redirect\" && meta.scroll){\n          // If we're redirecting store the current scrollY for the current history state.\n          let currentState = history.state || {}\n          currentState.scroll = meta.scroll\n          history.replaceState(currentState, \"\", window.location.href)\n        }\n\n        delete meta.scroll // Only store the scroll in the redirect case.\n        history[kind + \"State\"](meta, \"\", to || null) // IE will coerce undefined to string\n\n        // when using navigate, we'd call pushState immediately before patching the DOM,\n        // jumping back to the top of the page, effectively ignoring the scrollIntoView;\n        // therefore we wait for the next frame (after the DOM patch) and only then try\n        // to scroll to the hashEl\n        window.requestAnimationFrame(() => {\n          let hashEl = this.getHashTargetEl(window.location.hash)\n  \n          if(hashEl){\n            hashEl.scrollIntoView()\n          } else if(meta.type === \"redirect\"){\n            window.scroll(0, 0)\n          }\n        })\n      }\n    } else {\n      this.redirect(to)\n    }\n  },\n\n  setCookie(name, value, maxAgeSeconds){\n    let expires = typeof(maxAgeSeconds) === \"number\" ? ` max-age=${maxAgeSeconds};` : \"\"\n    document.cookie = `${name}=${value};${expires} path=/`\n  },\n\n  getCookie(name){\n    return document.cookie.replace(new RegExp(`(?:(?:^|.*;\\s*)${name}\\s*\\=\\s*([^;]*).*$)|^.*$`), \"$1\")\n  },\n\n  deleteCookie(name){\n    document.cookie = `${name}=; max-age=-1; path=/`\n  },\n\n  redirect(toURL, flash){\n    if(flash){ this.setCookie(\"__phoenix_flash__\", flash, 60) }\n    window.location = toURL\n  },\n\n  localKey(namespace, subkey){ return `${namespace}-${subkey}` },\n\n  getHashTargetEl(maybeHash){\n    let hash = maybeHash.toString().substring(1)\n    if(hash === \"\"){ return }\n    return document.getElementById(hash) || document.querySelector(`a[name=\"${hash}\"]`)\n  }\n}\n\nexport default Browser\n", "import {\n  CHECKABLE_INPUTS,\n  DEBOUNCE_PREV_KEY,\n  DEBOUNCE_TRIGGER,\n  FOCUSABLE_INPUTS,\n  PHX_COMPONENT,\n  PHX_HAS_FOCUSED,\n  PHX_HAS_SUBMITTED,\n  PHX_MAIN,\n  PHX_PARENT_ID,\n  PHX_PRIVATE,\n  PHX_REF_SRC,\n  PHX_PENDING_ATTRS,\n  PHX_ROOT_ID,\n  PHX_SESSION,\n  PHX_STATIC,\n  PHX_UPLOAD_REF,\n  PHX_VIEW_SELECTOR,\n  PHX_STICKY,\n  PHX_EVENT_CLASSES,\n  THROTTLED,\n} from \"./constants\"\n\nimport {\n  logError\n} from \"./utils\"\n\nlet DOM = {\n  byId(id){ return document.getElementById(id) || logError(`no id found for ${id}`) },\n\n  removeClass(el, className){\n    el.classList.remove(className)\n    if(el.classList.length === 0){ el.removeAttribute(\"class\") }\n  },\n\n  all(node, query, callback){\n    if(!node){ return [] }\n    let array = Array.from(node.querySelectorAll(query))\n    return callback ? array.forEach(callback) : array\n  },\n\n  childNodeLength(html){\n    let template = document.createElement(\"template\")\n    template.innerHTML = html\n    return template.content.childElementCount\n  },\n\n  isUploadInput(el){ return el.type === \"file\" && el.getAttribute(PHX_UPLOAD_REF) !== null },\n\n  isAutoUpload(inputEl){ return inputEl.hasAttribute(\"data-phx-auto-upload\") },\n\n  findUploadInputs(node){\n    const formId = node.id\n    const inputsOutsideForm = this.all(document, `input[type=\"file\"][${PHX_UPLOAD_REF}][form=\"${formId}\"]`)\n    return this.all(node, `input[type=\"file\"][${PHX_UPLOAD_REF}]`).concat(inputsOutsideForm)\n  },\n\n  findComponentNodeList(node, cid){\n    return this.filterWithinSameLiveView(this.all(node, `[${PHX_COMPONENT}=\"${cid}\"]`), node)\n  },\n\n  isPhxDestroyed(node){\n    return node.id && DOM.private(node, \"destroyed\") ? true : false\n  },\n\n  wantsNewTab(e){\n    let wantsNewTab = e.ctrlKey || e.shiftKey || e.metaKey || (e.button && e.button === 1)\n    let isDownload = (e.target instanceof HTMLAnchorElement && e.target.hasAttribute(\"download\"))\n    let isTargetBlank = e.target.hasAttribute(\"target\") && e.target.getAttribute(\"target\").toLowerCase() === \"_blank\"\n    let isTargetNamedTab = e.target.hasAttribute(\"target\") && !e.target.getAttribute(\"target\").startsWith(\"_\")\n    return wantsNewTab || isTargetBlank || isDownload || isTargetNamedTab\n  },\n\n  isUnloadableFormSubmit(e){\n    // Ignore form submissions intended to close a native <dialog> element\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog#usage_notes\n    let isDialogSubmit = (e.target && e.target.getAttribute(\"method\") === \"dialog\") ||\n      (e.submitter && e.submitter.getAttribute(\"formmethod\") === \"dialog\")\n\n    if(isDialogSubmit){\n      return false\n    } else {\n      return !e.defaultPrevented && !this.wantsNewTab(e)\n    }\n  },\n\n  isNewPageClick(e, currentLocation){\n    let href = e.target instanceof HTMLAnchorElement ? e.target.getAttribute(\"href\") : null\n    let url\n\n    if(e.defaultPrevented || href === null || this.wantsNewTab(e)){ return false }\n    if(href.startsWith(\"mailto:\") || href.startsWith(\"tel:\")){ return false }\n    if(e.target.isContentEditable){ return false }\n\n    try {\n      url = new URL(href)\n    } catch {\n      try {\n        url = new URL(href, currentLocation)\n      } catch {\n        // bad URL, fallback to let browser try it as external\n        return true\n      }\n    }\n\n    if(url.host === currentLocation.host && url.protocol === currentLocation.protocol){\n      if(url.pathname === currentLocation.pathname && url.search === currentLocation.search){\n        return url.hash === \"\" && !url.href.endsWith(\"#\")\n      }\n    }\n    return url.protocol.startsWith(\"http\")\n  },\n\n  markPhxChildDestroyed(el){\n    if(this.isPhxChild(el)){ el.setAttribute(PHX_SESSION, \"\") }\n    this.putPrivate(el, \"destroyed\", true)\n  },\n\n  findPhxChildrenInFragment(html, parentId){\n    let template = document.createElement(\"template\")\n    template.innerHTML = html\n    return this.findPhxChildren(template.content, parentId)\n  },\n\n  isIgnored(el, phxUpdate){\n    return (el.getAttribute(phxUpdate) || el.getAttribute(\"data-phx-update\")) === \"ignore\"\n  },\n\n  isPhxUpdate(el, phxUpdate, updateTypes){\n    return el.getAttribute && updateTypes.indexOf(el.getAttribute(phxUpdate)) >= 0\n  },\n\n  findPhxSticky(el){ return this.all(el, `[${PHX_STICKY}]`) },\n\n  findPhxChildren(el, parentId){\n    return this.all(el, `${PHX_VIEW_SELECTOR}[${PHX_PARENT_ID}=\"${parentId}\"]`)\n  },\n\n  findExistingParentCIDs(node, cids){\n    // we only want to find parents that exist on the page\n    // if a cid is not on the page, the only way it can be added back to the page\n    // is if a parent adds it back, therefore if a cid does not exist on the page,\n    // we should not try to render it by itself (because it would be rendered twice,\n    // one by the parent, and a second time by itself)\n    let parentCids = new Set()\n    let childrenCids = new Set()\n\n    cids.forEach(cid => {\n      this.filterWithinSameLiveView(this.all(node, `[${PHX_COMPONENT}=\"${cid}\"]`), node).forEach(parent => {\n        parentCids.add(cid)\n        this.all(parent, `[${PHX_COMPONENT}]`)\n          .map(el => parseInt(el.getAttribute(PHX_COMPONENT)))\n          .forEach(childCID => childrenCids.add(childCID))\n      })\n    })\n\n    childrenCids.forEach(childCid => parentCids.delete(childCid))\n\n    return parentCids\n  },\n\n  filterWithinSameLiveView(nodes, parent){\n    if(parent.querySelector(PHX_VIEW_SELECTOR)){\n      return nodes.filter(el => this.withinSameLiveView(el, parent))\n    } else {\n      return nodes\n    }\n  },\n\n  withinSameLiveView(node, parent){\n    while(node = node.parentNode){\n      if(node.isSameNode(parent)){ return true }\n      if(node.getAttribute(PHX_SESSION) !== null){ return false }\n    }\n  },\n\n  private(el, key){ return el[PHX_PRIVATE] && el[PHX_PRIVATE][key] },\n\n  deletePrivate(el, key){ el[PHX_PRIVATE] && delete (el[PHX_PRIVATE][key]) },\n\n  putPrivate(el, key, value){\n    if(!el[PHX_PRIVATE]){ el[PHX_PRIVATE] = {} }\n    el[PHX_PRIVATE][key] = value\n  },\n\n  updatePrivate(el, key, defaultVal, updateFunc){\n    let existing = this.private(el, key)\n    if(existing === undefined){\n      this.putPrivate(el, key, updateFunc(defaultVal))\n    } else {\n      this.putPrivate(el, key, updateFunc(existing))\n    }\n  },\n\n  syncPendingAttrs(fromEl, toEl){\n    if(!fromEl.hasAttribute(PHX_REF_SRC)){ return }\n    PHX_EVENT_CLASSES.forEach(className => {\n      fromEl.classList.contains(className) && toEl.classList.add(className)\n    })\n    PHX_PENDING_ATTRS.filter(attr => fromEl.hasAttribute(attr)).forEach(attr => {\n      toEl.setAttribute(attr, fromEl.getAttribute(attr))\n    })\n  },\n\n  copyPrivates(target, source){\n    if(source[PHX_PRIVATE]){\n      target[PHX_PRIVATE] = source[PHX_PRIVATE]\n    }\n  },\n\n  putTitle(str){\n    let titleEl = document.querySelector(\"title\")\n    if(titleEl){\n      let {prefix, suffix, default: defaultTitle} = titleEl.dataset\n      let isEmpty = typeof(str) !== \"string\" || str.trim() === \"\"\n      if(isEmpty && typeof(defaultTitle) !== \"string\"){ return }\n\n      let inner = isEmpty ? defaultTitle : str\n      document.title = `${prefix || \"\"}${inner || \"\"}${suffix || \"\"}`\n    } else {\n      document.title = str\n    }\n  },\n\n  debounce(el, event, phxDebounce, defaultDebounce, phxThrottle, defaultThrottle, asyncFilter, callback){\n    let debounce = el.getAttribute(phxDebounce)\n    let throttle = el.getAttribute(phxThrottle)\n\n    if(debounce === \"\"){ debounce = defaultDebounce }\n    if(throttle === \"\"){ throttle = defaultThrottle }\n    let value = debounce || throttle\n    switch(value){\n      case null: return callback()\n\n      case \"blur\":\n        if(this.once(el, \"debounce-blur\")){\n          el.addEventListener(\"blur\", () => {\n            if(asyncFilter()){ callback() }\n          })\n        }\n        return\n\n      default:\n        let timeout = parseInt(value)\n        let trigger = () => throttle ? this.deletePrivate(el, THROTTLED) : callback()\n        let currentCycle = this.incCycle(el, DEBOUNCE_TRIGGER, trigger)\n        if(isNaN(timeout)){ return logError(`invalid throttle/debounce value: ${value}`) }\n        if(throttle){\n          let newKeyDown = false\n          if(event.type === \"keydown\"){\n            let prevKey = this.private(el, DEBOUNCE_PREV_KEY)\n            this.putPrivate(el, DEBOUNCE_PREV_KEY, event.key)\n            newKeyDown = prevKey !== event.key\n          }\n\n          if(!newKeyDown && this.private(el, THROTTLED)){\n            return false\n          } else {\n            callback()\n            const t = setTimeout(() => {\n              if(asyncFilter()){ this.triggerCycle(el, DEBOUNCE_TRIGGER) }\n            }, timeout)\n            this.putPrivate(el, THROTTLED, t)\n          }\n        } else {\n          setTimeout(() => {\n            if(asyncFilter()){ this.triggerCycle(el, DEBOUNCE_TRIGGER, currentCycle) }\n          }, timeout)\n        }\n\n        let form = el.form\n        if(form && this.once(form, \"bind-debounce\")){\n          form.addEventListener(\"submit\", () => {\n            Array.from((new FormData(form)).entries(), ([name]) => {\n              let input = form.querySelector(`[name=\"${name}\"]`)\n              this.incCycle(input, DEBOUNCE_TRIGGER)\n              this.deletePrivate(input, THROTTLED)\n            })\n          })\n        }\n        if(this.once(el, \"bind-debounce\")){\n          el.addEventListener(\"blur\", () => {\n            // because we trigger the callback here,\n            // we also clear the throttle timeout to prevent the callback\n            // from being called again after the timeout fires\n            clearTimeout(this.private(el, THROTTLED))\n            this.triggerCycle(el, DEBOUNCE_TRIGGER)\n          })\n        }\n    }\n  },\n\n  triggerCycle(el, key, currentCycle){\n    let [cycle, trigger] = this.private(el, key)\n    if(!currentCycle){ currentCycle = cycle }\n    if(currentCycle === cycle){\n      this.incCycle(el, key)\n      trigger()\n    }\n  },\n\n  once(el, key){\n    if(this.private(el, key) === true){ return false }\n    this.putPrivate(el, key, true)\n    return true\n  },\n\n  incCycle(el, key, trigger = function (){ }){\n    let [currentCycle] = this.private(el, key) || [0, trigger]\n    currentCycle++\n    this.putPrivate(el, key, [currentCycle, trigger])\n    return currentCycle\n  },\n\n  // maintains or adds privately used hook information\n  // fromEl and toEl can be the same element in the case of a newly added node\n  // fromEl and toEl can be any HTML node type, so we need to check if it's an element node\n  maintainPrivateHooks(fromEl, toEl, phxViewportTop, phxViewportBottom){\n    // maintain the hooks created with createHook\n    if(fromEl.hasAttribute && fromEl.hasAttribute(\"data-phx-hook\") && !toEl.hasAttribute(\"data-phx-hook\")){\n      toEl.setAttribute(\"data-phx-hook\", fromEl.getAttribute(\"data-phx-hook\"))\n    }\n    // add hooks to elements with viewport attributes\n    if(toEl.hasAttribute && (toEl.hasAttribute(phxViewportTop) || toEl.hasAttribute(phxViewportBottom))){\n      toEl.setAttribute(\"data-phx-hook\", \"Phoenix.InfiniteScroll\")\n    }\n  },\n\n  putCustomElHook(el, hook){\n    if(el.isConnected){\n      el.setAttribute(\"data-phx-hook\", \"\")\n    } else {\n      console.error(`\n        hook attached to non-connected DOM element\n        ensure you are calling createHook within your connectedCallback. ${el.outerHTML}\n      `)\n    }\n    this.putPrivate(el, \"custom-el-hook\", hook)\n  },\n\n  getCustomElHook(el){ return this.private(el, \"custom-el-hook\") },\n\n  isUsedInput(el){\n    return (el.nodeType === Node.ELEMENT_NODE &&\n      (this.private(el, PHX_HAS_FOCUSED) || this.private(el, PHX_HAS_SUBMITTED)))\n  },\n\n  resetForm(form){\n    Array.from(form.elements).forEach(input => {\n      this.deletePrivate(input, PHX_HAS_FOCUSED)\n      this.deletePrivate(input, PHX_HAS_SUBMITTED)\n    })\n  },\n\n  isPhxChild(node){\n    return node.getAttribute && node.getAttribute(PHX_PARENT_ID)\n  },\n\n  isPhxSticky(node){\n    return node.getAttribute && node.getAttribute(PHX_STICKY) !== null\n  },\n\n  isChildOfAny(el, parents){\n    return !!parents.find(parent => parent.contains(el))\n  },\n\n  firstPhxChild(el){\n    return this.isPhxChild(el) ? el : this.all(el, `[${PHX_PARENT_ID}]`)[0]\n  },\n\n  dispatchEvent(target, name, opts = {}){\n    let defaultBubble = true\n    let isUploadTarget = target.nodeName === \"INPUT\" && target.type === \"file\"\n    if(isUploadTarget && name === \"click\"){\n      defaultBubble = false\n    }\n    let bubbles = opts.bubbles === undefined ? defaultBubble : !!opts.bubbles\n    let eventOpts = {bubbles: bubbles, cancelable: true, detail: opts.detail || {}}\n    let event = name === \"click\" ? new MouseEvent(\"click\", eventOpts) : new CustomEvent(name, eventOpts)\n    target.dispatchEvent(event)\n  },\n\n  cloneNode(node, html){\n    if(typeof (html) === \"undefined\"){\n      return node.cloneNode(true)\n    } else {\n      let cloned = node.cloneNode(false)\n      cloned.innerHTML = html\n      return cloned\n    }\n  },\n\n  // merge attributes from source to target\n  // if an element is ignored, we only merge data attributes\n  // including removing data attributes that are no longer in the source\n  mergeAttrs(target, source, opts = {}){\n    let exclude = new Set(opts.exclude || [])\n    let isIgnored = opts.isIgnored\n    let sourceAttrs = source.attributes\n    for(let i = sourceAttrs.length - 1; i >= 0; i--){\n      let name = sourceAttrs[i].name\n      if(!exclude.has(name)){\n        const sourceValue = source.getAttribute(name)\n        if(target.getAttribute(name) !== sourceValue && (!isIgnored || (isIgnored && name.startsWith(\"data-\")))){\n          target.setAttribute(name, sourceValue)\n        }\n      } else {\n        // We exclude the value from being merged on focused inputs, because the\n        // user's input should always win.\n        // We can still assign it as long as the value property is the same, though.\n        // This prevents a situation where the updated hook is not being triggered\n        // when an input is back in its \"original state\", because the attribute\n        // was never changed, see:\n        // https://github.com/phoenixframework/phoenix_live_view/issues/2163\n        if(name === \"value\" && target.value === source.value){\n          // actually set the value attribute to sync it with the value property\n          target.setAttribute(\"value\", source.getAttribute(name))\n        }\n      }\n    }\n\n    let targetAttrs = target.attributes\n    for(let i = targetAttrs.length - 1; i >= 0; i--){\n      let name = targetAttrs[i].name\n      if(isIgnored){\n        if(name.startsWith(\"data-\") && !source.hasAttribute(name) && !PHX_PENDING_ATTRS.includes(name)){ target.removeAttribute(name) }\n      } else {\n        if(!source.hasAttribute(name)){ target.removeAttribute(name) }\n      }\n    }\n  },\n\n  mergeFocusedInput(target, source){\n    // skip selects because FF will reset highlighted index for any setAttribute\n    if(!(target instanceof HTMLSelectElement)){ DOM.mergeAttrs(target, source, {exclude: [\"value\"]}) }\n\n    if(source.readOnly){\n      target.setAttribute(\"readonly\", true)\n    } else {\n      target.removeAttribute(\"readonly\")\n    }\n  },\n\n  hasSelectionRange(el){\n    return el.setSelectionRange && (el.type === \"text\" || el.type === \"textarea\")\n  },\n\n  restoreFocus(focused, selectionStart, selectionEnd){\n    if(focused instanceof HTMLSelectElement){ focused.focus() }\n    if(!DOM.isTextualInput(focused)){ return }\n\n    let wasFocused = focused.matches(\":focus\")\n    if(!wasFocused){ focused.focus() }\n    if(this.hasSelectionRange(focused)){\n      focused.setSelectionRange(selectionStart, selectionEnd)\n    }\n  },\n\n  isFormInput(el){ return /^(?:input|select|textarea)$/i.test(el.tagName) && el.type !== \"button\" },\n\n  syncAttrsToProps(el){\n    if(el instanceof HTMLInputElement && CHECKABLE_INPUTS.indexOf(el.type.toLocaleLowerCase()) >= 0){\n      el.checked = el.getAttribute(\"checked\") !== null\n    }\n  },\n\n  isTextualInput(el){ return FOCUSABLE_INPUTS.indexOf(el.type) >= 0 },\n\n  isNowTriggerFormExternal(el, phxTriggerExternal){\n    return el.getAttribute && el.getAttribute(phxTriggerExternal) !== null && document.body.contains(el)\n  },\n\n  cleanChildNodes(container, phxUpdate){\n    if(DOM.isPhxUpdate(container, phxUpdate, [\"append\", \"prepend\"])){\n      let toRemove = []\n      container.childNodes.forEach(childNode => {\n        if(!childNode.id){\n          // Skip warning if it's an empty text node (e.g. a new-line)\n          let isEmptyTextNode = childNode.nodeType === Node.TEXT_NODE && childNode.nodeValue.trim() === \"\"\n          if(!isEmptyTextNode && childNode.nodeType !== Node.COMMENT_NODE){\n            logError(\"only HTML element tags with an id are allowed inside containers with phx-update.\\n\\n\" +\n              `removing illegal node: \"${(childNode.outerHTML || childNode.nodeValue).trim()}\"\\n\\n`)\n          }\n          toRemove.push(childNode)\n        }\n      })\n      toRemove.forEach(childNode => childNode.remove())\n    }\n  },\n\n  replaceRootContainer(container, tagName, attrs){\n    let retainedAttrs = new Set([\"id\", PHX_SESSION, PHX_STATIC, PHX_MAIN, PHX_ROOT_ID])\n    if(container.tagName.toLowerCase() === tagName.toLowerCase()){\n      Array.from(container.attributes)\n        .filter(attr => !retainedAttrs.has(attr.name.toLowerCase()))\n        .forEach(attr => container.removeAttribute(attr.name))\n\n      Object.keys(attrs)\n        .filter(name => !retainedAttrs.has(name.toLowerCase()))\n        .forEach(attr => container.setAttribute(attr, attrs[attr]))\n\n      return container\n\n    } else {\n      let newContainer = document.createElement(tagName)\n      Object.keys(attrs).forEach(attr => newContainer.setAttribute(attr, attrs[attr]))\n      retainedAttrs.forEach(attr => newContainer.setAttribute(attr, container.getAttribute(attr)))\n      newContainer.innerHTML = container.innerHTML\n      container.replaceWith(newContainer)\n      return newContainer\n    }\n  },\n\n  getSticky(el, name, defaultVal){\n    let op = (DOM.private(el, \"sticky\") || []).find(([existingName,]) => name === existingName)\n    if(op){\n      let [_name, _op, stashedResult] = op\n      return stashedResult\n    } else {\n      return typeof(defaultVal) === \"function\" ? defaultVal() : defaultVal\n    }\n  },\n\n  deleteSticky(el, name){\n    this.updatePrivate(el, \"sticky\", [], ops => {\n      return ops.filter(([existingName, _]) => existingName !== name)\n    })\n  },\n\n  putSticky(el, name, op){\n    let stashedResult = op(el)\n    this.updatePrivate(el, \"sticky\", [], ops => {\n      let existingIndex = ops.findIndex(([existingName,]) => name === existingName)\n      if(existingIndex >= 0){\n        ops[existingIndex] = [name, op, stashedResult]\n      } else {\n        ops.push([name, op, stashedResult])\n      }\n      return ops\n    })\n  },\n\n  applyStickyOperations(el){\n    let ops = DOM.private(el, \"sticky\")\n    if(!ops){ return }\n\n    ops.forEach(([name, op, _stashed]) => this.putSticky(el, name, op))\n  }\n}\n\nexport default DOM\n", "import {\n  PHX_ACTIVE_ENTRY_REFS,\n  PHX_LIVE_FILE_UPDATED,\n  PHX_PREFLIGHTED_REFS\n} from \"./constants\"\n\nimport {\n  channelUploader,\n  logError\n} from \"./utils\"\n\nimport LiveUploader from \"./live_uploader\"\n\nexport default class UploadEntry {\n  static isActive(fileEl, file){\n    let isNew = file._phxRef === undefined\n    let activeRefs = fileEl.getAttribute(PHX_ACTIVE_ENTRY_REFS).split(\",\")\n    let isActive = activeRefs.indexOf(LiveUploader.genFileRef(file)) >= 0\n    return file.size > 0 && (isNew || isActive)\n  }\n\n  static isPreflighted(fileEl, file){\n    let preflightedRefs = fileEl.getAttribute(PHX_PREFLIGHTED_REFS).split(\",\")\n    let isPreflighted = preflightedRefs.indexOf(LiveUploader.genFileRef(file)) >= 0\n    return isPreflighted && this.isActive(fileEl, file)\n  }\n\n  static isPreflightInProgress(file){\n    return file._preflightInProgress === true\n  }\n\n  static markPreflightInProgress(file){\n    file._preflightInProgress = true\n  }\n\n  constructor(fileEl, file, view, autoUpload){\n    this.ref = LiveUploader.genFileRef(file)\n    this.fileEl = fileEl\n    this.file = file\n    this.view = view\n    this.meta = null\n    this._isCancelled = false\n    this._isDone = false\n    this._progress = 0\n    this._lastProgressSent = -1\n    this._onDone = function(){ }\n    this._onElUpdated = this.onElUpdated.bind(this)\n    this.fileEl.addEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated)\n    this.autoUpload = autoUpload\n  }\n\n  metadata(){ return this.meta }\n\n  progress(progress){\n    this._progress = Math.floor(progress)\n    if(this._progress > this._lastProgressSent){\n      if(this._progress >= 100){\n        this._progress = 100\n        this._lastProgressSent = 100\n        this._isDone = true\n        this.view.pushFileProgress(this.fileEl, this.ref, 100, () => {\n          LiveUploader.untrackFile(this.fileEl, this.file)\n          this._onDone()\n        })\n      } else {\n        this._lastProgressSent = this._progress\n        this.view.pushFileProgress(this.fileEl, this.ref, this._progress)\n      }\n    }\n  }\n\n  isCancelled(){ return this._isCancelled }\n\n  cancel(){\n    this.file._preflightInProgress = false\n    this._isCancelled = true\n    this._isDone = true\n    this._onDone()\n  }\n\n  isDone(){ return this._isDone }\n\n  error(reason = \"failed\"){\n    this.fileEl.removeEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated)\n    this.view.pushFileProgress(this.fileEl, this.ref, {error: reason})\n    if(!this.isAutoUpload()){ LiveUploader.clearFiles(this.fileEl) }\n  }\n\n  isAutoUpload(){ return this.autoUpload }\n\n  //private\n\n  onDone(callback){\n    this._onDone = () => {\n      this.fileEl.removeEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated)\n      callback()\n    }\n  }\n\n  onElUpdated(){\n    let activeRefs = this.fileEl.getAttribute(PHX_ACTIVE_ENTRY_REFS).split(\",\")\n    if(activeRefs.indexOf(this.ref) === -1){\n      LiveUploader.untrackFile(this.fileEl, this.file)\n      this.cancel()\n    }\n  }\n\n  toPreflightPayload(){\n    return {\n      last_modified: this.file.lastModified,\n      name: this.file.name,\n      relative_path: this.file.webkitRelativePath,\n      size: this.file.size,\n      type: this.file.type,\n      ref: this.ref,\n      meta: typeof(this.file.meta) === \"function\" ? this.file.meta() : undefined\n    }\n  }\n\n  uploader(uploaders){\n    if(this.meta.uploader){\n      let callback = uploaders[this.meta.uploader] || logError(`no uploader configured for ${this.meta.uploader}`)\n      return {name: this.meta.uploader, callback: callback}\n    } else {\n      return {name: \"channel\", callback: channelUploader}\n    }\n  }\n\n  zipPostFlight(resp){\n    this.meta = resp.entries[this.ref]\n    if(!this.meta){ logError(`no preflight upload response returned with ref ${this.ref}`, {input: this.fileEl, response: resp}) }\n  }\n}\n", "import {\n  PHX_DONE_REFS,\n  PHX_PREFLIGHTED_REFS,\n  PHX_UPLOAD_REF\n} from \"./constants\"\n\nimport {\n} from \"./utils\"\n\nimport DOM from \"./dom\"\nimport UploadEntry from \"./upload_entry\"\n\nlet liveUploaderFileRef = 0\n\nexport default class LiveUploader {\n  static genFileRef(file){\n    let ref = file._phxRef\n    if(ref !== undefined){\n      return ref\n    } else {\n      file._phxRef = (liveUploaderFileRef++).toString()\n      return file._phxRef\n    }\n  }\n\n  static getEntryDataURL(inputEl, ref, callback){\n    let file = this.activeFiles(inputEl).find(file => this.genFileRef(file) === ref)\n    callback(URL.createObjectURL(file))\n  }\n\n  static hasUploadsInProgress(formEl){\n    let active = 0\n    DOM.findUploadInputs(formEl).forEach(input => {\n      if(input.getAttribute(PHX_PREFLIGHTED_REFS) !== input.getAttribute(PHX_DONE_REFS)){\n        active++\n      }\n    })\n    return active > 0\n  }\n\n  static serializeUploads(inputEl){\n    let files = this.activeFiles(inputEl)\n    let fileData = {}\n    files.forEach(file => {\n      let entry = {path: inputEl.name}\n      let uploadRef = inputEl.getAttribute(PHX_UPLOAD_REF)\n      fileData[uploadRef] = fileData[uploadRef] || []\n      entry.ref = this.genFileRef(file)\n      entry.last_modified = file.lastModified\n      entry.name = file.name || entry.ref\n      entry.relative_path = file.webkitRelativePath\n      entry.type = file.type\n      entry.size = file.size\n      if(typeof(file.meta) === \"function\"){ entry.meta = file.meta() }\n      fileData[uploadRef].push(entry)\n    })\n    return fileData\n  }\n\n  static clearFiles(inputEl){\n    inputEl.value = null\n    inputEl.removeAttribute(PHX_UPLOAD_REF)\n    DOM.putPrivate(inputEl, \"files\", [])\n  }\n\n  static untrackFile(inputEl, file){\n    DOM.putPrivate(inputEl, \"files\", DOM.private(inputEl, \"files\").filter(f => !Object.is(f, file)))\n  }\n\n  static trackFiles(inputEl, files, dataTransfer){\n    if(inputEl.getAttribute(\"multiple\") !== null){\n      let newFiles = files.filter(file => !this.activeFiles(inputEl).find(f => Object.is(f, file)))\n      DOM.updatePrivate(inputEl, \"files\", [], (existing) => existing.concat(newFiles))\n      inputEl.value = null\n    } else {\n      // Reset inputEl files to align output with programmatic changes (i.e. drag and drop)\n      if(dataTransfer && dataTransfer.files.length > 0){ inputEl.files = dataTransfer.files }\n      DOM.putPrivate(inputEl, \"files\", files)\n    }\n  }\n\n  static activeFileInputs(formEl){\n    let fileInputs = DOM.findUploadInputs(formEl)\n    return Array.from(fileInputs).filter(el => el.files && this.activeFiles(el).length > 0)\n  }\n\n  static activeFiles(input){\n    return (DOM.private(input, \"files\") || []).filter(f => UploadEntry.isActive(input, f))\n  }\n\n  static inputsAwaitingPreflight(formEl){\n    let fileInputs = DOM.findUploadInputs(formEl)\n    return Array.from(fileInputs).filter(input => this.filesAwaitingPreflight(input).length > 0)\n  }\n\n  static filesAwaitingPreflight(input){\n    return this.activeFiles(input).filter(f => !UploadEntry.isPreflighted(input, f) && !UploadEntry.isPreflightInProgress(f))\n  }\n\n  static markPreflightInProgress(entries){\n    entries.forEach(entry => UploadEntry.markPreflightInProgress(entry.file))\n  }\n\n  constructor(inputEl, view, onComplete){\n    this.autoUpload = DOM.isAutoUpload(inputEl)\n    this.view = view\n    this.onComplete = onComplete\n    this._entries =\n      Array.from(LiveUploader.filesAwaitingPreflight(inputEl) || [])\n        .map(file => new UploadEntry(inputEl, file, view, this.autoUpload))\n\n    // prevent sending duplicate preflight requests\n    LiveUploader.markPreflightInProgress(this._entries)\n\n    this.numEntriesInProgress = this._entries.length\n  }\n\n  isAutoUpload(){ return this.autoUpload }\n\n  entries(){ return this._entries }\n\n  initAdapterUpload(resp, onError, liveSocket){\n    this._entries =\n      this._entries.map(entry => {\n        if(entry.isCancelled()){\n          this.numEntriesInProgress--\n          if(this.numEntriesInProgress === 0){ this.onComplete() }\n        } else {\n          entry.zipPostFlight(resp)\n          entry.onDone(() => {\n            this.numEntriesInProgress--\n            if(this.numEntriesInProgress === 0){ this.onComplete() }\n          })\n        }\n        return entry\n      })\n\n    let groupedEntries = this._entries.reduce((acc, entry) => {\n      if(!entry.meta){ return acc }\n      let {name, callback} = entry.uploader(liveSocket.uploaders)\n      acc[name] = acc[name] || {callback: callback, entries: []}\n      acc[name].entries.push(entry)\n      return acc\n    }, {})\n\n    for(let name in groupedEntries){\n      let {callback, entries} = groupedEntries[name]\n      callback(entries, onError, resp, liveSocket)\n    }\n  }\n}\n", "let ARIA = {\n  anyOf(instance, classes){ return classes.find(name => instance instanceof name) },\n\n  isFocusable(el, interactiveOnly){\n    return (\n      (el instanceof HTMLAnchorElement && el.rel !== \"ignore\") ||\n      (el instanceof HTMLAreaElement && el.href !== undefined) ||\n      (!el.disabled && (this.anyOf(el, [HTMLInputElement, HTMLSelectElement, HTMLTextAreaElement, HTMLButtonElement]))) ||\n      (el instanceof HTMLIFrameElement) ||\n      (el.tabIndex > 0 || (!interactiveOnly && el.getAttribute(\"tabindex\") !== null && el.getAttribute(\"aria-hidden\") !== \"true\"))\n    )\n  },\n\n  attemptFocus(el, interactiveOnly){\n    if(this.isFocusable(el, interactiveOnly)){ try { el.focus() } catch {} }\n    return !!document.activeElement && document.activeElement.isSameNode(el)\n  },\n\n  focusFirstInteractive(el){\n    let child = el.firstElementChild\n    while(child){\n      if(this.attemptFocus(child, true) || this.focusFirstInteractive(child, true)){\n        return true\n      }\n      child = child.nextElementSibling\n    }\n  },\n\n  focusFirst(el){\n    let child = el.firstElementChild\n    while(child){\n      if(this.attemptFocus(child) || this.focusFirst(child)){\n        return true\n      }\n      child = child.nextElementSibling\n    }\n  },\n\n  focusLast(el){\n    let child = el.lastElementChild\n    while(child){\n      if(this.attemptFocus(child) || this.focusLast(child)){\n        return true\n      }\n      child = child.previousElementSibling\n    }\n  }\n}\nexport default ARIA\n", "import {\n  PHX_ACTIVE_ENTRY_REFS,\n  PHX_LIVE_FILE_UPDATED,\n  PHX_PREFLIGHTED_REFS,\n  PHX_UPLOAD_REF\n} from \"./constants\"\n\nimport LiveUploader from \"./live_uploader\"\nimport ARIA from \"./aria\"\n\nlet Hooks = {\n  LiveFileUpload: {\n    activeRefs(){ return this.el.getAttribute(PHX_ACTIVE_ENTRY_REFS) },\n\n    preflightedRefs(){ return this.el.getAttribute(PHX_PREFLIGHTED_REFS) },\n\n    mounted(){ this.preflightedWas = this.preflightedRefs() },\n\n    updated(){\n      let newPreflights = this.preflightedRefs()\n      if(this.preflightedWas !== newPreflights){\n        this.preflightedWas = newPreflights\n        if(newPreflights === \"\"){\n          this.__view().cancelSubmit(this.el.form)\n        }\n      }\n\n      if(this.activeRefs() === \"\"){ this.el.value = null }\n      this.el.dispatchEvent(new CustomEvent(PHX_LIVE_FILE_UPDATED))\n    }\n  },\n\n  LiveImgPreview: {\n    mounted(){\n      this.ref = this.el.getAttribute(\"data-phx-entry-ref\")\n      this.inputEl = document.getElementById(this.el.getAttribute(PHX_UPLOAD_REF))\n      LiveUploader.getEntryDataURL(this.inputEl, this.ref, url => {\n        this.url = url\n        this.el.src = url\n      })\n    },\n    destroyed(){\n      URL.revokeObjectURL(this.url)\n    }\n  },\n  FocusWrap: {\n    mounted(){\n      this.focusStart = this.el.firstElementChild\n      this.focusEnd = this.el.lastElementChild\n      this.focusStart.addEventListener(\"focus\", () => ARIA.focusLast(this.el))\n      this.focusEnd.addEventListener(\"focus\", () => ARIA.focusFirst(this.el))\n      this.el.addEventListener(\"phx:show-end\", () => this.el.focus())\n      if(window.getComputedStyle(this.el).display !== \"none\"){\n        ARIA.focusFirst(this.el)\n      }\n    }\n  }\n}\n\nlet findScrollContainer = (el) => {\n  // the scroll event won't be fired on the html/body element even if overflow is set\n  // therefore we return null to instead listen for scroll events on document\n  if([\"HTML\", \"BODY\"].indexOf(el.nodeName.toUpperCase()) >= 0) return null\n  if([\"scroll\", \"auto\"].indexOf(getComputedStyle(el).overflowY) >= 0) return el\n  return findScrollContainer(el.parentElement)\n}\n\nlet scrollTop = (scrollContainer) => {\n  if(scrollContainer){\n    return scrollContainer.scrollTop\n  } else {\n    return document.documentElement.scrollTop || document.body.scrollTop\n  }\n}\n\nlet bottom = (scrollContainer) => {\n  if(scrollContainer){\n    return scrollContainer.getBoundingClientRect().bottom\n  } else {\n    // when we have no container, the whole page scrolls,\n    // therefore the bottom coordinate is the viewport height\n    return window.innerHeight || document.documentElement.clientHeight\n  }\n}\n\nlet top = (scrollContainer) => {\n  if(scrollContainer){\n    return scrollContainer.getBoundingClientRect().top\n  } else {\n    // when we have no container the whole page scrolls,\n    // therefore the top coordinate is 0\n    return 0\n  }\n}\n\nlet isAtViewportTop = (el, scrollContainer) => {\n  let rect = el.getBoundingClientRect()\n  return Math.ceil(rect.top) >= top(scrollContainer) && Math.ceil(rect.left) >= 0 && Math.floor(rect.top) <= bottom(scrollContainer)\n}\n\nlet isAtViewportBottom = (el, scrollContainer) => {\n  let rect = el.getBoundingClientRect()\n  return Math.ceil(rect.bottom) >= top(scrollContainer) && Math.ceil(rect.left) >= 0 && Math.floor(rect.bottom) <= bottom(scrollContainer)\n}\n\nlet isWithinViewport = (el, scrollContainer) => {\n  let rect = el.getBoundingClientRect()\n  return Math.ceil(rect.top) >= top(scrollContainer) && Math.ceil(rect.left) >= 0 && Math.floor(rect.top) <= bottom(scrollContainer)\n}\n\nHooks.InfiniteScroll = {\n  mounted(){\n    this.scrollContainer = findScrollContainer(this.el)\n    let scrollBefore = scrollTop(this.scrollContainer)\n    let topOverran = false\n    let throttleInterval = 500\n    let pendingOp = null\n\n    let onTopOverrun = this.throttle(throttleInterval, (topEvent, firstChild) => {\n      pendingOp = () => true\n      this.liveSocket.execJSHookPush(this.el, topEvent, {id: firstChild.id, _overran: true}, () => {\n        pendingOp = null\n      })\n    })\n\n    let onFirstChildAtTop = this.throttle(throttleInterval, (topEvent, firstChild) => {\n      pendingOp = () => firstChild.scrollIntoView({block: \"start\"})\n      this.liveSocket.execJSHookPush(this.el, topEvent, {id: firstChild.id}, () => {\n        pendingOp = null\n        // make sure that the DOM is patched by waiting for the next tick\n        window.requestAnimationFrame(() => {\n          if(!isWithinViewport(firstChild, this.scrollContainer)){\n            firstChild.scrollIntoView({block: \"start\"})\n          }\n        })\n      })\n    })\n\n    let onLastChildAtBottom = this.throttle(throttleInterval, (bottomEvent, lastChild) => {\n      pendingOp = () => lastChild.scrollIntoView({block: \"end\"})\n      this.liveSocket.execJSHookPush(this.el, bottomEvent, {id: lastChild.id}, () => {\n        pendingOp = null\n        // make sure that the DOM is patched by waiting for the next tick\n        window.requestAnimationFrame(() => {\n          if(!isWithinViewport(lastChild, this.scrollContainer)){\n            lastChild.scrollIntoView({block: \"end\"})\n          }\n        })\n      })\n    })\n\n    this.onScroll = (_e) => {\n      let scrollNow = scrollTop(this.scrollContainer)\n\n      if(pendingOp){\n        scrollBefore = scrollNow\n        return pendingOp()\n      }\n      let rect = this.el.getBoundingClientRect()\n      let topEvent = this.el.getAttribute(this.liveSocket.binding(\"viewport-top\"))\n      let bottomEvent = this.el.getAttribute(this.liveSocket.binding(\"viewport-bottom\"))\n      let lastChild = this.el.lastElementChild\n      let firstChild = this.el.firstElementChild\n      let isScrollingUp = scrollNow < scrollBefore\n      let isScrollingDown = scrollNow > scrollBefore\n\n      // el overran while scrolling up\n      if(isScrollingUp && topEvent && !topOverran && rect.top >= 0){\n        topOverran = true\n        onTopOverrun(topEvent, firstChild)\n      } else if(isScrollingDown && topOverran && rect.top <= 0){\n        topOverran = false\n      }\n\n      if(topEvent && isScrollingUp && isAtViewportTop(firstChild, this.scrollContainer)){\n        onFirstChildAtTop(topEvent, firstChild)\n      } else if(bottomEvent && isScrollingDown && isAtViewportBottom(lastChild, this.scrollContainer)){\n        onLastChildAtBottom(bottomEvent, lastChild)\n      }\n      scrollBefore = scrollNow\n    }\n\n    if(this.scrollContainer){\n      this.scrollContainer.addEventListener(\"scroll\", this.onScroll)\n    } else {\n      window.addEventListener(\"scroll\", this.onScroll)\n    }\n  },\n  \n  destroyed(){\n    if(this.scrollContainer){\n      this.scrollContainer.removeEventListener(\"scroll\", this.onScroll)\n    } else {\n      window.removeEventListener(\"scroll\", this.onScroll)\n    }\n  },\n\n  throttle(interval, callback){\n    let lastCallAt = 0\n    let timer\n\n    return (...args) => {\n      let now = Date.now()\n      let remainingTime = interval - (now - lastCallAt)\n\n      if(remainingTime <= 0 || remainingTime > interval){\n        if(timer){\n          clearTimeout(timer)\n          timer = null\n        }\n        lastCallAt = now\n        callback(...args)\n      } else if(!timer){\n        timer = setTimeout(() => {\n          lastCallAt = Date.now()\n          timer = null\n          callback(...args)\n        }, remainingTime)\n      }\n    }\n  }\n}\nexport default Hooks\n", "import {\n  PHX_REF_LOADING,\n  PHX_REF_LOCK,\n  PHX_REF_SRC,\n  PHX_EVENT_CLASSES,\n  PHX_DISABLED,\n  PHX_READONLY,\n  PHX_DISABLE_WITH_RESTORE\n} from \"./constants\"\n\nimport DOM from \"./dom\"\n\nexport default class ElementRef {\n  constructor(el){\n    this.el = el\n    this.loadingRef = el.hasAttribute(PHX_REF_LOADING) ? parseInt(el.getAttribute(PHX_REF_LOADING), 10) : null\n    this.lockRef = el.hasAttribute(PHX_REF_LOCK) ? parseInt(el.getAttribute(PHX_REF_LOCK), 10) : null\n  }\n\n  // public\n\n  maybeUndo(ref, phxEvent, eachCloneCallback){\n    if(!this.isWithin(ref)){ return }\n\n    // undo locks and apply clones\n    this.undoLocks(ref, phxEvent, eachCloneCallback)\n\n    // undo loading states\n    this.undoLoading(ref, phxEvent)\n\n    // clean up if fully resolved\n    if(this.isFullyResolvedBy(ref)){ this.el.removeAttribute(PHX_REF_SRC) }\n  }\n\n  // private\n\n  isWithin(ref){\n    return !((this.loadingRef !== null && this.loadingRef > ref) && (this.lockRef !== null && this.lockRef > ref))\n  }\n\n  // Check for cloned PHX_REF_LOCK element that has been morphed behind\n  // the scenes while this element was locked in the DOM.\n  // When we apply the cloned tree to the active DOM element, we must\n  //\n  //   1. execute pending mounted hooks for nodes now in the DOM\n  //   2. undo any ref inside the cloned tree that has since been ack'd\n  undoLocks(ref, phxEvent, eachCloneCallback){\n    if(!this.isLockUndoneBy(ref)){ return }\n\n    let clonedTree = DOM.private(this.el, PHX_REF_LOCK)\n    if(clonedTree){\n      eachCloneCallback(clonedTree)\n      DOM.deletePrivate(this.el, PHX_REF_LOCK)\n    }\n    this.el.removeAttribute(PHX_REF_LOCK)\n\n    let opts = {detail: {ref: ref, event: phxEvent}, bubbles: true, cancelable: false}\n    this.el.dispatchEvent(new CustomEvent(`phx:undo-lock:${this.lockRef}`, opts))\n  }\n\n  undoLoading(ref, phxEvent){\n    if(!this.isLoadingUndoneBy(ref)){\n      if(this.canUndoLoading(ref) && this.el.classList.contains(\"phx-submit-loading\")){\n        this.el.classList.remove(\"phx-change-loading\")\n      }\n      return\n    }\n\n    if(this.canUndoLoading(ref)){\n      this.el.removeAttribute(PHX_REF_LOADING)\n      let disabledVal = this.el.getAttribute(PHX_DISABLED)\n      let readOnlyVal = this.el.getAttribute(PHX_READONLY)\n      // restore inputs\n      if(readOnlyVal !== null){\n        this.el.readOnly = readOnlyVal === \"true\" ? true : false\n        this.el.removeAttribute(PHX_READONLY)\n      }\n      if(disabledVal !== null){\n        this.el.disabled = disabledVal === \"true\" ? true : false\n        this.el.removeAttribute(PHX_DISABLED)\n      }\n      // restore disables\n      let disableRestore = this.el.getAttribute(PHX_DISABLE_WITH_RESTORE)\n      if(disableRestore !== null){\n        this.el.innerText = disableRestore\n        this.el.removeAttribute(PHX_DISABLE_WITH_RESTORE)\n      }\n\n      let opts = {detail: {ref: ref, event: phxEvent}, bubbles: true, cancelable: false}\n      this.el.dispatchEvent(new CustomEvent(`phx:undo-loading:${this.loadingRef}`, opts))\n    }\n\n    // remove classes\n    PHX_EVENT_CLASSES.forEach(name => {\n      if(name !== \"phx-submit-loading\" || this.canUndoLoading(ref)){\n        DOM.removeClass(this.el, name)\n      }\n    })\n  }\n\n  isLoadingUndoneBy(ref){ return this.loadingRef === null ? false : this.loadingRef <= ref }\n  isLockUndoneBy(ref){ return this.lockRef === null ? false : this.lockRef <= ref }\n\n  isFullyResolvedBy(ref){\n    return (this.loadingRef === null || this.loadingRef <= ref) && (this.lockRef === null || this.lockRef <= ref)\n  }\n\n  // only remove the phx-submit-loading class if we are not locked\n  canUndoLoading(ref){ return this.lockRef === null || this.lockRef <= ref }\n}\n", "import {\n  maybe\n} from \"./utils\"\n\nimport DOM from \"./dom\"\n\nexport default class DOMPostMorphRestorer {\n  constructor(containerBefore, containerAfter, updateType){\n    let idsBefore = new Set()\n    let idsAfter = new Set([...containerAfter.children].map(child => child.id))\n\n    let elementsToModify = []\n\n    Array.from(containerBefore.children).forEach(child => {\n      if(child.id){ // all of our children should be elements with ids\n        idsBefore.add(child.id)\n        if(idsAfter.has(child.id)){\n          let previousElementId = child.previousElementSibling && child.previousElementSibling.id\n          elementsToModify.push({elementId: child.id, previousElementId: previousElementId})\n        }\n      }\n    })\n\n    this.containerId = containerAfter.id\n    this.updateType = updateType\n    this.elementsToModify = elementsToModify\n    this.elementIdsToAdd = [...idsAfter].filter(id => !idsBefore.has(id))\n  }\n\n  // We do the following to optimize append/prepend operations:\n  //   1) Track ids of modified elements & of new elements\n  //   2) All the modified elements are put back in the correct position in the DOM tree\n  //      by storing the id of their previous sibling\n  //   3) New elements are going to be put in the right place by morphdom during append.\n  //      For prepend, we move them to the first position in the container\n  perform(){\n    let container = DOM.byId(this.containerId)\n    this.elementsToModify.forEach(elementToModify => {\n      if(elementToModify.previousElementId){\n        maybe(document.getElementById(elementToModify.previousElementId), previousElem => {\n          maybe(document.getElementById(elementToModify.elementId), elem => {\n            let isInRightPlace = elem.previousElementSibling && elem.previousElementSibling.id == previousElem.id\n            if(!isInRightPlace){\n              previousElem.insertAdjacentElement(\"afterend\", elem)\n            }\n          })\n        })\n      } else {\n        // This is the first element in the container\n        maybe(document.getElementById(elementToModify.elementId), elem => {\n          let isInRightPlace = elem.previousElementSibling == null\n          if(!isInRightPlace){\n            container.insertAdjacentElement(\"afterbegin\", elem)\n          }\n        })\n      }\n    })\n\n    if(this.updateType == \"prepend\"){\n      this.elementIdsToAdd.reverse().forEach(elemId => {\n        maybe(document.getElementById(elemId), elem => container.insertAdjacentElement(\"afterbegin\", elem))\n      })\n    }\n  }\n}\n", "var DOCUMENT_FRAGMENT_NODE = 11;\n\nfunction morphAttrs(fromNode, toNode) {\n    var toNodeAttrs = toNode.attributes;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    // document-fragments dont have attributes so lets not do anything\n    if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE || fromNode.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return;\n    }\n\n    // update attributes on original DOM element\n    for (var i = toNodeAttrs.length - 1; i >= 0; i--) {\n        attr = toNodeAttrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                if (attr.prefix === 'xmlns'){\n                    attrName = attr.name; // It's not allowed to set an attribute with the XMLNS namespace without specifying the `xmlns` prefix\n                }\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    var fromNodeAttrs = fromNode.attributes;\n\n    for (var d = fromNodeAttrs.length - 1; d >= 0; d--) {\n        attr = fromNodeAttrs[d];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n\n            if (!toNode.hasAttributeNS(attrNamespaceURI, attrName)) {\n                fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n            }\n        } else {\n            if (!toNode.hasAttribute(attrName)) {\n                fromNode.removeAttribute(attrName);\n            }\n        }\n    }\n}\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\nvar HAS_TEMPLATE_SUPPORT = !!doc && 'content' in doc.createElement('template');\nvar HAS_RANGE_SUPPORT = !!doc && doc.createRange && 'createContextualFragment' in doc.createRange();\n\nfunction createFragmentFromTemplate(str) {\n    var template = doc.createElement('template');\n    template.innerHTML = str;\n    return template.content.childNodes[0];\n}\n\nfunction createFragmentFromRange(str) {\n    if (!range) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment = range.createContextualFragment(str);\n    return fragment.childNodes[0];\n}\n\nfunction createFragmentFromWrap(str) {\n    var fragment = doc.createElement('body');\n    fragment.innerHTML = str;\n    return fragment.childNodes[0];\n}\n\n/**\n * This is about the same\n * var html = new DOMParser().parseFromString(str, 'text/html');\n * return html.body.firstChild;\n *\n * @method toElement\n * @param {String} str\n */\nfunction toElement(str) {\n    str = str.trim();\n    if (HAS_TEMPLATE_SUPPORT) {\n      // avoid restrictions on content for things like `<tr><th>Hi</th></tr>` which\n      // createContextualFragment doesn't support\n      // <template> support not available in IE\n      return createFragmentFromTemplate(str);\n    } else if (HAS_RANGE_SUPPORT) {\n      return createFragmentFromRange(str);\n    }\n\n    return createFragmentFromWrap(str);\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n    var fromCodeStart, toCodeStart;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    fromCodeStart = fromNodeName.charCodeAt(0);\n    toCodeStart = toNodeName.charCodeAt(0);\n\n    // If the target element is a virtual DOM node or SVG node then we may\n    // need to normalize the tag name before comparing. Normal HTML elements that are\n    // in the \"http://www.w3.org/1999/xhtml\"\n    // are converted to upper case\n    if (fromCodeStart <= 90 && toCodeStart >= 97) { // from is upper and to is lower\n        return fromNodeName === toNodeName.toUpperCase();\n    } else if (toCodeStart <= 90 && fromCodeStart >= 97) { // to is upper and from is lower\n        return toNodeName === fromNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name);\n        }\n    }\n}\n\nvar specialElHandlers = {\n    OPTION: function(fromEl, toEl) {\n        var parentNode = fromEl.parentNode;\n        if (parentNode) {\n            var parentName = parentNode.nodeName.toUpperCase();\n            if (parentName === 'OPTGROUP') {\n                parentNode = parentNode.parentNode;\n                parentName = parentNode && parentNode.nodeName.toUpperCase();\n            }\n            if (parentName === 'SELECT' && !parentNode.hasAttribute('multiple')) {\n                if (fromEl.hasAttribute('selected') && !toEl.selected) {\n                    // Workaround for MS Edge bug where the 'selected' attribute can only be\n                    // removed if set to a non-empty value:\n                    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12087679/\n                    fromEl.setAttribute('selected', 'selected');\n                    fromEl.removeAttribute('selected');\n                }\n                // We have to reset select element's selectedIndex to -1, otherwise setting\n                // fromEl.selected using the syncBooleanAttrProp below has no effect.\n                // The correct selectedIndex will be set in the SELECT special handler below.\n                parentNode.selectedIndex = -1;\n            }\n        }\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!toEl.hasAttribute('value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!toEl.hasAttribute('multiple')) {\n            var selectedIndex = -1;\n            var i = 0;\n            // We have to loop through children of fromEl, not toEl since nodes can be moved\n            // from toEl to fromEl directly when morphing.\n            // At the time this special handler is invoked, all children have already been morphed\n            // and appended to / removed from fromEl, so using fromEl here is safe and correct.\n            var curChild = fromEl.firstChild;\n            var optgroup;\n            var nodeName;\n            while(curChild) {\n                nodeName = curChild.nodeName && curChild.nodeName.toUpperCase();\n                if (nodeName === 'OPTGROUP') {\n                    optgroup = curChild;\n                    curChild = optgroup.firstChild;\n                } else {\n                    if (nodeName === 'OPTION') {\n                        if (curChild.hasAttribute('selected')) {\n                            selectedIndex = i;\n                            break;\n                        }\n                        i++;\n                    }\n                    curChild = curChild.nextSibling;\n                    if (!curChild && optgroup) {\n                        curChild = optgroup.nextSibling;\n                        optgroup = null;\n                    }\n                }\n            }\n\n            fromEl.selectedIndex = selectedIndex;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_FRAGMENT_NODE$1 = 11;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n  if (node) {\n    return (node.getAttribute && node.getAttribute('id')) || node.id;\n  }\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n  return function morphdom(fromNode, toNode, options) {\n    if (!options) {\n      options = {};\n    }\n\n    if (typeof toNode === 'string') {\n      if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML' || fromNode.nodeName === 'BODY') {\n        var toNodeHtml = toNode;\n        toNode = doc.createElement('html');\n        toNode.innerHTML = toNodeHtml;\n      } else {\n        toNode = toElement(toNode);\n      }\n    } else if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE$1) {\n      toNode = toNode.firstElementChild;\n    }\n\n    var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n    var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n    var onNodeAdded = options.onNodeAdded || noop;\n    var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n    var onElUpdated = options.onElUpdated || noop;\n    var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n    var onNodeDiscarded = options.onNodeDiscarded || noop;\n    var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n    var skipFromChildren = options.skipFromChildren || noop;\n    var addChild = options.addChild || function(parent, child){ return parent.appendChild(child); };\n    var childrenOnly = options.childrenOnly === true;\n\n    // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n    var fromNodesLookup = Object.create(null);\n    var keyedRemovalList = [];\n\n    function addKeyedRemoval(key) {\n      keyedRemovalList.push(key);\n    }\n\n    function walkDiscardedChildNodes(node, skipKeyedNodes) {\n      if (node.nodeType === ELEMENT_NODE) {\n        var curChild = node.firstChild;\n        while (curChild) {\n\n          var key = undefined;\n\n          if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n            // If we are skipping keyed nodes then we add the key\n            // to a list so that it can be handled at the very end.\n            addKeyedRemoval(key);\n          } else {\n            // Only report the node as discarded if it is not keyed. We do this because\n            // at the end we loop through all keyed elements that were unmatched\n            // and then discard them in one final pass.\n            onNodeDiscarded(curChild);\n            if (curChild.firstChild) {\n              walkDiscardedChildNodes(curChild, skipKeyedNodes);\n            }\n          }\n\n          curChild = curChild.nextSibling;\n        }\n      }\n    }\n\n    /**\n    * Removes a DOM node out of the original DOM\n    *\n    * @param  {Node} node The node to remove\n    * @param  {Node} parentNode The nodes parent\n    * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n    * @return {undefined}\n    */\n    function removeNode(node, parentNode, skipKeyedNodes) {\n      if (onBeforeNodeDiscarded(node) === false) {\n        return;\n      }\n\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n\n      onNodeDiscarded(node);\n      walkDiscardedChildNodes(node, skipKeyedNodes);\n    }\n\n    // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n    // function indexTree(root) {\n    //     var treeWalker = document.createTreeWalker(\n    //         root,\n    //         NodeFilter.SHOW_ELEMENT);\n    //\n    //     var el;\n    //     while((el = treeWalker.nextNode())) {\n    //         var key = getNodeKey(el);\n    //         if (key) {\n    //             fromNodesLookup[key] = el;\n    //         }\n    //     }\n    // }\n\n    // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n    //\n    // function indexTree(node) {\n    //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n    //     var el;\n    //     while((el = nodeIterator.nextNode())) {\n    //         var key = getNodeKey(el);\n    //         if (key) {\n    //             fromNodesLookup[key] = el;\n    //         }\n    //     }\n    // }\n\n    function indexTree(node) {\n      if (node.nodeType === ELEMENT_NODE || node.nodeType === DOCUMENT_FRAGMENT_NODE$1) {\n        var curChild = node.firstChild;\n        while (curChild) {\n          var key = getNodeKey(curChild);\n          if (key) {\n            fromNodesLookup[key] = curChild;\n          }\n\n          // Walk recursively\n          indexTree(curChild);\n\n          curChild = curChild.nextSibling;\n        }\n      }\n    }\n\n    indexTree(fromNode);\n\n    function handleNodeAdded(el) {\n      onNodeAdded(el);\n\n      var curChild = el.firstChild;\n      while (curChild) {\n        var nextSibling = curChild.nextSibling;\n\n        var key = getNodeKey(curChild);\n        if (key) {\n          var unmatchedFromEl = fromNodesLookup[key];\n          // if we find a duplicate #id node in cache, replace `el` with cache value\n          // and morph it to the child node.\n          if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n            curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n            morphEl(unmatchedFromEl, curChild);\n          } else {\n            handleNodeAdded(curChild);\n          }\n        } else {\n          // recursively call for curChild and it's children to see if we find something in\n          // fromNodesLookup\n          handleNodeAdded(curChild);\n        }\n\n        curChild = nextSibling;\n      }\n    }\n\n    function cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey) {\n      // We have processed all of the \"to nodes\". If curFromNodeChild is\n      // non-null then we still have some from nodes left over that need\n      // to be removed\n      while (curFromNodeChild) {\n        var fromNextSibling = curFromNodeChild.nextSibling;\n        if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n          // Since the node is keyed it might be matched up later so we defer\n          // the actual removal to later\n          addKeyedRemoval(curFromNodeKey);\n        } else {\n          // NOTE: we skip nested keyed nodes from being removed since there is\n          //       still a chance they will be matched up later\n          removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n        }\n        curFromNodeChild = fromNextSibling;\n      }\n    }\n\n    function morphEl(fromEl, toEl, childrenOnly) {\n      var toElKey = getNodeKey(toEl);\n\n      if (toElKey) {\n        // If an element with an ID is being morphed then it will be in the final\n        // DOM so clear it out of the saved elements collection\n        delete fromNodesLookup[toElKey];\n      }\n\n      if (!childrenOnly) {\n        // optional\n        var beforeUpdateResult = onBeforeElUpdated(fromEl, toEl);\n        if (beforeUpdateResult === false) {\n          return;\n        } else if (beforeUpdateResult instanceof HTMLElement) {\n          fromEl = beforeUpdateResult;\n          // reindex the new fromEl in case it's not in the same\n          // tree as the original fromEl\n          // (Phoenix LiveView sometimes returns a cloned tree,\n          //  but keyed lookups would still point to the original tree)\n          indexTree(fromEl);\n        }\n\n        // update attributes on original DOM element first\n        morphAttrs(fromEl, toEl);\n        // optional\n        onElUpdated(fromEl);\n\n        if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n          return;\n        }\n      }\n\n      if (fromEl.nodeName !== 'TEXTAREA') {\n        morphChildren(fromEl, toEl);\n      } else {\n        specialElHandlers.TEXTAREA(fromEl, toEl);\n      }\n    }\n\n    function morphChildren(fromEl, toEl) {\n      var skipFrom = skipFromChildren(fromEl, toEl);\n      var curToNodeChild = toEl.firstChild;\n      var curFromNodeChild = fromEl.firstChild;\n      var curToNodeKey;\n      var curFromNodeKey;\n\n      var fromNextSibling;\n      var toNextSibling;\n      var matchingFromEl;\n\n      // walk the children\n      outer: while (curToNodeChild) {\n        toNextSibling = curToNodeChild.nextSibling;\n        curToNodeKey = getNodeKey(curToNodeChild);\n\n        // walk the fromNode children all the way through\n        while (!skipFrom && curFromNodeChild) {\n          fromNextSibling = curFromNodeChild.nextSibling;\n\n          if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n            curToNodeChild = toNextSibling;\n            curFromNodeChild = fromNextSibling;\n            continue outer;\n          }\n\n          curFromNodeKey = getNodeKey(curFromNodeChild);\n\n          var curFromNodeType = curFromNodeChild.nodeType;\n\n          // this means if the curFromNodeChild doesnt have a match with the curToNodeChild\n          var isCompatible = undefined;\n\n          if (curFromNodeType === curToNodeChild.nodeType) {\n            if (curFromNodeType === ELEMENT_NODE) {\n              // Both nodes being compared are Element nodes\n\n              if (curToNodeKey) {\n                // The target node has a key so we want to match it up with the correct element\n                // in the original DOM tree\n                if (curToNodeKey !== curFromNodeKey) {\n                  // The current element in the original DOM tree does not have a matching key so\n                  // let's check our lookup to see if there is a matching element in the original\n                  // DOM tree\n                  if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                    if (fromNextSibling === matchingFromEl) {\n                      // Special case for single element removals. To avoid removing the original\n                      // DOM node out of the tree (since that can break CSS transitions, etc.),\n                      // we will instead discard the current node and wait until the next\n                      // iteration to properly match up the keyed target element with its matching\n                      // element in the original tree\n                      isCompatible = false;\n                    } else {\n                      // We found a matching keyed element somewhere in the original DOM tree.\n                      // Let's move the original DOM node into the current position and morph\n                      // it.\n\n                      // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                      // the `removeNode()` function for the node that is being discarded so that\n                      // all lifecycle hooks are correctly invoked\n                      fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                      // fromNextSibling = curFromNodeChild.nextSibling;\n\n                      if (curFromNodeKey) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                      } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                      }\n\n                      curFromNodeChild = matchingFromEl;\n                      curFromNodeKey = getNodeKey(curFromNodeChild);\n                    }\n                  } else {\n                    // The nodes are not compatible since the \"to\" node has a key and there\n                    // is no matching keyed node in the source tree\n                    isCompatible = false;\n                  }\n                }\n              } else if (curFromNodeKey) {\n                // The original has a key\n                isCompatible = false;\n              }\n\n              isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n              if (isCompatible) {\n                // We found compatible DOM elements so transform\n                // the current \"from\" node to match the current\n                // target DOM node.\n                // MORPH\n                morphEl(curFromNodeChild, curToNodeChild);\n              }\n\n            } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n              // Both nodes being compared are Text or Comment nodes\n              isCompatible = true;\n              // Simply update nodeValue on the original node to\n              // change the text value\n              if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {\n                curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n              }\n\n            }\n          }\n\n          if (isCompatible) {\n            // Advance both the \"to\" child and the \"from\" child since we found a match\n            // Nothing else to do as we already recursively called morphChildren above\n            curToNodeChild = toNextSibling;\n            curFromNodeChild = fromNextSibling;\n            continue outer;\n          }\n\n          // No compatible match so remove the old node from the DOM and continue trying to find a\n          // match in the original DOM. However, we only do this if the from node is not keyed\n          // since it is possible that a keyed node might match up with a node somewhere else in the\n          // target tree and we don't want to discard it just yet since it still might find a\n          // home in the final DOM tree. After everything is done we will remove any keyed nodes\n          // that didn't find a home\n          if (curFromNodeKey) {\n            // Since the node is keyed it might be matched up later so we defer\n            // the actual removal to later\n            addKeyedRemoval(curFromNodeKey);\n          } else {\n            // NOTE: we skip nested keyed nodes from being removed since there is\n            //       still a chance they will be matched up later\n            removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n          }\n\n          curFromNodeChild = fromNextSibling;\n        } // END: while(curFromNodeChild) {}\n\n        // If we got this far then we did not find a candidate match for\n        // our \"to node\" and we exhausted all of the children \"from\"\n        // nodes. Therefore, we will just append the current \"to\" node\n        // to the end\n        if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n          // MORPH\n          if(!skipFrom){ addChild(fromEl, matchingFromEl); }\n          morphEl(matchingFromEl, curToNodeChild);\n        } else {\n          var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n          if (onBeforeNodeAddedResult !== false) {\n            if (onBeforeNodeAddedResult) {\n              curToNodeChild = onBeforeNodeAddedResult;\n            }\n\n            if (curToNodeChild.actualize) {\n              curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n            }\n            addChild(fromEl, curToNodeChild);\n            handleNodeAdded(curToNodeChild);\n          }\n        }\n\n        curToNodeChild = toNextSibling;\n        curFromNodeChild = fromNextSibling;\n      }\n\n      cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey);\n\n      var specialElHandler = specialElHandlers[fromEl.nodeName];\n      if (specialElHandler) {\n        specialElHandler(fromEl, toEl);\n      }\n    } // END: morphChildren(...)\n\n    var morphedNode = fromNode;\n    var morphedNodeType = morphedNode.nodeType;\n    var toNodeType = toNode.nodeType;\n\n    if (!childrenOnly) {\n      // Handle the case where we are given two DOM nodes that are not\n      // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n      if (morphedNodeType === ELEMENT_NODE) {\n        if (toNodeType === ELEMENT_NODE) {\n          if (!compareNodeNames(fromNode, toNode)) {\n            onNodeDiscarded(fromNode);\n            morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n          }\n        } else {\n          // Going from an element node to a text node\n          morphedNode = toNode;\n        }\n      } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n        if (toNodeType === morphedNodeType) {\n          if (morphedNode.nodeValue !== toNode.nodeValue) {\n            morphedNode.nodeValue = toNode.nodeValue;\n          }\n\n          return morphedNode;\n        } else {\n          // Text node to something else\n          morphedNode = toNode;\n        }\n      }\n    }\n\n    if (morphedNode === toNode) {\n      // The \"to node\" was not compatible with the \"from node\" so we had to\n      // toss out the \"from node\" and use the \"to node\"\n      onNodeDiscarded(fromNode);\n    } else {\n      if (toNode.isSameNode && toNode.isSameNode(morphedNode)) {\n        return;\n      }\n\n      morphEl(morphedNode, toNode, childrenOnly);\n\n      // We now need to loop over any keyed nodes that might need to be\n      // removed. We only do the removal if we know that the keyed node\n      // never found a match. When a keyed node is matched up we remove\n      // it out of fromNodesLookup and we use fromNodesLookup to determine\n      // if a keyed node has been matched up or not\n      if (keyedRemovalList) {\n        for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n          var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n          if (elToRemove) {\n            removeNode(elToRemove, elToRemove.parentNode, false);\n          }\n        }\n      }\n    }\n\n    if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n      if (morphedNode.actualize) {\n        morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n      }\n      // If we had to swap out the from node with a new node because the old\n      // node was not compatible with the target node then we need to\n      // replace the old DOM node in the original DOM tree. This is only\n      // possible if the original DOM node was part of a DOM tree which\n      // we know is the case if it has a parent node.\n      fromNode.parentNode.replaceChild(morphedNode, fromNode);\n    }\n\n    return morphedNode;\n  };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nexport default morphdom;\n", "import {\n  PHX_COMPONENT,\n  PHX_PRUNE,\n  PHX_ROOT_ID,\n  PHX_SESSION,\n  PHX_SKIP,\n  PHX_MAGIC_ID,\n  PHX_STATIC,\n  PHX_TRIGGER_ACTION,\n  PHX_UPDATE,\n  PHX_REF_SRC,\n  PHX_REF_LOCK,\n  PHX_STREAM,\n  PHX_STREAM_REF,\n  PHX_VIEWPORT_TOP,\n  PHX_VIEWPORT_BOTTOM,\n} from \"./constants\"\n\nimport {\n  detectDuplicateIds,\n  isCid\n} from \"./utils\"\n\nimport DOM from \"./dom\"\nimport DOMPostMorphRestorer from \"./dom_post_morph_restorer\"\nimport morphdom from \"morphdom\"\n\nexport default class DOMPatch {\n  static patchWithClonedTree(container, clonedTree, liveSocket){\n    let focused = liveSocket.getActiveElement()\n    let {selectionStart, selectionEnd} = focused && DOM.hasSelectionRange(focused) ? focused : {}\n    let phxUpdate = liveSocket.binding(PHX_UPDATE)\n    let externalFormTriggered = null\n\n    morphdom(container, clonedTree, {\n      childrenOnly: false,\n      onBeforeElUpdated: (fromEl, toEl) => {\n        DOM.syncPendingAttrs(fromEl, toEl)\n        // we cannot morph locked children\n        if(!container.isSameNode(fromEl) && fromEl.hasAttribute(PHX_REF_LOCK)){ return false }\n        if(DOM.isIgnored(fromEl, phxUpdate)){ return false }\n        if(focused && focused.isSameNode(fromEl) && DOM.isFormInput(fromEl)){\n          DOM.mergeFocusedInput(fromEl, toEl)\n          return false\n        }\n        if(DOM.isNowTriggerFormExternal(toEl, liveSocket.binding(PHX_TRIGGER_ACTION))){\n          externalFormTriggered = toEl\n        }\n      }\n    })\n\n    if(externalFormTriggered){\n      liveSocket.unload()\n      // use prototype's submit in case there's a form control with name or id of \"submit\"\n      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit\n      Object.getPrototypeOf(externalFormTriggered).submit.call(externalFormTriggered)\n    }\n\n    liveSocket.silenceEvents(() => DOM.restoreFocus(focused, selectionStart, selectionEnd))\n  }\n\n  constructor(view, container, id, html, streams, targetCID){\n    this.view = view\n    this.liveSocket = view.liveSocket\n    this.container = container\n    this.id = id\n    this.rootID = view.root.id\n    this.html = html\n    this.streams = streams\n    this.streamInserts = {}\n    this.streamComponentRestore = {}\n    this.targetCID = targetCID\n    this.cidPatch = isCid(this.targetCID)\n    this.pendingRemoves = []\n    this.phxRemove = this.liveSocket.binding(\"remove\")\n    this.targetContainer = this.isCIDPatch() ? this.targetCIDContainer(html) : container\n    this.callbacks = {\n      beforeadded: [], beforeupdated: [], beforephxChildAdded: [],\n      afteradded: [], afterupdated: [], afterdiscarded: [], afterphxChildAdded: [],\n      aftertransitionsDiscarded: []\n    }\n  }\n\n  before(kind, callback){ this.callbacks[`before${kind}`].push(callback) }\n  after(kind, callback){ this.callbacks[`after${kind}`].push(callback) }\n\n  trackBefore(kind, ...args){\n    this.callbacks[`before${kind}`].forEach(callback => callback(...args))\n  }\n\n  trackAfter(kind, ...args){\n    this.callbacks[`after${kind}`].forEach(callback => callback(...args))\n  }\n\n  markPrunableContentForRemoval(){\n    let phxUpdate = this.liveSocket.binding(PHX_UPDATE)\n    DOM.all(this.container, `[${phxUpdate}=append] > *, [${phxUpdate}=prepend] > *`, el => {\n      el.setAttribute(PHX_PRUNE, \"\")\n    })\n  }\n\n  perform(isJoinPatch){\n    let {view, liveSocket, html, container, targetContainer} = this\n    if(this.isCIDPatch() && !targetContainer){ return }\n\n    let focused = liveSocket.getActiveElement()\n    let {selectionStart, selectionEnd} = focused && DOM.hasSelectionRange(focused) ? focused : {}\n    let phxUpdate = liveSocket.binding(PHX_UPDATE)\n    let phxViewportTop = liveSocket.binding(PHX_VIEWPORT_TOP)\n    let phxViewportBottom = liveSocket.binding(PHX_VIEWPORT_BOTTOM)\n    let phxTriggerExternal = liveSocket.binding(PHX_TRIGGER_ACTION)\n    let added = []\n    let updates = []\n    let appendPrependUpdates = []\n\n    let externalFormTriggered = null\n\n    function morph(targetContainer, source, withChildren=false){\n      let morphCallbacks = {\n        // normally, we are running with childrenOnly, as the patch HTML for a LV\n        // does not include the LV attrs (data-phx-session, etc.)\n        // when we are patching a live component, we do want to patch the root element as well;\n        // another case is the recursive patch of a stream item that was kept on reset (-> onBeforeNodeAdded)\n        childrenOnly: targetContainer.getAttribute(PHX_COMPONENT) === null && !withChildren,\n        getNodeKey: (node) => {\n          if(DOM.isPhxDestroyed(node)){ return null }\n          // If we have a join patch, then by definition there was no PHX_MAGIC_ID.\n          // This is important to reduce the amount of elements morphdom discards.\n          if(isJoinPatch){ return node.id }\n          return node.id || (node.getAttribute && node.getAttribute(PHX_MAGIC_ID))\n        },\n        // skip indexing from children when container is stream\n        skipFromChildren: (from) => { return from.getAttribute(phxUpdate) === PHX_STREAM },\n        // tell morphdom how to add a child\n        addChild: (parent, child) => {\n          let {ref, streamAt} = this.getStreamInsert(child)\n          if(ref === undefined){ return parent.appendChild(child) }\n\n          this.setStreamRef(child, ref)\n\n          // streaming\n          if(streamAt === 0){\n            parent.insertAdjacentElement(\"afterbegin\", child)\n          } else if(streamAt === -1){\n            let lastChild = parent.lastElementChild\n            if(lastChild && !lastChild.hasAttribute(PHX_STREAM_REF)){\n              let nonStreamChild = Array.from(parent.children).find(c => !c.hasAttribute(PHX_STREAM_REF))\n              parent.insertBefore(child, nonStreamChild)\n            } else {\n              parent.appendChild(child)\n            }\n          } else if(streamAt > 0){\n            let sibling = Array.from(parent.children)[streamAt]\n            parent.insertBefore(child, sibling)\n          }\n        },\n        onBeforeNodeAdded: (el) => {\n          DOM.maintainPrivateHooks(el, el, phxViewportTop, phxViewportBottom)\n          this.trackBefore(\"added\", el)\n\n          let morphedEl = el\n          // this is a stream item that was kept on reset, recursively morph it\n          if(this.streamComponentRestore[el.id]){\n            morphedEl = this.streamComponentRestore[el.id]\n            delete this.streamComponentRestore[el.id]\n            morph.call(this, morphedEl, el, true)\n          }\n\n          return morphedEl\n        },\n        onNodeAdded: (el) => {\n          if(el.getAttribute){ this.maybeReOrderStream(el, true) }\n\n          // hack to fix Safari handling of img srcset and video tags\n          if(el instanceof HTMLImageElement && el.srcset){\n            el.srcset = el.srcset\n          } else if(el instanceof HTMLVideoElement && el.autoplay){\n            el.play()\n          }\n          if(DOM.isNowTriggerFormExternal(el, phxTriggerExternal)){\n            externalFormTriggered = el\n          }\n\n          // nested view handling\n          if((DOM.isPhxChild(el) && view.ownsElement(el)) || DOM.isPhxSticky(el) && view.ownsElement(el.parentNode)){\n            this.trackAfter(\"phxChildAdded\", el)\n          }\n          added.push(el)\n        },\n        onNodeDiscarded: (el) => this.onNodeDiscarded(el),\n        onBeforeNodeDiscarded: (el) => {\n          if(el.getAttribute && el.getAttribute(PHX_PRUNE) !== null){ return true }\n          if(el.parentElement !== null && el.id &&\n            DOM.isPhxUpdate(el.parentElement, phxUpdate, [PHX_STREAM, \"append\", \"prepend\"])){\n            return false\n          }\n          if(this.maybePendingRemove(el)){ return false }\n          if(this.skipCIDSibling(el)){ return false }\n\n          return true\n        },\n        onElUpdated: (el) => {\n          if(DOM.isNowTriggerFormExternal(el, phxTriggerExternal)){\n            externalFormTriggered = el\n          }\n          updates.push(el)\n          this.maybeReOrderStream(el, false)\n        },\n        onBeforeElUpdated: (fromEl, toEl) => {\n          // if we are patching the root target container and the id has changed, treat it as a new node\n          // by replacing the fromEl with the toEl, which ensures hooks are torn down and re-created\n          if(fromEl.id && fromEl.isSameNode(targetContainer) && fromEl.id !== toEl.id){\n            morphCallbacks.onNodeDiscarded(fromEl)\n            fromEl.replaceWith(toEl)\n            return morphCallbacks.onNodeAdded(toEl)\n          }\n          DOM.syncPendingAttrs(fromEl, toEl)\n          DOM.maintainPrivateHooks(fromEl, toEl, phxViewportTop, phxViewportBottom)\n          DOM.cleanChildNodes(toEl, phxUpdate)\n          if(this.skipCIDSibling(toEl)){\n            // if this is a live component used in a stream, we may need to reorder it\n            this.maybeReOrderStream(fromEl)\n            return false\n          }\n          if(DOM.isPhxSticky(fromEl)){\n            [PHX_SESSION, PHX_STATIC, PHX_ROOT_ID]\n              .map(attr => [attr, fromEl.getAttribute(attr), toEl.getAttribute(attr)])\n              .forEach(([attr, fromVal, toVal]) => {\n                if(toVal && fromVal !== toVal){ fromEl.setAttribute(attr, toVal) }\n              })\n\n            return false\n          }\n          if(DOM.isIgnored(fromEl, phxUpdate) || (fromEl.form && fromEl.form.isSameNode(externalFormTriggered))){\n            this.trackBefore(\"updated\", fromEl, toEl)\n            DOM.mergeAttrs(fromEl, toEl, {isIgnored: DOM.isIgnored(fromEl, phxUpdate)})\n            updates.push(fromEl)\n            DOM.applyStickyOperations(fromEl)\n            return false\n          }\n          if(fromEl.type === \"number\" && (fromEl.validity && fromEl.validity.badInput)){ return false }\n          // If the element has PHX_REF_SRC, it is loading or locked and awaiting an ack.\n          // If it's locked, we clone the fromEl tree and instruct morphdom to use\n          // the cloned tree as the source of the morph for this branch from here on out.\n          // We keep a reference to the cloned tree in the element's private data, and\n          // on ack (view.undoRefs), we morph the cloned tree with the true fromEl in the DOM to\n          // apply any changes that happened while the element was locked.\n          let isFocusedFormEl = focused && fromEl.isSameNode(focused) && DOM.isFormInput(fromEl)\n          let focusedSelectChanged = isFocusedFormEl && this.isChangedSelect(fromEl, toEl)\n          if(fromEl.hasAttribute(PHX_REF_SRC)){\n            if(DOM.isUploadInput(fromEl)){\n              DOM.mergeAttrs(fromEl, toEl, {isIgnored: true})\n              this.trackBefore(\"updated\", fromEl, toEl)\n              updates.push(fromEl)\n            }\n            DOM.applyStickyOperations(fromEl)\n            let isLocked = fromEl.hasAttribute(PHX_REF_LOCK)\n            let clone = isLocked ? DOM.private(fromEl, PHX_REF_LOCK) || fromEl.cloneNode(true) : null\n            if(clone){\n              DOM.putPrivate(fromEl, PHX_REF_LOCK, clone)\n              if(!isFocusedFormEl){\n                fromEl = clone\n              }\n            }\n          }\n\n          // nested view handling\n          if(DOM.isPhxChild(toEl)){\n            let prevSession = fromEl.getAttribute(PHX_SESSION)\n            DOM.mergeAttrs(fromEl, toEl, {exclude: [PHX_STATIC]})\n            if(prevSession !== \"\"){ fromEl.setAttribute(PHX_SESSION, prevSession) }\n            fromEl.setAttribute(PHX_ROOT_ID, this.rootID)\n            DOM.applyStickyOperations(fromEl)\n            return false\n          }\n\n          // input handling\n          DOM.copyPrivates(toEl, fromEl)\n\n          // skip patching focused inputs unless focus is a select that has changed options\n          if(isFocusedFormEl && fromEl.type !== \"hidden\" && !focusedSelectChanged){\n            this.trackBefore(\"updated\", fromEl, toEl)\n            DOM.mergeFocusedInput(fromEl, toEl)\n            DOM.syncAttrsToProps(fromEl)\n            updates.push(fromEl)\n            DOM.applyStickyOperations(fromEl)\n            return false\n          } else {\n            // blur focused select if it changed so native UI is updated (ie safari won't update visible options)\n            if(focusedSelectChanged){ fromEl.blur() }\n            if(DOM.isPhxUpdate(toEl, phxUpdate, [\"append\", \"prepend\"])){\n              appendPrependUpdates.push(new DOMPostMorphRestorer(fromEl, toEl, toEl.getAttribute(phxUpdate)))\n            }\n\n            DOM.syncAttrsToProps(toEl)\n            DOM.applyStickyOperations(toEl)\n            this.trackBefore(\"updated\", fromEl, toEl)\n            return fromEl\n          }\n        }\n      }\n      morphdom(targetContainer, source, morphCallbacks)\n    }\n\n    this.trackBefore(\"added\", container)\n    this.trackBefore(\"updated\", container, container)\n\n    liveSocket.time(\"morphdom\", () => {\n      this.streams.forEach(([ref, inserts, deleteIds, reset]) => {\n        inserts.forEach(([key, streamAt, limit]) => {\n          this.streamInserts[key] = {ref, streamAt, limit, reset}\n        })\n        if(reset !== undefined){\n          DOM.all(container, `[${PHX_STREAM_REF}=\"${ref}\"]`, child => {\n            this.removeStreamChildElement(child)\n          })\n        }\n        deleteIds.forEach(id => {\n          let child = container.querySelector(`[id=\"${id}\"]`)\n          if(child){ this.removeStreamChildElement(child) }\n        })\n      })\n\n      // clear stream items from the dead render if they are not inserted again\n      if(isJoinPatch){\n        DOM.all(this.container, `[${phxUpdate}=${PHX_STREAM}]`, el => {\n          // make sure to only remove elements owned by the current view\n          // see https://github.com/phoenixframework/phoenix_live_view/issues/3047\n          this.liveSocket.owner(el, (view) => {\n            if(view === this.view){\n              Array.from(el.children).forEach(child => {\n                this.removeStreamChildElement(child)\n              })\n            }\n          })\n        })\n      }\n\n      morph.call(this, targetContainer, html)\n    })\n\n    if(liveSocket.isDebugEnabled()){\n      detectDuplicateIds()\n      // warn if there are any inputs named \"id\"\n      Array.from(document.querySelectorAll(\"input[name=id]\")).forEach(node => {\n        if(node.form){\n          console.error(\"Detected an input with name=\\\"id\\\" inside a form! This will cause problems when patching the DOM.\\n\", node)\n        }\n      })\n    }\n\n    if(appendPrependUpdates.length > 0){\n      liveSocket.time(\"post-morph append/prepend restoration\", () => {\n        appendPrependUpdates.forEach(update => update.perform())\n      })\n    }\n\n    liveSocket.silenceEvents(() => DOM.restoreFocus(focused, selectionStart, selectionEnd))\n    DOM.dispatchEvent(document, \"phx:update\")\n    added.forEach(el => this.trackAfter(\"added\", el))\n    updates.forEach(el => this.trackAfter(\"updated\", el))\n\n    this.transitionPendingRemoves()\n\n    if(externalFormTriggered){\n      liveSocket.unload()\n      // use prototype's submit in case there's a form control with name or id of \"submit\"\n      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit\n      Object.getPrototypeOf(externalFormTriggered).submit.call(externalFormTriggered)\n    }\n    return true\n  }\n\n  onNodeDiscarded(el){\n    // nested view handling\n    if(DOM.isPhxChild(el) || DOM.isPhxSticky(el)){ this.liveSocket.destroyViewByEl(el) }\n    this.trackAfter(\"discarded\", el)\n  }\n\n  maybePendingRemove(node){\n    if(node.getAttribute && node.getAttribute(this.phxRemove) !== null){\n      this.pendingRemoves.push(node)\n      return true\n    } else {\n      return false\n    }\n  }\n\n  removeStreamChildElement(child){\n    // we need to store the node if it is actually re-added in the same patch\n    // we do NOT want to execute phx-remove, we do NOT want to call onNodeDiscarded\n    if(this.streamInserts[child.id]){\n      this.streamComponentRestore[child.id] = child\n      child.remove()\n    } else {\n      // only remove the element now if it has no phx-remove binding\n      if(!this.maybePendingRemove(child)){\n        child.remove()\n        this.onNodeDiscarded(child)\n      }\n    }\n  }\n\n  getStreamInsert(el){\n    let insert = el.id ? this.streamInserts[el.id] : {}\n    return insert || {}\n  }\n\n  setStreamRef(el, ref){\n    DOM.putSticky(el, PHX_STREAM_REF, el => el.setAttribute(PHX_STREAM_REF, ref))\n  }\n\n  maybeReOrderStream(el, isNew){\n    let {ref, streamAt, reset} = this.getStreamInsert(el)\n    if(streamAt === undefined){ return }\n\n    // we need to set the PHX_STREAM_REF here as well as addChild is invoked only for parents\n    this.setStreamRef(el, ref)\n\n    if(!reset && !isNew){\n      // we only reorder if the element is new or it's a stream reset\n      return\n    }\n\n    // check if the element has a parent element;\n    // it doesn't if we are currently recursively morphing (restoring a saved stream child)\n    // because the element is not yet added to the real dom;\n    // reordering does not make sense in that case anyway\n    if(!el.parentElement){ return }\n\n    if(streamAt === 0){\n      el.parentElement.insertBefore(el, el.parentElement.firstElementChild)\n    } else if(streamAt > 0){\n      let children = Array.from(el.parentElement.children)\n      let oldIndex = children.indexOf(el)\n      if(streamAt >= children.length - 1){\n        el.parentElement.appendChild(el)\n      } else {\n        let sibling = children[streamAt]\n        if(oldIndex > streamAt){\n          el.parentElement.insertBefore(el, sibling)\n        } else {\n          el.parentElement.insertBefore(el, sibling.nextElementSibling)\n        }\n      }\n    }\n\n    this.maybeLimitStream(el)\n  }\n\n  maybeLimitStream(el){\n    let {limit} = this.getStreamInsert(el)\n    let children = limit !== null && Array.from(el.parentElement.children)\n    if(limit && limit < 0 && children.length > limit * -1){\n      children.slice(0, children.length + limit).forEach(child => this.removeStreamChildElement(child))\n    } else if(limit && limit >= 0 && children.length > limit){\n      children.slice(limit).forEach(child => this.removeStreamChildElement(child))\n    }\n  }\n\n  transitionPendingRemoves(){\n    let {pendingRemoves, liveSocket} = this\n    if(pendingRemoves.length > 0){\n      liveSocket.transitionRemoves(pendingRemoves, false, () => {\n        pendingRemoves.forEach(el => {\n          let child = DOM.firstPhxChild(el)\n          if(child){ liveSocket.destroyViewByEl(child) }\n          el.remove()\n        })\n        this.trackAfter(\"transitionsDiscarded\", pendingRemoves)\n      })\n    }\n  }\n\n  isChangedSelect(fromEl, toEl){\n    if(!(fromEl instanceof HTMLSelectElement) || fromEl.multiple){ return false }\n    if(fromEl.options.length !== toEl.options.length){ return true }\n\n    // keep the current value\n    toEl.value = fromEl.value\n\n    // in general we have to be very careful with using isEqualNode as it does not a reliable\n    // DOM tree equality check, but for selection attributes and options it works fine\n    return !fromEl.isEqualNode(toEl)\n  }\n\n  isCIDPatch(){ return this.cidPatch }\n\n  skipCIDSibling(el){\n    return el.nodeType === Node.ELEMENT_NODE && el.hasAttribute(PHX_SKIP)\n  }\n\n  targetCIDContainer(html){\n    if(!this.isCIDPatch()){ return }\n    let [first, ...rest] = DOM.findComponentNodeList(this.container, this.targetCID)\n    if(rest.length === 0 && DOM.childNodeLength(html) === 1){\n      return first\n    } else {\n      return first && first.parentNode\n    }\n  }\n\n  indexOf(parent, child){ return Array.from(parent.children).indexOf(child) }\n}\n", "import {\n  COMPONENTS,\n  DYNAMICS,\n  TEMPLATES,\n  EVENTS,\n  PHX_COMPONENT,\n  PHX_SKIP,\n  PHX_MAGIC_ID,\n  REPLY,\n  STATIC,\n  TITLE,\n  STREAM,\n  ROOT,\n} from \"./constants\"\n\nimport {\n  isObject,\n  logError,\n  isCid,\n} from \"./utils\"\n\nconst VOID_TAGS = new Set([\n  \"area\",\n  \"base\",\n  \"br\",\n  \"col\",\n  \"command\",\n  \"embed\",\n  \"hr\",\n  \"img\",\n  \"input\",\n  \"keygen\",\n  \"link\",\n  \"meta\",\n  \"param\",\n  \"source\",\n  \"track\",\n  \"wbr\"\n])\nconst quoteChars = new Set([\"'\", \"\\\"\"])\n\nexport let modifyRoot = (html, attrs, clearInnerHTML) => {\n  let i = 0\n  let insideComment = false\n  let beforeTag, afterTag, tag, tagNameEndsAt, id, newHTML\n\n  let lookahead = html.match(/^(\\s*(?:<!--.*?-->\\s*)*)<([^\\s\\/>]+)/)\n  if(lookahead === null){ throw new Error(`malformed html ${html}`) }\n\n  i = lookahead[0].length\n  beforeTag = lookahead[1]\n  tag = lookahead[2]\n  tagNameEndsAt = i\n\n  // Scan the opening tag for id, if there is any\n  for(i; i < html.length; i++){\n    if(html.charAt(i) === \">\" ){ break }\n    if(html.charAt(i) === \"=\"){\n      let isId = html.slice(i - 3, i) === \" id\"\n      i++\n      let char = html.charAt(i)\n      if(quoteChars.has(char)){\n        let attrStartsAt = i\n        i++\n        for(i; i < html.length; i++){\n          if(html.charAt(i) === char){ break }\n        }\n        if(isId){\n          id = html.slice(attrStartsAt + 1, i)\n          break\n        }\n      }\n    }\n  }\n\n  let closeAt = html.length - 1\n  insideComment = false\n  while(closeAt >= beforeTag.length + tag.length){\n    let char = html.charAt(closeAt)\n    if(insideComment){\n      if(char === \"-\" && html.slice(closeAt - 3, closeAt) === \"<!-\"){\n        insideComment = false\n        closeAt -= 4\n      } else {\n        closeAt -= 1\n      }\n    } else if(char === \">\" && html.slice(closeAt - 2, closeAt) === \"--\"){\n      insideComment = true\n      closeAt -= 3\n    } else if(char === \">\"){\n      break\n    } else {\n      closeAt -= 1\n    }\n  }\n  afterTag = html.slice(closeAt + 1, html.length)\n\n  let attrsStr =\n    Object.keys(attrs)\n      .map(attr => attrs[attr] === true ? attr : `${attr}=\"${attrs[attr]}\"`)\n      .join(\" \")\n\n  if(clearInnerHTML){\n    // Keep the id if any\n    let idAttrStr = id ? ` id=\"${id}\"` : \"\"\n    if(VOID_TAGS.has(tag)){\n      newHTML = `<${tag}${idAttrStr}${attrsStr === \"\" ? \"\" : \" \"}${attrsStr}/>`\n    } else {\n      newHTML = `<${tag}${idAttrStr}${attrsStr === \"\" ? \"\" : \" \"}${attrsStr}></${tag}>`\n    }\n  } else {\n    let rest = html.slice(tagNameEndsAt, closeAt + 1)\n    newHTML = `<${tag}${attrsStr === \"\" ? \"\" : \" \"}${attrsStr}${rest}`\n  }\n\n  return [newHTML, beforeTag, afterTag]\n}\n\nexport default class Rendered {\n  static extract(diff){\n    let {[REPLY]: reply, [EVENTS]: events, [TITLE]: title} = diff\n    delete diff[REPLY]\n    delete diff[EVENTS]\n    delete diff[TITLE]\n    return {diff, title, reply: reply || null, events: events || []}\n  }\n\n  constructor(viewId, rendered){\n    this.viewId = viewId\n    this.rendered = {}\n    this.magicId = 0\n    this.mergeDiff(rendered)\n  }\n\n  parentViewId(){ return this.viewId }\n\n  toString(onlyCids){\n    let [str, streams] = this.recursiveToString(this.rendered, this.rendered[COMPONENTS], onlyCids, true, {})\n    return [str, streams]\n  }\n\n  recursiveToString(rendered, components = rendered[COMPONENTS], onlyCids, changeTracking, rootAttrs){\n    onlyCids = onlyCids ? new Set(onlyCids) : null\n    let output = {buffer: \"\", components: components, onlyCids: onlyCids, streams: new Set()}\n    this.toOutputBuffer(rendered, null, output, changeTracking, rootAttrs)\n    return [output.buffer, output.streams]\n  }\n\n  componentCIDs(diff){ return Object.keys(diff[COMPONENTS] || {}).map(i => parseInt(i)) }\n\n  isComponentOnlyDiff(diff){\n    if(!diff[COMPONENTS]){ return false }\n    return Object.keys(diff).length === 1\n  }\n\n  getComponent(diff, cid){ return diff[COMPONENTS][cid] }\n\n  resetRender(cid){\n    // we are racing a component destroy, it could not exist, so\n    // make sure that we don't try to set reset on undefined\n    if(this.rendered[COMPONENTS][cid]){\n      this.rendered[COMPONENTS][cid].reset = true\n    }\n  }\n\n  mergeDiff(diff){\n    let newc = diff[COMPONENTS]\n    let cache = {}\n    delete diff[COMPONENTS]\n    this.rendered = this.mutableMerge(this.rendered, diff)\n    this.rendered[COMPONENTS] = this.rendered[COMPONENTS] || {}\n\n    if(newc){\n      let oldc = this.rendered[COMPONENTS]\n\n      for(let cid in newc){\n        newc[cid] = this.cachedFindComponent(cid, newc[cid], oldc, newc, cache)\n      }\n\n      for(let cid in newc){ oldc[cid] = newc[cid] }\n      diff[COMPONENTS] = newc\n    }\n  }\n\n  cachedFindComponent(cid, cdiff, oldc, newc, cache){\n    if(cache[cid]){\n      return cache[cid]\n    } else {\n      let ndiff, stat, scid = cdiff[STATIC]\n\n      if(isCid(scid)){\n        let tdiff\n\n        if(scid > 0){\n          tdiff = this.cachedFindComponent(scid, newc[scid], oldc, newc, cache)\n        } else {\n          tdiff = oldc[-scid]\n        }\n\n        stat = tdiff[STATIC]\n        ndiff = this.cloneMerge(tdiff, cdiff, true)\n        ndiff[STATIC] = stat\n      } else {\n        ndiff = cdiff[STATIC] !== undefined || oldc[cid] === undefined ?\n          cdiff : this.cloneMerge(oldc[cid], cdiff, false)\n      }\n\n      cache[cid] = ndiff\n      return ndiff\n    }\n  }\n\n  mutableMerge(target, source){\n    if(source[STATIC] !== undefined){\n      return source\n    } else {\n      this.doMutableMerge(target, source)\n      return target\n    }\n  }\n\n  doMutableMerge(target, source){\n    for(let key in source){\n      let val = source[key]\n      let targetVal = target[key]\n      let isObjVal = isObject(val)\n      if(isObjVal && val[STATIC] === undefined && isObject(targetVal)){\n        this.doMutableMerge(targetVal, val)\n      } else {\n        target[key] = val\n      }\n    }\n    if(target[ROOT]){\n      target.newRender = true\n    }\n  }\n\n  // Merges cid trees together, copying statics from source tree.\n  //\n  // The `pruneMagicId` is passed to control pruning the magicId of the\n  // target. We must always prune the magicId when we are sharing statics\n  // from another component. If not pruning, we replicate the logic from\n  // mutableMerge, where we set newRender to true if there is a root\n  // (effectively forcing the new version to be rendered instead of skipped)\n  //\n  cloneMerge(target, source, pruneMagicId){\n    let merged = {...target, ...source}\n    for(let key in merged){\n      let val = source[key]\n      let targetVal = target[key]\n      if(isObject(val) && val[STATIC] === undefined && isObject(targetVal)){\n        merged[key] = this.cloneMerge(targetVal, val, pruneMagicId)\n      } else if(val === undefined && isObject(targetVal)){\n        merged[key] = this.cloneMerge(targetVal, {}, pruneMagicId)\n      }\n    }\n    if(pruneMagicId){\n      delete merged.magicId\n      delete merged.newRender\n    } else if(target[ROOT]){\n      merged.newRender = true\n    }\n    return merged\n  }\n\n  componentToString(cid){\n    let [str, streams] = this.recursiveCIDToString(this.rendered[COMPONENTS], cid, null)\n    let [strippedHTML, _before, _after] = modifyRoot(str, {})\n    return [strippedHTML, streams]\n  }\n\n  pruneCIDs(cids){\n    cids.forEach(cid => delete this.rendered[COMPONENTS][cid])\n  }\n\n  // private\n\n  get(){ return this.rendered }\n\n  isNewFingerprint(diff = {}){ return !!diff[STATIC] }\n\n  templateStatic(part, templates){\n    if(typeof (part) === \"number\"){\n      return templates[part]\n    } else {\n      return part\n    }\n  }\n\n  nextMagicID(){\n    this.magicId++\n    return `m${this.magicId}-${this.parentViewId()}`\n  }\n\n  // Converts rendered tree to output buffer.\n  //\n  // changeTracking controls if we can apply the PHX_SKIP optimization.\n  // It is disabled for comprehensions since we must re-render the entire collection\n  // and no individual element is tracked inside the comprehension.\n  toOutputBuffer(rendered, templates, output, changeTracking, rootAttrs = {}){\n    if(rendered[DYNAMICS]){ return this.comprehensionToBuffer(rendered, templates, output) }\n    let {[STATIC]: statics} = rendered\n    statics = this.templateStatic(statics, templates)\n    let isRoot = rendered[ROOT]\n    let prevBuffer = output.buffer\n    if(isRoot){ output.buffer = \"\" }\n\n    // this condition is called when first rendering an optimizable function component.\n    // LC have their magicId previously set\n    if(changeTracking && isRoot && !rendered.magicId){\n      rendered.newRender = true\n      rendered.magicId = this.nextMagicID()\n    }\n\n    output.buffer += statics[0]\n    for(let i = 1; i < statics.length; i++){\n      this.dynamicToBuffer(rendered[i - 1], templates, output, changeTracking)\n      output.buffer += statics[i]\n    }\n\n    // Applies the root tag \"skip\" optimization if supported, which clears\n    // the root tag attributes and innerHTML, and only maintains the magicId.\n    // We can only skip when changeTracking is supported (outside of a comprehension),\n    // and when the root element hasn't experienced an unrendered merge (newRender true).\n    if(isRoot){\n      let skip = false\n      let attrs\n      // When a LC is re-added to the page, we need to re-render the entire LC tree,\n      // therefore changeTracking is false; however, we need to keep all the magicIds\n      // from any function component so the next time the LC is updated, we can apply\n      // the skip optimization\n      if(changeTracking || rendered.magicId){\n        skip = changeTracking && !rendered.newRender\n        attrs = {[PHX_MAGIC_ID]: rendered.magicId, ...rootAttrs}\n      } else {\n        attrs = rootAttrs\n      }\n      if(skip){ attrs[PHX_SKIP] = true }\n      let [newRoot, commentBefore, commentAfter] = modifyRoot(output.buffer, attrs, skip)\n      rendered.newRender = false\n      output.buffer = prevBuffer + commentBefore + newRoot + commentAfter\n    }\n  }\n\n  comprehensionToBuffer(rendered, templates, output){\n    let {[DYNAMICS]: dynamics, [STATIC]: statics, [STREAM]: stream} = rendered\n    let [_ref, _inserts, deleteIds, reset] = stream || [null, {}, [], null]\n    statics = this.templateStatic(statics, templates)\n    let compTemplates = templates || rendered[TEMPLATES]\n    for(let d = 0; d < dynamics.length; d++){\n      let dynamic = dynamics[d]\n      output.buffer += statics[0]\n      for(let i = 1; i < statics.length; i++){\n        // Inside a comprehension, we don't track how dynamics change\n        // over time (and features like streams would make that impossible\n        // unless we move the stream diffing away from morphdom),\n        // so we can't perform root change tracking.\n        let changeTracking = false\n        this.dynamicToBuffer(dynamic[i - 1], compTemplates, output, changeTracking)\n        output.buffer += statics[i]\n      }\n    }\n\n    if(stream !== undefined && (rendered[DYNAMICS].length > 0 || deleteIds.length > 0 || reset)){\n      delete rendered[STREAM]\n      rendered[DYNAMICS] = []\n      output.streams.add(stream)\n    }\n  }\n\n  dynamicToBuffer(rendered, templates, output, changeTracking){\n    if(typeof (rendered) === \"number\"){\n      let [str, streams] = this.recursiveCIDToString(output.components, rendered, output.onlyCids)\n      output.buffer += str\n      output.streams = new Set([...output.streams, ...streams])\n    } else if(isObject(rendered)){\n      this.toOutputBuffer(rendered, templates, output, changeTracking, {})\n    } else {\n      output.buffer += rendered\n    }\n  }\n\n  recursiveCIDToString(components, cid, onlyCids){\n    let component = components[cid] || logError(`no component for CID ${cid}`, components)\n    let attrs = {[PHX_COMPONENT]: cid}\n    let skip = onlyCids && !onlyCids.has(cid)\n    // Two optimization paths apply here:\n    //\n    //   1. The onlyCids optimization works by the server diff telling us only specific\n    //     cid's have changed. This allows us to skip rendering any component that hasn't changed,\n    //     which ultimately sets PHX_SKIP root attribute and avoids rendering the innerHTML.\n    //\n    //   2. The root PHX_SKIP optimization generalizes to all HEEx function components, and\n    //     works in the same PHX_SKIP attribute fashion as 1, but the newRender tracking is done\n    //     at the general diff merge level. If we merge a diff with new dynamics, we necessarily have\n    //     experienced a change which must be a newRender, and thus we can't skip the render.\n    //\n    // Both optimization flows apply here. newRender is set based on the onlyCids optimization, and\n    // we track a deterministic magicId based on the cid.\n    //\n    // changeTracking is about the entire tree\n    // newRender is about the current root in the tree\n    //\n    // By default changeTracking is enabled, but we special case the flow where the client is pruning\n    // cids and the server adds the component back. In such cases, we explicitly disable changeTracking\n    // with resetRender for this cid, then re-enable it after the recursive call to skip the optimization\n    // for the entire component tree.\n    component.newRender = !skip\n    component.magicId = `c${cid}-${this.parentViewId()}`\n    // enable change tracking as long as the component hasn't been reset\n    let changeTracking = !component.reset\n    let [html, streams] = this.recursiveToString(component, components, onlyCids, changeTracking, attrs)\n    // disable reset after we've rendered\n    delete component.reset\n\n    return [html, streams]\n  }\n}\n", "import DOM from \"./dom\"\nimport ARIA from \"./aria\"\n\nlet focusStack = []\nlet default_transition_time = 200\n\nlet JS = {\n  // private\n  exec(e, eventType, phxEvent, view, sourceEl, defaults){\n    let [defaultKind, defaultArgs] = defaults || [null, {callback: defaults && defaults.callback}]\n    let commands = phxEvent.charAt(0) === \"[\" ?\n      JSON.parse(phxEvent) : [[defaultKind, defaultArgs]]\n\n    commands.forEach(([kind, args]) => {\n      if(kind === defaultKind){\n        // always prefer the args, but keep existing keys from the defaultArgs\n        args = {...defaultArgs, ...args}\n        args.callback = args.callback || defaultArgs.callback\n      }\n      this.filterToEls(view.liveSocket, sourceEl, args).forEach(el => {\n        this[`exec_${kind}`](e, eventType, phxEvent, view, sourceEl, el, args)\n      })\n    })\n  },\n\n  isVisible(el){\n    return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length > 0)\n  },\n\n  // returns true if any part of the element is inside the viewport\n  isInViewport(el){\n    const rect = el.getBoundingClientRect()\n    const windowHeight = window.innerHeight || document.documentElement.clientHeight\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth\n\n    return (\n      rect.right > 0 &&\n      rect.bottom > 0 &&\n      rect.left < windowWidth &&\n      rect.top < windowHeight\n    )\n  },\n\n  // private\n\n  // commands\n\n  exec_exec(e, eventType, phxEvent, view, sourceEl, el, {attr, to}){\n    let nodes = to ? DOM.all(document, to) : [sourceEl]\n    nodes.forEach(node => {\n      let encodedJS = node.getAttribute(attr)\n      if(!encodedJS){ throw new Error(`expected ${attr} to contain JS command on \"${to}\"`) }\n      view.liveSocket.execJS(node, encodedJS, eventType)\n    })\n  },\n\n  exec_dispatch(e, eventType, phxEvent, view, sourceEl, el, {event, detail, bubbles}){\n    detail = detail || {}\n    detail.dispatcher = sourceEl\n    DOM.dispatchEvent(el, event, {detail, bubbles})\n  },\n\n  exec_push(e, eventType, phxEvent, view, sourceEl, el, args){\n    let {event, data, target, page_loading, loading, value, dispatcher, callback} = args\n    let pushOpts = {loading, value, target, page_loading: !!page_loading}\n    let targetSrc = eventType === \"change\" && dispatcher ? dispatcher : sourceEl\n    let phxTarget = target || targetSrc.getAttribute(view.binding(\"target\")) || targetSrc\n    const handler = (targetView, targetCtx) => {\n      if(!targetView.isConnected()){ return }\n      if(eventType === \"change\"){\n        let {newCid, _target} = args\n        _target = _target || (DOM.isFormInput(sourceEl) ? sourceEl.name : undefined)\n        if(_target){ pushOpts._target = _target }\n        targetView.pushInput(sourceEl, targetCtx, newCid, event || phxEvent, pushOpts, callback)\n      } else if(eventType === \"submit\"){\n        let {submitter} = args\n        targetView.submitForm(sourceEl, targetCtx, event || phxEvent, submitter, pushOpts, callback)\n      } else {\n        targetView.pushEvent(eventType, sourceEl, targetCtx, event || phxEvent, data, pushOpts, callback)\n      }\n    }\n    // in case of formRecovery, targetView and targetCtx are passed as argument\n    // as they are looked up in a template element, not the real DOM\n    if(args.targetView && args.targetCtx){\n      handler(args.targetView, args.targetCtx)\n    } else {\n      view.withinTargets(phxTarget, handler)\n    }\n  },\n\n  exec_navigate(e, eventType, phxEvent, view, sourceEl, el, {href, replace}){\n    view.liveSocket.historyRedirect(e, href, replace ? \"replace\" : \"push\", null, sourceEl)\n  },\n\n  exec_patch(e, eventType, phxEvent, view, sourceEl, el, {href, replace}){\n    view.liveSocket.pushHistoryPatch(e, href, replace ? \"replace\" : \"push\", sourceEl)\n  },\n\n  exec_focus(e, eventType, phxEvent, view, sourceEl, el){\n    window.requestAnimationFrame(() => ARIA.attemptFocus(el))\n  },\n\n  exec_focus_first(e, eventType, phxEvent, view, sourceEl, el){\n    window.requestAnimationFrame(() => ARIA.focusFirstInteractive(el) || ARIA.focusFirst(el))\n  },\n\n  exec_push_focus(e, eventType, phxEvent, view, sourceEl, el){\n    window.requestAnimationFrame(() => focusStack.push(el || sourceEl))\n  },\n\n  exec_pop_focus(_e, _eventType, _phxEvent, _view, _sourceEl, _el){\n    window.requestAnimationFrame(() => {\n      const el = focusStack.pop()\n      if(el){ el.focus() }\n    })\n  },\n\n  exec_add_class(e, eventType, phxEvent, view, sourceEl, el, {names, transition, time, blocking}){\n    this.addOrRemoveClasses(el, names, [], transition, time, view, blocking)\n  },\n\n  exec_remove_class(e, eventType, phxEvent, view, sourceEl, el, {names, transition, time, blocking}){\n    this.addOrRemoveClasses(el, [], names, transition, time, view, blocking)\n  },\n\n  exec_toggle_class(e, eventType, phxEvent, view, sourceEl, el, {names, transition, time, blocking}){\n    this.toggleClasses(el, names, transition, time, view, blocking)\n  },\n\n  exec_toggle_attr(e, eventType, phxEvent, view, sourceEl, el, {attr: [attr, val1, val2]}){\n    this.toggleAttr(el, attr, val1, val2)\n  },\n\n  exec_transition(e, eventType, phxEvent, view, sourceEl, el, {time, transition, blocking}){\n    this.addOrRemoveClasses(el, [], [], transition, time, view, blocking)\n  },\n\n  exec_toggle(e, eventType, phxEvent, view, sourceEl, el, {display, ins, outs, time, blocking}){\n    this.toggle(eventType, view, el, display, ins, outs, time, blocking)\n  },\n\n  exec_show(e, eventType, phxEvent, view, sourceEl, el, {display, transition, time, blocking}){\n    this.show(eventType, view, el, display, transition, time, blocking)\n  },\n\n  exec_hide(e, eventType, phxEvent, view, sourceEl, el, {display, transition, time, blocking}){\n    this.hide(eventType, view, el, display, transition, time, blocking)\n  },\n\n  exec_set_attr(e, eventType, phxEvent, view, sourceEl, el, {attr: [attr, val]}){\n    this.setOrRemoveAttrs(el, [[attr, val]], [])\n  },\n\n  exec_remove_attr(e, eventType, phxEvent, view, sourceEl, el, {attr}){\n    this.setOrRemoveAttrs(el, [], [attr])\n  },\n\n  // utils for commands\n\n  show(eventType, view, el, display, transition, time, blocking){\n    if(!this.isVisible(el)){\n      this.toggle(eventType, view, el, display, transition, null, time, blocking)\n    }\n  },\n\n  hide(eventType, view, el, display, transition, time, blocking){\n    if(this.isVisible(el)){\n      this.toggle(eventType, view, el, display, null, transition, time, blocking)\n    }\n  },\n\n  toggle(eventType, view, el, display, ins, outs, time, blocking){\n    time = time || default_transition_time\n    let [inClasses, inStartClasses, inEndClasses] = ins || [[], [], []]\n    let [outClasses, outStartClasses, outEndClasses] = outs || [[], [], []]\n    if(inClasses.length > 0 || outClasses.length > 0){\n      if(this.isVisible(el)){\n        let onStart = () => {\n          this.addOrRemoveClasses(el, outStartClasses, inClasses.concat(inStartClasses).concat(inEndClasses))\n          window.requestAnimationFrame(() => {\n            this.addOrRemoveClasses(el, outClasses, [])\n            window.requestAnimationFrame(() => this.addOrRemoveClasses(el, outEndClasses, outStartClasses))\n          })\n        }\n        let onEnd = () => {\n          this.addOrRemoveClasses(el, [], outClasses.concat(outEndClasses))\n          DOM.putSticky(el, \"toggle\", currentEl => currentEl.style.display = \"none\")\n          el.dispatchEvent(new Event(\"phx:hide-end\"))\n        }\n        el.dispatchEvent(new Event(\"phx:hide-start\"))\n        if(blocking === false){\n          onStart()\n          setTimeout(onEnd, time)\n        } else {\n          view.transition(time, onStart, onEnd)\n        }\n      } else {\n        if(eventType === \"remove\"){ return }\n        let onStart = () => {\n          this.addOrRemoveClasses(el, inStartClasses, outClasses.concat(outStartClasses).concat(outEndClasses))\n          let stickyDisplay = display || this.defaultDisplay(el)\n          DOM.putSticky(el, \"toggle\", currentEl => currentEl.style.display = stickyDisplay)\n          window.requestAnimationFrame(() => {\n            this.addOrRemoveClasses(el, inClasses, [])\n            window.requestAnimationFrame(() => this.addOrRemoveClasses(el, inEndClasses, inStartClasses))\n          })\n        }\n        let onEnd = () => {\n          this.addOrRemoveClasses(el, [], inClasses.concat(inEndClasses))\n          el.dispatchEvent(new Event(\"phx:show-end\"))\n        }\n        el.dispatchEvent(new Event(\"phx:show-start\"))\n        if(blocking === false){\n          onStart()\n          setTimeout(onEnd, time)\n        } else {\n          view.transition(time, onStart, onEnd)\n        }\n      }\n    } else {\n      if(this.isVisible(el)){\n        window.requestAnimationFrame(() => {\n          el.dispatchEvent(new Event(\"phx:hide-start\"))\n          DOM.putSticky(el, \"toggle\", currentEl => currentEl.style.display = \"none\")\n          el.dispatchEvent(new Event(\"phx:hide-end\"))\n        })\n      } else {\n        window.requestAnimationFrame(() => {\n          el.dispatchEvent(new Event(\"phx:show-start\"))\n          let stickyDisplay = display || this.defaultDisplay(el)\n          DOM.putSticky(el, \"toggle\", currentEl => currentEl.style.display = stickyDisplay)\n          el.dispatchEvent(new Event(\"phx:show-end\"))\n        })\n      }\n    }\n  },\n\n  toggleClasses(el, classes, transition, time, view, blocking){\n    window.requestAnimationFrame(() => {\n      let [prevAdds, prevRemoves] = DOM.getSticky(el, \"classes\", [[], []])\n      let newAdds = classes.filter(name => prevAdds.indexOf(name) < 0 && !el.classList.contains(name))\n      let newRemoves = classes.filter(name => prevRemoves.indexOf(name) < 0 && el.classList.contains(name))\n      this.addOrRemoveClasses(el, newAdds, newRemoves, transition, time, view, blocking)\n    })\n  },\n\n  toggleAttr(el, attr, val1, val2){\n    if(el.hasAttribute(attr)){\n      if(val2 !== undefined){\n        // toggle between val1 and val2\n        if(el.getAttribute(attr) === val1){\n          this.setOrRemoveAttrs(el, [[attr, val2]], [])\n        } else {\n          this.setOrRemoveAttrs(el, [[attr, val1]], [])\n        }\n      } else {\n        // remove attr\n        this.setOrRemoveAttrs(el, [], [attr])\n      }\n    } else {\n      this.setOrRemoveAttrs(el, [[attr, val1]], [])\n    }\n  },\n\n  addOrRemoveClasses(el, adds, removes, transition, time, view, blocking){\n    time = time || default_transition_time\n    let [transitionRun, transitionStart, transitionEnd] = transition || [[], [], []]\n    if(transitionRun.length > 0){\n      let onStart = () => {\n        this.addOrRemoveClasses(el, transitionStart, [].concat(transitionRun).concat(transitionEnd))\n        window.requestAnimationFrame(() => {\n          this.addOrRemoveClasses(el, transitionRun, [])\n          window.requestAnimationFrame(() => this.addOrRemoveClasses(el, transitionEnd, transitionStart))\n        })\n      }\n      let onDone = () => this.addOrRemoveClasses(el, adds.concat(transitionEnd), removes.concat(transitionRun).concat(transitionStart))\n      if(blocking === false){\n        onStart()\n        setTimeout(onDone, time)\n      } else {\n        view.transition(time, onStart, onDone)\n      }\n      return\n    }\n\n    window.requestAnimationFrame(() => {\n      let [prevAdds, prevRemoves] = DOM.getSticky(el, \"classes\", [[], []])\n      let keepAdds = adds.filter(name => prevAdds.indexOf(name) < 0 && !el.classList.contains(name))\n      let keepRemoves = removes.filter(name => prevRemoves.indexOf(name) < 0 && el.classList.contains(name))\n      let newAdds = prevAdds.filter(name => removes.indexOf(name) < 0).concat(keepAdds)\n      let newRemoves = prevRemoves.filter(name => adds.indexOf(name) < 0).concat(keepRemoves)\n\n      DOM.putSticky(el, \"classes\", currentEl => {\n        currentEl.classList.remove(...newRemoves)\n        currentEl.classList.add(...newAdds)\n        return [newAdds, newRemoves]\n      })\n    })\n  },\n\n  setOrRemoveAttrs(el, sets, removes){\n    let [prevSets, prevRemoves] = DOM.getSticky(el, \"attrs\", [[], []])\n\n    let alteredAttrs = sets.map(([attr, _val]) => attr).concat(removes)\n    let newSets = prevSets.filter(([attr, _val]) => !alteredAttrs.includes(attr)).concat(sets)\n    let newRemoves = prevRemoves.filter((attr) => !alteredAttrs.includes(attr)).concat(removes)\n\n    DOM.putSticky(el, \"attrs\", currentEl => {\n      newRemoves.forEach(attr => currentEl.removeAttribute(attr))\n      newSets.forEach(([attr, val]) => currentEl.setAttribute(attr, val))\n      return [newSets, newRemoves]\n    })\n  },\n\n  hasAllClasses(el, classes){ return classes.every(name => el.classList.contains(name)) },\n\n  isToggledOut(el, outClasses){\n    return !this.isVisible(el) || this.hasAllClasses(el, outClasses)\n  },\n\n  filterToEls(liveSocket, sourceEl, {to}){\n    let defaultQuery = () => {\n      if(typeof(to) === \"string\"){\n        return document.querySelectorAll(to)\n      } else if(to.closest){\n        let toEl = sourceEl.closest(to.closest)\n        return toEl ? [toEl] : []\n      } else if(to.inner){\n        return sourceEl.querySelectorAll(to.inner)\n      }\n    }\n    return to ? liveSocket.jsQuerySelectorAll(sourceEl, to, defaultQuery) : [sourceEl]\n  },\n\n  defaultDisplay(el){\n    return {tr: \"table-row\", td: \"table-cell\"}[el.tagName.toLowerCase()] || \"block\"\n  },\n\n  transitionClasses(val){\n    if(!val){ return null }\n\n    let [trans, tStart, tEnd] = Array.isArray(val) ? val : [val.split(\" \"), [], []]\n    trans = Array.isArray(trans) ? trans : trans.split(\" \")\n    tStart = Array.isArray(tStart) ? tStart : tStart.split(\" \")\n    tEnd = Array.isArray(tEnd) ? tEnd : tEnd.split(\" \")\n    return [trans, tStart, tEnd]\n  }\n}\n\nexport default JS\n", "import JS from \"./js\"\nimport DOM from \"./dom\"\n\nconst HOOK_ID = \"hookId\"\n\nlet viewHookID = 1\nexport default class ViewHook {\n  static makeID(){ return viewHookID++ }\n  static elementID(el){ return DOM.private(el, HOOK_ID) }\n\n  constructor(view, el, callbacks){\n    this.el = el\n    this.__attachView(view)\n    this.__callbacks = callbacks\n    this.__listeners = new Set()\n    this.__isDisconnected = false\n    DOM.putPrivate(this.el, HOOK_ID, this.constructor.makeID())\n    for(let key in this.__callbacks){ this[key] = this.__callbacks[key] }\n  }\n\n  __attachView(view){\n    if(view){\n      this.__view = () => view\n      this.liveSocket = view.liveSocket\n    } else {\n      this.__view = () => {\n        throw new Error(`hook not yet attached to a live view: ${this.el.outerHTML}`)\n      }\n      this.liveSocket = null\n    }\n  }\n\n  __mounted(){ this.mounted && this.mounted() }\n  __updated(){ this.updated && this.updated() }\n  __beforeUpdate(){ this.beforeUpdate && this.beforeUpdate() }\n  __destroyed(){\n    this.destroyed && this.destroyed()\n    DOM.deletePrivate(this.el, HOOK_ID) // https://github.com/phoenixframework/phoenix_live_view/issues/3496\n  }\n  __reconnected(){\n    if(this.__isDisconnected){\n      this.__isDisconnected = false\n      this.reconnected && this.reconnected()\n    }\n  }\n  __disconnected(){\n    this.__isDisconnected = true\n    this.disconnected && this.disconnected()\n  }\n\n  /**\n   * Binds the hook to JS commands.\n   *\n   * @param {ViewHook} hook - The ViewHook instance to bind.\n   *\n   * @returns {Object} An object with methods to manipulate the DOM and execute JavaScript.\n   */\n  js(){\n    let hook = this\n\n    return {\n      /**\n       * Executes encoded JavaScript in the context of the hook element.\n       *\n       * @param {string} encodedJS - The encoded JavaScript string to execute.\n       */\n      exec(encodedJS){\n        hook.__view().liveSocket.execJS(hook.el, encodedJS, \"hook\")\n      },\n\n      /**\n       * Shows an element.\n       *\n       * @param {HTMLElement} el - The element to show.\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {string} [opts.display] - The CSS display value to set. Defaults \"block\".\n       * @param {string} [opts.transition] - The CSS transition classes to set when showing.\n       * @param {number} [opts.time] - The transition duration in milliseconds. Defaults 200.\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *  Defaults `true`.\n       */\n      show(el, opts = {}){\n        let owner = hook.__view().liveSocket.owner(el)\n        JS.show(\"hook\", owner, el, opts.display, opts.transition, opts.time, opts.blocking)\n      },\n\n      /**\n       * Hides an element.\n       *\n       * @param {HTMLElement} el - The element to hide.\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {string} [opts.transition] - The CSS transition classes to set when hiding.\n       * @param {number} [opts.time] - The transition duration in milliseconds. Defaults 200.\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *   Defaults `true`.\n       */\n      hide(el, opts = {}){\n        let owner = hook.__view().liveSocket.owner(el)\n        JS.hide(\"hook\", owner, el, null, opts.transition, opts.time, opts.blocking)\n      },\n\n      /**\n       * Toggles the visibility of an element.\n       *\n       * @param {HTMLElement} el - The element to toggle.\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {string} [opts.display] - The CSS display value to set. Defaults \"block\".\n       * @param {string} [opts.in] - The CSS transition classes for showing.\n       *   Accepts either the string of classes to apply when toggling in, or\n       *   a 3-tuple containing the transition class, the class to apply\n       *   to start the transition, and the ending transition class, such as:\n       *\n       *       [\"ease-out duration-300\", \"opacity-0\", \"opacity-100\"]\n       *\n       * @param {string} [opts.out] - The CSS transition classes for hiding.\n       *   Accepts either string of classes to apply when toggling out, or\n       *   a 3-tuple containing the transition class, the class to apply\n       *   to start the transition, and the ending transition class, such as:\n       *\n       *       [\"ease-out duration-300\", \"opacity-100\", \"opacity-0\"]\n       *\n       * @param {number} [opts.time] - The transition duration in milliseconds.\n       *\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *   Defaults `true`.\n       */\n      toggle(el, opts = {}){\n        let owner = hook.__view().liveSocket.owner(el)\n        opts.in = JS.transitionClasses(opts.in)\n        opts.out = JS.transitionClasses(opts.out)\n        JS.toggle(\"hook\", owner, el, opts.display, opts.in, opts.out, opts.time, opts.blocking)\n      },\n\n      /**\n       * Adds CSS classes to an element.\n       *\n       * @param {HTMLElement} el - The element to add classes to.\n       * @param {string|string[]} names - The class name(s) to add.\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {string} [opts.transition] - The CSS transition property to set.\n       *   Accepts a string of classes to apply when adding classes or\n       *   a 3-tuple containing the transition class, the class to apply\n       *   to start the transition, and the ending transition class, such as:\n       *\n       *       [\"ease-out duration-300\", \"opacity-0\", \"opacity-100\"]\n       *\n       * @param {number} [opts.time] - The transition duration in milliseconds.\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *   Defaults `true`.\n       */\n      addClass(el, names, opts = {}){\n        names = Array.isArray(names) ? names : names.split(\" \")\n        let owner = hook.__view().liveSocket.owner(el)\n        JS.addOrRemoveClasses(el, names, [], opts.transition, opts.time, owner, opts.blocking)\n      },\n\n      /**\n       * Removes CSS classes from an element.\n       *\n       * @param {HTMLElement} el - The element to remove classes from.\n       * @param {string|string[]} names - The class name(s) to remove.\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {string} [opts.transition] - The CSS transition classes to set.\n       *   Accepts a string of classes to apply when removing classes or\n       *   a 3-tuple containing the transition class, the class to apply\n       *   to start the transition, and the ending transition class, such as:\n       *\n       *       [\"ease-out duration-300\", \"opacity-100\", \"opacity-0\"]\n       *\n       * @param {number} [opts.time] - The transition duration in milliseconds.\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *   Defaults `true`.\n       */\n      removeClass(el, names, opts = {}){\n        opts.transition = JS.transitionClasses(opts.transition)\n        names = Array.isArray(names) ? names : names.split(\" \")\n        let owner = hook.__view().liveSocket.owner(el)\n        JS.addOrRemoveClasses(el, [], names, opts.transition, opts.time, owner, opts.blocking)\n      },\n\n      /**\n       * Toggles CSS classes on an element.\n       *\n       * @param {HTMLElement} el - The element to toggle classes on.\n       * @param {string|string[]} names - The class name(s) to toggle.\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {string} [opts.transition] - The CSS transition classes to set.\n       *   Accepts a string of classes to apply when toggling classes or\n       *   a 3-tuple containing the transition class, the class to apply\n       *   to start the transition, and the ending transition class, such as:\n       *\n       *       [\"ease-out duration-300\", \"opacity-100\", \"opacity-0\"]\n       *\n       * @param {number} [opts.time] - The transition duration in milliseconds.\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *   Defaults `true`.\n       */\n      toggleClass(el, names, opts = {}){\n        opts.transition = JS.transitionClasses(opts.transition)\n        names = Array.isArray(names) ? names : names.split(\" \")\n        let owner = hook.__view().liveSocket.owner(el)\n        JS.toggleClasses(el, names, opts.transition, opts.time, owner, opts.blocking)\n      },\n\n      /**\n       * Applies a CSS transition to an element.\n       *\n       * @param {HTMLElement} el - The element to apply the transition to.\n       * @param {string|string[]} transition - The transition class(es) to apply.\n       *   Accepts a string of classes to apply when transitioning or\n       *   a 3-tuple containing the transition class, the class to apply\n       *   to start the transition, and the ending transition class, such as:\n       *\n       *       [\"ease-out duration-300\", \"opacity-100\", \"opacity-0\"]\n       *\n       * @param {Object} [opts={}] - Optional settings.\n       * @param {number} [opts.time] - The transition duration in milliseconds.\n       * @param {boolean} [opts.blocking] - The boolean flag to block the UI during the transition.\n       *   Defaults `true`.\n       */\n      transition(el, transition, opts = {}){\n        let owner = hook.__view().liveSocket.owner(el)\n        JS.addOrRemoveClasses(el, [], [], JS.transitionClasses(transition), opts.time, owner, opts.blocking)\n      },\n\n      /**\n       * Sets an attribute on an element.\n       *\n       * @param {HTMLElement} el - The element to set the attribute on.\n       * @param {string} attr - The attribute name to set.\n       * @param {string} val - The value to set for the attribute.\n       */\n      setAttribute(el, attr, val){ JS.setOrRemoveAttrs(el, [[attr, val]], []) },\n\n      /**\n       * Removes an attribute from an element.\n       *\n       * @param {HTMLElement} el - The element to remove the attribute from.\n       * @param {string} attr - The attribute name to remove.\n       */\n      removeAttribute(el, attr){ JS.setOrRemoveAttrs(el, [], [attr]) },\n\n      /**\n       * Toggles an attribute on an element between two values.\n       *\n       * @param {HTMLElement} el - The element to toggle the attribute on.\n       * @param {string} attr - The attribute name to toggle.\n       * @param {string} val1 - The first value to toggle between.\n       * @param {string} val2 - The second value to toggle between.\n       */\n      toggleAttribute(el, attr, val1, val2){ JS.toggleAttr(el, attr, val1, val2) },\n    }\n  }\n\n  pushEvent(event, payload = {}, onReply){\n    if(onReply === undefined){\n      return new Promise((resolve, reject) => {\n        try {\n          const ref = this.__view().pushHookEvent(this.el, null, event, payload, (reply, _ref) => resolve(reply))\n          if(ref === false){\n            reject(new Error(\"unable to push hook event. LiveView not connected\"))\n          }\n        } catch (error){\n          reject(error)\n        }\n      })\n    }\n    return this.__view().pushHookEvent(this.el, null, event, payload, onReply)\n  }\n\n  pushEventTo(phxTarget, event, payload = {}, onReply){\n    if(onReply === undefined){\n      return new Promise((resolve, reject) => {\n        try {\n          this.__view().withinTargets(phxTarget, (view, targetCtx) => {\n            const ref = view.pushHookEvent(this.el, targetCtx, event, payload, (reply, _ref) => resolve(reply))\n            if(ref === false){\n              reject(new Error(\"unable to push hook event. LiveView not connected\"))\n            }\n          })\n        } catch (error){\n          reject(error)\n        }\n      })\n    }\n    return this.__view().withinTargets(phxTarget, (view, targetCtx) => {\n      return view.pushHookEvent(this.el, targetCtx, event, payload, onReply)\n    })\n  }\n\n  handleEvent(event, callback){\n    let callbackRef = (customEvent, bypass) => bypass ? event : callback(customEvent.detail)\n    window.addEventListener(`phx:${event}`, callbackRef)\n    this.__listeners.add(callbackRef)\n    return callbackRef\n  }\n\n  removeHandleEvent(callbackRef){\n    let event = callbackRef(null, true)\n    window.removeEventListener(`phx:${event}`, callbackRef)\n    this.__listeners.delete(callbackRef)\n  }\n\n  upload(name, files){\n    return this.__view().dispatchUploads(null, name, files)\n  }\n\n  uploadTo(phxTarget, name, files){\n    return this.__view().withinTargets(phxTarget, (view, targetCtx) => {\n      view.dispatchUploads(targetCtx, name, files)\n    })\n  }\n\n  __cleanup__(){\n    this.__listeners.forEach(callbackRef => this.removeHandleEvent(callbackRef))\n  }\n}\n", "import {\n  BEFORE_UNLOAD_LOADER_TIMEOUT,\n  CHECKABLE_INPUTS,\n  CONSECUTIVE_RELOADS,\n  PHX_AUTO_RECOVER,\n  PHX_COMPONENT,\n  PHX_CONNECTED_CLASS,\n  PHX_DISABLE_WITH,\n  PHX_DISABLE_WITH_RESTORE,\n  PHX_DISABLED,\n  PHX_LOADING_CLASS,\n  PHX_ERROR_CLASS,\n  PHX_CLIENT_ERROR_CLASS,\n  PHX_SERVER_ERROR_CLASS,\n  PHX_HAS_FOCUSED,\n  PHX_HAS_SUBMITTED,\n  PHX_HOOK,\n  PHX_PARENT_ID,\n  PHX_PROGRESS,\n  PHX_READONLY,\n  PHX_REF_LOADING,\n  PHX_REF_SRC,\n  PHX_REF_LOCK,\n  PHX_ROOT_ID,\n  PHX_SESSION,\n  PHX_STATIC,\n  PHX_TRACK_STATIC,\n  PHX_TRACK_UPLOADS,\n  PHX_UPDATE,\n  PHX_UPLOAD_REF,\n  PHX_VIEW_SELECTOR,\n  PHX_MAIN,\n  PHX_MOUNTED,\n  PUSH_TIMEOUT,\n  PHX_VIEWPORT_TOP,\n  PHX_VIEWPORT_BOTTOM,\n  MAX_CHILD_JOIN_ATTEMPTS\n} from \"./constants\"\n\nimport {\n  clone,\n  closestPhxBinding,\n  isEmpty,\n  isEqualObj,\n  logError,\n  maybe,\n  isCid,\n} from \"./utils\"\n\nimport Browser from \"./browser\"\nimport DOM from \"./dom\"\nimport ElementRef from \"./element_ref\"\nimport DOMPatch from \"./dom_patch\"\nimport LiveUploader from \"./live_uploader\"\nimport Rendered from \"./rendered\"\nimport ViewHook from \"./view_hook\"\nimport JS from \"./js\"\n\nexport let prependFormDataKey = (key, prefix) => {\n  let isArray = key.endsWith(\"[]\")\n  // Remove the \"[]\" if it's an array\n  let baseKey = isArray ? key.slice(0, -2) : key\n  // Replace last occurrence of key before a closing bracket or the end with key plus suffix\n  baseKey = baseKey.replace(/([^\\[\\]]+)(\\]?$)/, `${prefix}$1$2`)\n  // Add back the \"[]\" if it was an array\n  if(isArray){ baseKey += \"[]\" }\n  return baseKey\n}\n\nlet serializeForm = (form, metadata, onlyNames = []) => {\n  const {submitter, ...meta} = metadata\n\n  // We must inject the submitter in the order that it exists in the DOM\n  // relative to other inputs. For example, for checkbox groups, the order must be maintained.\n  let injectedElement\n  if(submitter && submitter.name){\n    const input = document.createElement(\"input\")\n    input.type = \"hidden\"\n    // set the form attribute if the submitter has one;\n    // this can happen if the element is outside the actual form element\n    const formId = submitter.getAttribute(\"form\")\n    if(formId){\n      input.setAttribute(\"form\", formId)\n    }\n    input.name = submitter.name\n    input.value = submitter.value\n    submitter.parentElement.insertBefore(input, submitter)\n    injectedElement = input\n  }\n\n  const formData = new FormData(form)\n  const toRemove = []\n\n  formData.forEach((val, key, _index) => {\n    if(val instanceof File){ toRemove.push(key) }\n  })\n\n  // Cleanup after building fileData\n  toRemove.forEach(key => formData.delete(key))\n\n  const params = new URLSearchParams()\n\n  let elements = Array.from(form.elements)\n  for(let [key, val] of formData.entries()){\n    if(onlyNames.length === 0 || onlyNames.indexOf(key) >= 0){\n      let inputs = elements.filter(input => input.name === key)\n      let isUnused = !inputs.some(input => (DOM.private(input, PHX_HAS_FOCUSED) || DOM.private(input, PHX_HAS_SUBMITTED)))\n      let hidden = inputs.every(input => input.type === \"hidden\")\n      if(isUnused && !(submitter && submitter.name == key) && !hidden){\n        params.append(prependFormDataKey(key, \"_unused_\"), \"\")\n      }\n      params.append(key, val)\n    }\n  }\n\n  // remove the injected element again\n  // (it would be removed by the next dom patch anyway, but this is cleaner)\n  if(submitter && injectedElement){\n    submitter.parentElement.removeChild(injectedElement)\n  }\n\n  for(let metaKey in meta){ params.append(metaKey, meta[metaKey]) }\n\n  return params.toString()\n}\n\nexport default class View {\n  static closestView(el){\n    let liveViewEl = el.closest(PHX_VIEW_SELECTOR)\n    return liveViewEl ? DOM.private(liveViewEl, \"view\") : null\n  }\n\n  constructor(el, liveSocket, parentView, flash, liveReferer){\n    this.isDead = false\n    this.liveSocket = liveSocket\n    this.flash = flash\n    this.parent = parentView\n    this.root = parentView ? parentView.root : this\n    this.el = el\n    DOM.putPrivate(this.el, \"view\", this)\n    this.id = this.el.id\n    this.ref = 0\n    this.lastAckRef = null\n    this.childJoins = 0\n    this.loaderTimer = null\n    this.pendingDiffs = []\n    this.pendingForms = new Set()\n    this.redirect = false\n    this.href = null\n    this.joinCount = this.parent ? this.parent.joinCount - 1 : 0\n    this.joinAttempts = 0\n    this.joinPending = true\n    this.destroyed = false\n    this.joinCallback = function(onDone){ onDone && onDone() }\n    this.stopCallback = function(){ }\n    this.pendingJoinOps = this.parent ? null : []\n    this.viewHooks = {}\n    this.formSubmits = []\n    this.children = this.parent ? null : {}\n    this.root.children[this.id] = {}\n    this.formsForRecovery = {}\n    this.channel = this.liveSocket.channel(`lv:${this.id}`, () => {\n      let url = this.href && this.expandURL(this.href)\n      return {\n        redirect: this.redirect ? url : undefined,\n        url: this.redirect ? undefined : url || undefined,\n        params: this.connectParams(liveReferer),\n        session: this.getSession(),\n        static: this.getStatic(),\n        flash: this.flash,\n      }\n    })\n  }\n\n  setHref(href){ this.href = href }\n\n  setRedirect(href){\n    this.redirect = true\n    this.href = href\n  }\n\n  isMain(){ return this.el.hasAttribute(PHX_MAIN) }\n\n  connectParams(liveReferer){\n    let params = this.liveSocket.params(this.el)\n    let manifest =\n      DOM.all(document, `[${this.binding(PHX_TRACK_STATIC)}]`)\n        .map(node => node.src || node.href).filter(url => typeof (url) === \"string\")\n\n    if(manifest.length > 0){ params[\"_track_static\"] = manifest }\n    params[\"_mounts\"] = this.joinCount\n    params[\"_mount_attempts\"] = this.joinAttempts\n    params[\"_live_referer\"] = liveReferer\n    this.joinAttempts++\n\n    return params\n  }\n\n  isConnected(){ return this.channel.canPush() }\n\n  getSession(){ return this.el.getAttribute(PHX_SESSION) }\n\n  getStatic(){\n    let val = this.el.getAttribute(PHX_STATIC)\n    return val === \"\" ? null : val\n  }\n\n  destroy(callback = function (){ }){\n    this.destroyAllChildren()\n    this.destroyed = true\n    delete this.root.children[this.id]\n    if(this.parent){ delete this.root.children[this.parent.id][this.id] }\n    clearTimeout(this.loaderTimer)\n    let onFinished = () => {\n      callback()\n      for(let id in this.viewHooks){\n        this.destroyHook(this.viewHooks[id])\n      }\n    }\n\n    DOM.markPhxChildDestroyed(this.el)\n\n    this.log(\"destroyed\", () => [\"the child has been removed from the parent\"])\n    this.channel.leave()\n      .receive(\"ok\", onFinished)\n      .receive(\"error\", onFinished)\n      .receive(\"timeout\", onFinished)\n  }\n\n  setContainerClasses(...classes){\n    this.el.classList.remove(\n      PHX_CONNECTED_CLASS,\n      PHX_LOADING_CLASS,\n      PHX_ERROR_CLASS,\n      PHX_CLIENT_ERROR_CLASS,\n      PHX_SERVER_ERROR_CLASS\n    )\n    this.el.classList.add(...classes)\n  }\n\n  showLoader(timeout){\n    clearTimeout(this.loaderTimer)\n    if(timeout){\n      this.loaderTimer = setTimeout(() => this.showLoader(), timeout)\n    } else {\n      for(let id in this.viewHooks){ this.viewHooks[id].__disconnected() }\n      this.setContainerClasses(PHX_LOADING_CLASS)\n    }\n  }\n\n  execAll(binding){\n    DOM.all(this.el, `[${binding}]`, el => this.liveSocket.execJS(el, el.getAttribute(binding)))\n  }\n\n  hideLoader(){\n    clearTimeout(this.loaderTimer)\n    this.setContainerClasses(PHX_CONNECTED_CLASS)\n    this.execAll(this.binding(\"connected\"))\n  }\n\n  triggerReconnected(){\n    for(let id in this.viewHooks){ this.viewHooks[id].__reconnected() }\n  }\n\n  log(kind, msgCallback){\n    this.liveSocket.log(this, kind, msgCallback)\n  }\n\n  transition(time, onStart, onDone = function(){}){\n    this.liveSocket.transition(time, onStart, onDone)\n  }\n\n  // calls the callback with the view and target element for the given phxTarget\n  // targets can be:\n  //  * an element itself, then it is simply passed to liveSocket.owner;\n  //  * a CID (Component ID), then we first search the component's element in the DOM\n  //  * a selector, then we search the selector in the DOM and call the callback\n  //    for each element found with the corresponding owner view\n  withinTargets(phxTarget, callback, dom = document, viewEl){\n    // in the form recovery case we search in a template fragment instead of\n    // the real dom, therefore we optionally pass dom and viewEl\n\n    if(phxTarget instanceof HTMLElement || phxTarget instanceof SVGElement){\n      return this.liveSocket.owner(phxTarget, view => callback(view, phxTarget))\n    }\n\n    if(isCid(phxTarget)){\n      let targets = DOM.findComponentNodeList(viewEl || this.el, phxTarget)\n      if(targets.length === 0){\n        logError(`no component found matching phx-target of ${phxTarget}`)\n      } else {\n        callback(this, parseInt(phxTarget))\n      }\n    } else {\n      let targets = Array.from(dom.querySelectorAll(phxTarget))\n      if(targets.length === 0){ logError(`nothing found matching the phx-target selector \"${phxTarget}\"`) }\n      targets.forEach(target => this.liveSocket.owner(target, view => callback(view, target)))\n    }\n  }\n\n  applyDiff(type, rawDiff, callback){\n    this.log(type, () => [\"\", clone(rawDiff)])\n    let {diff, reply, events, title} = Rendered.extract(rawDiff)\n    callback({diff, reply, events})\n    if(typeof title === \"string\" || type == \"mount\"){ window.requestAnimationFrame(() => DOM.putTitle(title)) }\n  }\n\n  onJoin(resp){\n    let {rendered, container, liveview_version} = resp\n    if(container){\n      let [tag, attrs] = container\n      this.el = DOM.replaceRootContainer(this.el, tag, attrs)\n    }\n    this.childJoins = 0\n    this.joinPending = true\n    this.flash = null\n    if(this.root === this){\n      this.formsForRecovery = this.getFormsForRecovery()\n    }\n    if(this.isMain() && window.history.state === null){\n      // set initial history entry if this is the first page load\n      this.liveSocket.replaceRootHistory()\n    }\n\n    if(liveview_version !== this.liveSocket.version()){\n      console.error(`LiveView asset version mismatch. JavaScript version ${this.liveSocket.version()} vs. server ${liveview_version}. To avoid issues, please ensure that your assets use the same version as the server.`)\n    }\n\n    Browser.dropLocal(this.liveSocket.localStorage, window.location.pathname, CONSECUTIVE_RELOADS)\n    this.applyDiff(\"mount\", rendered, ({diff, events}) => {\n      this.rendered = new Rendered(this.id, diff)\n      let [html, streams] = this.renderContainer(null, \"join\")\n      this.dropPendingRefs()\n      this.joinCount++\n      this.joinAttempts = 0\n\n      this.maybeRecoverForms(html, () => {\n        this.onJoinComplete(resp, html, streams, events)\n      })\n    })\n  }\n\n  dropPendingRefs(){\n    DOM.all(document, `[${PHX_REF_SRC}=\"${this.refSrc()}\"]`, el => {\n      el.removeAttribute(PHX_REF_LOADING)\n      el.removeAttribute(PHX_REF_SRC)\n      el.removeAttribute(PHX_REF_LOCK)\n    })\n  }\n\n  onJoinComplete({live_patch}, html, streams, events){\n    // In order to provide a better experience, we want to join\n    // all LiveViews first and only then apply their patches.\n    if(this.joinCount > 1 || (this.parent && !this.parent.isJoinPending())){\n      return this.applyJoinPatch(live_patch, html, streams, events)\n    }\n\n    // One downside of this approach is that we need to find phxChildren\n    // in the html fragment, instead of directly on the DOM. The fragment\n    // also does not include PHX_STATIC, so we need to copy it over from\n    // the DOM.\n    let newChildren = DOM.findPhxChildrenInFragment(html, this.id).filter(toEl => {\n      let fromEl = toEl.id && this.el.querySelector(`[id=\"${toEl.id}\"]`)\n      let phxStatic = fromEl && fromEl.getAttribute(PHX_STATIC)\n      if(phxStatic){ toEl.setAttribute(PHX_STATIC, phxStatic) }\n      // set PHX_ROOT_ID to prevent events from being dispatched to the root view\n      // while the child join is still pending\n      if(fromEl){ fromEl.setAttribute(PHX_ROOT_ID, this.root.id) }\n      return this.joinChild(toEl)\n    })\n\n    if(newChildren.length === 0){\n      if(this.parent){\n        this.root.pendingJoinOps.push([this, () => this.applyJoinPatch(live_patch, html, streams, events)])\n        this.parent.ackJoin(this)\n      } else {\n        this.onAllChildJoinsComplete()\n        this.applyJoinPatch(live_patch, html, streams, events)\n      }\n    } else {\n      this.root.pendingJoinOps.push([this, () => this.applyJoinPatch(live_patch, html, streams, events)])\n    }\n  }\n\n  attachTrueDocEl(){\n    this.el = DOM.byId(this.id)\n    this.el.setAttribute(PHX_ROOT_ID, this.root.id)\n  }\n\n  // this is invoked for dead and live views, so we must filter by\n  // by owner to ensure we aren't duplicating hooks across disconnect\n  // and connected states. This also handles cases where hooks exist\n  // in a root layout with a LV in the body\n  execNewMounted(parent = this.el){\n    let phxViewportTop = this.binding(PHX_VIEWPORT_TOP)\n    let phxViewportBottom = this.binding(PHX_VIEWPORT_BOTTOM)\n    DOM.all(parent, `[${phxViewportTop}], [${phxViewportBottom}]`, hookEl => {\n      if(this.ownsElement(hookEl)){\n        DOM.maintainPrivateHooks(hookEl, hookEl, phxViewportTop, phxViewportBottom)\n        this.maybeAddNewHook(hookEl)\n      }\n    })\n    DOM.all(parent, `[${this.binding(PHX_HOOK)}], [data-phx-${PHX_HOOK}]`, hookEl => {\n      if(this.ownsElement(hookEl)){\n        this.maybeAddNewHook(hookEl)\n      }\n    })\n    DOM.all(parent, `[${this.binding(PHX_MOUNTED)}]`, el => {\n      if(this.ownsElement(el)){\n        this.maybeMounted(el)\n      }\n    })\n  }\n\n  applyJoinPatch(live_patch, html, streams, events){\n    this.attachTrueDocEl()\n    let patch = new DOMPatch(this, this.el, this.id, html, streams, null)\n    patch.markPrunableContentForRemoval()\n    this.performPatch(patch, false, true)\n    this.joinNewChildren()\n    this.execNewMounted()\n\n    this.joinPending = false\n    this.liveSocket.dispatchEvents(events)\n    this.applyPendingUpdates()\n\n    if(live_patch){\n      let {kind, to} = live_patch\n      this.liveSocket.historyPatch(to, kind)\n    }\n    this.hideLoader()\n    if(this.joinCount > 1){ this.triggerReconnected() }\n    this.stopCallback()\n  }\n\n  triggerBeforeUpdateHook(fromEl, toEl){\n    this.liveSocket.triggerDOM(\"onBeforeElUpdated\", [fromEl, toEl])\n    let hook = this.getHook(fromEl)\n    let isIgnored = hook && DOM.isIgnored(fromEl, this.binding(PHX_UPDATE))\n    if(hook && !fromEl.isEqualNode(toEl) && !(isIgnored && isEqualObj(fromEl.dataset, toEl.dataset))){\n      hook.__beforeUpdate()\n      return hook\n    }\n  }\n\n  maybeMounted(el){\n    let phxMounted = el.getAttribute(this.binding(PHX_MOUNTED))\n    let hasBeenInvoked = phxMounted && DOM.private(el, \"mounted\")\n    if(phxMounted && !hasBeenInvoked){\n      this.liveSocket.execJS(el, phxMounted)\n      DOM.putPrivate(el, \"mounted\", true)\n    }\n  }\n\n  maybeAddNewHook(el){\n    let newHook = this.addHook(el)\n    if(newHook){ newHook.__mounted() }\n  }\n\n  performPatch(patch, pruneCids, isJoinPatch = false){\n    let removedEls = []\n    let phxChildrenAdded = false\n    let updatedHookIds = new Set()\n\n    this.liveSocket.triggerDOM(\"onPatchStart\", [patch.targetContainer])\n\n    patch.after(\"added\", el => {\n      this.liveSocket.triggerDOM(\"onNodeAdded\", [el])\n      let phxViewportTop = this.binding(PHX_VIEWPORT_TOP)\n      let phxViewportBottom = this.binding(PHX_VIEWPORT_BOTTOM)\n      DOM.maintainPrivateHooks(el, el, phxViewportTop, phxViewportBottom)\n      this.maybeAddNewHook(el)\n      if(el.getAttribute){ this.maybeMounted(el) }\n    })\n\n    patch.after(\"phxChildAdded\", el => {\n      if(DOM.isPhxSticky(el)){\n        this.liveSocket.joinRootViews()\n      } else {\n        phxChildrenAdded = true\n      }\n    })\n\n    patch.before(\"updated\", (fromEl, toEl) => {\n      let hook = this.triggerBeforeUpdateHook(fromEl, toEl)\n      if(hook){ updatedHookIds.add(fromEl.id) }\n    })\n\n    patch.after(\"updated\", el => {\n      if(updatedHookIds.has(el.id)){ this.getHook(el).__updated() }\n    })\n\n    patch.after(\"discarded\", (el) => {\n      if(el.nodeType === Node.ELEMENT_NODE){ removedEls.push(el) }\n    })\n\n    patch.after(\"transitionsDiscarded\", els => this.afterElementsRemoved(els, pruneCids))\n    patch.perform(isJoinPatch)\n    this.afterElementsRemoved(removedEls, pruneCids)\n\n    this.liveSocket.triggerDOM(\"onPatchEnd\", [patch.targetContainer])\n    return phxChildrenAdded\n  }\n\n  afterElementsRemoved(elements, pruneCids){\n    let destroyedCIDs = []\n    elements.forEach(parent => {\n      let components = DOM.all(parent, `[${PHX_COMPONENT}]`)\n      let hooks = DOM.all(parent, `[${this.binding(PHX_HOOK)}], [data-phx-hook]`)\n      components.concat(parent).forEach(el => {\n        let cid = this.componentID(el)\n        if(isCid(cid) && destroyedCIDs.indexOf(cid) === -1){ destroyedCIDs.push(cid) }\n      })\n      hooks.concat(parent).forEach(hookEl => {\n        let hook = this.getHook(hookEl)\n        hook && this.destroyHook(hook)\n      })\n    })\n    // We should not pruneCids on joins. Otherwise, in case of\n    // rejoins, we may notify cids that no longer belong to the\n    // current LiveView to be removed.\n    if(pruneCids){\n      this.maybePushComponentsDestroyed(destroyedCIDs)\n    }\n  }\n\n  joinNewChildren(){\n    DOM.findPhxChildren(this.el, this.id).forEach(el => this.joinChild(el))\n  }\n\n  maybeRecoverForms(html, callback){\n    const phxChange = this.binding(\"change\")\n    const oldForms = this.root.formsForRecovery\n    // So why do we create a template element here?\n    // One way to recover forms would be to immediately apply the mount\n    // patch and then afterwards recover the forms. However, this would\n    // cause a flicker, because the mount patch would remove the form content\n    // until it is restored. Therefore LV decided to do form recovery with the\n    // raw HTML before it is applied and delay the mount patch until the form\n    // recovery events are done.\n    let template = document.createElement(\"template\")\n    template.innerHTML = html\n    // because we work with a template element, we must manually copy the attributes\n    // otherwise the owner / target helpers don't work properly\n    const rootEl = template.content.firstElementChild\n    rootEl.id = this.id\n    rootEl.setAttribute(PHX_ROOT_ID, this.root.id)\n    rootEl.setAttribute(PHX_SESSION, this.getSession())\n    rootEl.setAttribute(PHX_STATIC, this.getStatic())\n    rootEl.setAttribute(PHX_PARENT_ID, this.parent ? this.parent.id : null)\n\n    // we go over all form elements in the new HTML for the LV\n    // and look for old forms in the `formsForRecovery` object;\n    // the formsForRecovery can also contain forms from child views\n    const formsToRecover =\n      // we go over all forms in the new DOM; because this is only the HTML for the current\n      // view, we can be sure that all forms are owned by this view:\n      DOM.all(template.content, \"form\")\n        // only recover forms that have an id and are in the old DOM\n        .filter(newForm => newForm.id && oldForms[newForm.id])\n        // abandon forms we already tried to recover to prevent looping a failed state\n        .filter(newForm => !this.pendingForms.has(newForm.id))\n        // only recover if the form has the same phx-change value\n        .filter(newForm => oldForms[newForm.id].getAttribute(phxChange) === newForm.getAttribute(phxChange))\n        .map(newForm => {\n          return [oldForms[newForm.id], newForm]\n        })\n\n    if(formsToRecover.length === 0){\n      return callback()\n    }\n\n    formsToRecover.forEach(([oldForm, newForm], i) => {\n      this.pendingForms.add(newForm.id)\n      // it is important to use the firstElementChild of the template content\n      // because when traversing a documentFragment using parentNode, we won't ever arrive at\n      // the fragment; as the template is always a LiveView, we can be sure that there is only\n      // one child on the root level\n      this.pushFormRecovery(oldForm, newForm, template.content.firstElementChild, () => {\n        this.pendingForms.delete(newForm.id)\n        // we only call the callback once all forms have been recovered\n        if(i === formsToRecover.length - 1){\n          callback()\n        }\n      })\n    })\n  }\n\n  getChildById(id){ return this.root.children[this.id][id] }\n\n  getDescendentByEl(el){\n    if(el.id === this.id){\n      return this\n    } else {\n      return this.children[el.getAttribute(PHX_PARENT_ID)]?.[el.id]\n    }\n  }\n\n  destroyDescendent(id){\n    for(let parentId in this.root.children){\n      for(let childId in this.root.children[parentId]){\n        if(childId === id){ return this.root.children[parentId][childId].destroy() }\n      }\n    }\n  }\n\n  joinChild(el){\n    let child = this.getChildById(el.id)\n    if(!child){\n      let view = new View(el, this.liveSocket, this)\n      this.root.children[this.id][view.id] = view\n      view.join()\n      this.childJoins++\n      return true\n    }\n  }\n\n  isJoinPending(){ return this.joinPending }\n\n  ackJoin(_child){\n    this.childJoins--\n\n    if(this.childJoins === 0){\n      if(this.parent){\n        this.parent.ackJoin(this)\n      } else {\n        this.onAllChildJoinsComplete()\n      }\n    }\n  }\n\n  onAllChildJoinsComplete(){\n    // we can clear pending form recoveries now that we've joined.\n    // They either all resolved or were abandoned\n    this.pendingForms.clear()\n    // we can also clear the formsForRecovery object to not keep old form elements around\n    this.formsForRecovery = {}\n    this.joinCallback(() => {\n      this.pendingJoinOps.forEach(([view, op]) => {\n        if(!view.isDestroyed()){ op() }\n      })\n      this.pendingJoinOps = []\n    })\n  }\n\n  update(diff, events){\n    if(this.isJoinPending() || (this.liveSocket.hasPendingLink() && this.root.isMain())){\n      return this.pendingDiffs.push({diff, events})\n    }\n\n    this.rendered.mergeDiff(diff)\n    let phxChildrenAdded = false\n\n    // When the diff only contains component diffs, then walk components\n    // and patch only the parent component containers found in the diff.\n    // Otherwise, patch entire LV container.\n    if(this.rendered.isComponentOnlyDiff(diff)){\n      this.liveSocket.time(\"component patch complete\", () => {\n        let parentCids = DOM.findExistingParentCIDs(this.el, this.rendered.componentCIDs(diff))\n        parentCids.forEach(parentCID => {\n          if(this.componentPatch(this.rendered.getComponent(diff, parentCID), parentCID)){ phxChildrenAdded = true }\n        })\n      })\n    } else if(!isEmpty(diff)){\n      this.liveSocket.time(\"full patch complete\", () => {\n        let [html, streams] = this.renderContainer(diff, \"update\")\n        let patch = new DOMPatch(this, this.el, this.id, html, streams, null)\n        phxChildrenAdded = this.performPatch(patch, true)\n      })\n    }\n\n    this.liveSocket.dispatchEvents(events)\n    if(phxChildrenAdded){ this.joinNewChildren() }\n  }\n\n  renderContainer(diff, kind){\n    return this.liveSocket.time(`toString diff (${kind})`, () => {\n      let tag = this.el.tagName\n      // Don't skip any component in the diff nor any marked as pruned\n      // (as they may have been added back)\n      let cids = diff ? this.rendered.componentCIDs(diff) : null\n      let [html, streams] = this.rendered.toString(cids)\n      return [`<${tag}>${html}</${tag}>`, streams]\n    })\n  }\n\n  componentPatch(diff, cid){\n    if(isEmpty(diff)) return false\n    let [html, streams] = this.rendered.componentToString(cid)\n    let patch = new DOMPatch(this, this.el, this.id, html, streams, cid)\n    let childrenAdded = this.performPatch(patch, true)\n    return childrenAdded\n  }\n\n  getHook(el){ return this.viewHooks[ViewHook.elementID(el)] }\n\n  addHook(el){\n    let hookElId = ViewHook.elementID(el)\n\n    if(hookElId && !this.viewHooks[hookElId]){\n      // hook created, but not attached (createHook for web component)\n      let hook = DOM.getCustomElHook(el) || logError(`no hook found for custom element: ${el.id}`)\n      this.viewHooks[hookElId] = hook\n      hook.__attachView(this)\n      return hook\n    }\n    else if(hookElId || !el.getAttribute){\n      // no hook found\n      return\n    } else {\n      // new hook found with phx-hook attribute\n      let hookName = el.getAttribute(`data-phx-${PHX_HOOK}`) || el.getAttribute(this.binding(PHX_HOOK))\n      if(hookName && !this.ownsElement(el)){ return }\n      let callbacks = this.liveSocket.getHookCallbacks(hookName)\n\n      if(callbacks){\n        if(!el.id){ logError(`no DOM ID for hook \"${hookName}\". Hooks require a unique ID on each element.`, el) }\n        let hook = new ViewHook(this, el, callbacks)\n        this.viewHooks[ViewHook.elementID(hook.el)] = hook\n        return hook\n      } else if(hookName !== null){\n        logError(`unknown hook found for \"${hookName}\"`, el)\n      }\n    }\n  }\n\n  destroyHook(hook){\n    hook.__destroyed()\n    hook.__cleanup__()\n    delete this.viewHooks[ViewHook.elementID(hook.el)]\n  }\n\n  applyPendingUpdates(){\n    this.pendingDiffs.forEach(({diff, events}) => this.update(diff, events))\n    this.pendingDiffs = []\n    this.eachChild(child => child.applyPendingUpdates())\n  }\n\n  eachChild(callback){\n    let children = this.root.children[this.id] || {}\n    for(let id in children){ callback(this.getChildById(id)) }\n  }\n\n  onChannel(event, cb){\n    this.liveSocket.onChannel(this.channel, event, resp => {\n      if(this.isJoinPending()){\n        this.root.pendingJoinOps.push([this, () => cb(resp)])\n      } else {\n        this.liveSocket.requestDOMUpdate(() => cb(resp))\n      }\n    })\n  }\n\n  bindChannel(){\n    // The diff event should be handled by the regular update operations.\n    // All other operations are queued to be applied only after join.\n    this.liveSocket.onChannel(this.channel, \"diff\", (rawDiff) => {\n      this.liveSocket.requestDOMUpdate(() => {\n        this.applyDiff(\"update\", rawDiff, ({diff, events}) => this.update(diff, events))\n      })\n    })\n    this.onChannel(\"redirect\", ({to, flash}) => this.onRedirect({to, flash}))\n    this.onChannel(\"live_patch\", (redir) => this.onLivePatch(redir))\n    this.onChannel(\"live_redirect\", (redir) => this.onLiveRedirect(redir))\n    this.channel.onError(reason => this.onError(reason))\n    this.channel.onClose(reason => this.onClose(reason))\n  }\n\n  destroyAllChildren(){ this.eachChild(child => child.destroy()) }\n\n  onLiveRedirect(redir){\n    let {to, kind, flash} = redir\n    let url = this.expandURL(to)\n    let e = new CustomEvent(\"phx:server-navigate\", {detail: {to, kind, flash}})\n    this.liveSocket.historyRedirect(e, url, kind, flash)\n  }\n\n  onLivePatch(redir){\n    let {to, kind} = redir\n    this.href = this.expandURL(to)\n    this.liveSocket.historyPatch(to, kind)\n  }\n\n  expandURL(to){\n    return to.startsWith(\"/\") ? `${window.location.protocol}//${window.location.host}${to}` : to\n  }\n\n  onRedirect({to, flash, reloadToken}){ this.liveSocket.redirect(to, flash, reloadToken) }\n\n  isDestroyed(){ return this.destroyed }\n\n  joinDead(){ this.isDead = true }\n\n  joinPush(){\n    this.joinPush = this.joinPush || this.channel.join()\n    return this.joinPush\n  }\n\n  join(callback){\n    this.showLoader(this.liveSocket.loaderTimeout)\n    this.bindChannel()\n    if(this.isMain()){\n      this.stopCallback = this.liveSocket.withPageLoading({to: this.href, kind: \"initial\"})\n    }\n    this.joinCallback = (onDone) => {\n      onDone = onDone || function(){}\n      callback ? callback(this.joinCount, onDone) : onDone()\n    }\n\n    this.wrapPush(() => this.channel.join(), {\n      ok: (resp) => this.liveSocket.requestDOMUpdate(() => this.onJoin(resp)),\n      error: (error) => this.onJoinError(error),\n      timeout: () => this.onJoinError({reason: \"timeout\"})\n    })\n  }\n\n  onJoinError(resp){\n    if(resp.reason === \"reload\"){\n      this.log(\"error\", () => [`failed mount with ${resp.status}. Falling back to page reload`, resp])\n      this.onRedirect({to: this.root.href, reloadToken: resp.token})\n      return\n    } else if(resp.reason === \"unauthorized\" || resp.reason === \"stale\"){\n      this.log(\"error\", () => [\"unauthorized live_redirect. Falling back to page request\", resp])\n      this.onRedirect({to: this.root.href})\n      return\n    }\n    if(resp.redirect || resp.live_redirect){\n      this.joinPending = false\n      this.channel.leave()\n    }\n    if(resp.redirect){ return this.onRedirect(resp.redirect) }\n    if(resp.live_redirect){ return this.onLiveRedirect(resp.live_redirect) }\n    this.log(\"error\", () => [\"unable to join\", resp])\n    if(this.isMain()){\n      this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_SERVER_ERROR_CLASS])\n      if(this.liveSocket.isConnected()){ this.liveSocket.reloadWithJitter(this) }\n    } else {\n      if(this.joinAttempts >= MAX_CHILD_JOIN_ATTEMPTS){\n        // put the root review into permanent error state, but don't destroy it as it can remain active\n        this.root.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_SERVER_ERROR_CLASS])\n        this.log(\"error\", () => [`giving up trying to mount after ${MAX_CHILD_JOIN_ATTEMPTS} tries`, resp])\n        this.destroy()\n      }\n      let trueChildEl = DOM.byId(this.el.id)\n      if(trueChildEl){\n        DOM.mergeAttrs(trueChildEl, this.el)\n        this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_SERVER_ERROR_CLASS])\n        this.el = trueChildEl\n      } else {\n        this.destroy()\n      }\n    }\n  }\n\n  onClose(reason){\n    if(this.isDestroyed()){ return }\n    if(this.isMain() && this.liveSocket.hasPendingLink() && reason !== \"leave\"){\n      return this.liveSocket.reloadWithJitter(this)\n    }\n    this.destroyAllChildren()\n    this.liveSocket.dropActiveElement(this)\n    // document.activeElement can be null in Internet Explorer 11\n    if(document.activeElement){ document.activeElement.blur() }\n    if(this.liveSocket.isUnloaded()){\n      this.showLoader(BEFORE_UNLOAD_LOADER_TIMEOUT)\n    }\n  }\n\n  onError(reason){\n    this.onClose(reason)\n    if(this.liveSocket.isConnected()){ this.log(\"error\", () => [\"view crashed\", reason]) }\n    if(!this.liveSocket.isUnloaded()){\n      if(this.liveSocket.isConnected()){\n        this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_SERVER_ERROR_CLASS])\n      } else {\n        this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_CLIENT_ERROR_CLASS])\n      }\n    }\n  }\n\n  displayError(classes){\n    if(this.isMain()){ DOM.dispatchEvent(window, \"phx:page-loading-start\", {detail: {to: this.href, kind: \"error\"}}) }\n    this.showLoader()\n    this.setContainerClasses(...classes)\n    this.execAll(this.binding(\"disconnected\"))\n  }\n\n  wrapPush(callerPush, receives){\n    let latency = this.liveSocket.getLatencySim()\n    let withLatency = latency ?\n      (cb) => setTimeout(() => !this.isDestroyed() && cb(), latency) :\n      (cb) => !this.isDestroyed() && cb()\n\n    withLatency(() => {\n      callerPush()\n        .receive(\"ok\", resp => withLatency(() => receives.ok && receives.ok(resp)))\n        .receive(\"error\", reason => withLatency(() => receives.error && receives.error(reason)))\n        .receive(\"timeout\", () => withLatency(() => receives.timeout && receives.timeout()))\n    })\n  }\n\n  pushWithReply(refGenerator, event, payload){\n    if(!this.isConnected()){ return Promise.reject({error: \"noconnection\"}) }\n\n    let [ref, [el], opts] = refGenerator ? refGenerator() : [null, [], {}]\n    let oldJoinCount = this.joinCount\n    let onLoadingDone = function(){}\n    if(opts.page_loading){\n      onLoadingDone = this.liveSocket.withPageLoading({kind: \"element\", target: el})\n    }\n\n    if(typeof (payload.cid) !== \"number\"){ delete payload.cid }\n\n    return new Promise((resolve, reject) => {\n      this.wrapPush(() => this.channel.push(event, payload, PUSH_TIMEOUT), {\n        ok: (resp) => {\n          if(ref !== null){ this.lastAckRef = ref }\n          let finish = (hookReply) => {\n            if(resp.redirect){ this.onRedirect(resp.redirect) }\n            if(resp.live_patch){ this.onLivePatch(resp.live_patch) }\n            if(resp.live_redirect){ this.onLiveRedirect(resp.live_redirect) }\n            onLoadingDone()\n            resolve({resp: resp, reply: hookReply})\n          }\n          if(resp.diff){\n            this.liveSocket.requestDOMUpdate(() => {\n              this.applyDiff(\"update\", resp.diff, ({diff, reply, events}) => {\n                if(ref !== null){\n                  this.undoRefs(ref, payload.event)\n                }\n                this.update(diff, events)\n                finish(reply)\n              })\n            })\n          } else {\n            if(ref !== null){ this.undoRefs(ref, payload.event) }\n            finish(null)\n          }\n        },\n        error: (reason) => reject({error: reason}),\n        timeout: () => {\n          reject({timeout: true})\n          if(this.joinCount === oldJoinCount){\n            this.liveSocket.reloadWithJitter(this, () => {\n              this.log(\"timeout\", () => [\"received timeout while communicating with server. Falling back to hard refresh for recovery\"])\n            })\n          }\n        }\n      })\n    })\n  }\n\n  undoRefs(ref, phxEvent, onlyEls){\n    if(!this.isConnected()){ return } // exit if external form triggered\n    let selector = `[${PHX_REF_SRC}=\"${this.refSrc()}\"]`\n\n    if(onlyEls){\n      onlyEls = new Set(onlyEls)\n      DOM.all(document, selector, parent => {\n        if(onlyEls && !onlyEls.has(parent)){ return }\n        // undo any child refs within parent first\n        DOM.all(parent, selector, child => this.undoElRef(child, ref, phxEvent))\n        this.undoElRef(parent, ref, phxEvent)\n      })\n    } else {\n      DOM.all(document, selector, el => this.undoElRef(el, ref, phxEvent))\n    }\n  }\n\n  undoElRef(el, ref, phxEvent){\n    let elRef = new ElementRef(el)\n\n    elRef.maybeUndo(ref, phxEvent, clonedTree => {\n      let hook = this.triggerBeforeUpdateHook(el, clonedTree)\n      DOMPatch.patchWithClonedTree(el, clonedTree, this.liveSocket)\n      DOM.all(el, `[${PHX_REF_SRC}=\"${this.refSrc()}\"]`, child => this.undoElRef(child, ref, phxEvent))\n      this.execNewMounted(el)\n      if(hook){ hook.__updated() }\n    })\n  }\n\n  refSrc(){ return this.el.id }\n\n  putRef(elements, phxEvent, eventType, opts = {}){\n    let newRef = this.ref++\n    let disableWith = this.binding(PHX_DISABLE_WITH)\n    if(opts.loading){\n      let loadingEls = DOM.all(document, opts.loading).map(el => {\n        return {el, lock: true, loading: true}\n      })\n      elements = elements.concat(loadingEls)\n    }\n\n    for(let {el, lock, loading} of elements){\n      if(!lock && !loading){ throw new Error(\"putRef requires lock or loading\") }\n      el.setAttribute(PHX_REF_SRC, this.refSrc())\n      if(loading){ el.setAttribute(PHX_REF_LOADING, newRef) }\n      if(lock){ el.setAttribute(PHX_REF_LOCK, newRef) }\n\n      if(!loading || (opts.submitter && !(el === opts.submitter || el === opts.form))){ continue }\n\n      let lockCompletePromise = new Promise(resolve => {\n        el.addEventListener(`phx:undo-lock:${newRef}`, () => resolve(detail), {once: true})\n      })\n\n      let loadingCompletePromise = new Promise(resolve => {\n        el.addEventListener(`phx:undo-loading:${newRef}`, () => resolve(detail), {once: true})\n      })\n\n      el.classList.add(`phx-${eventType}-loading`)\n      let disableText = el.getAttribute(disableWith)\n      if(disableText !== null){\n        if(!el.getAttribute(PHX_DISABLE_WITH_RESTORE)){\n          el.setAttribute(PHX_DISABLE_WITH_RESTORE, el.innerText)\n        }\n        if(disableText !== \"\"){ el.innerText = disableText }\n        // PHX_DISABLED could have already been set in disableForm\n        el.setAttribute(PHX_DISABLED, el.getAttribute(PHX_DISABLED) || el.disabled)\n        el.setAttribute(\"disabled\", \"\")\n      }\n\n      let detail = {\n        event: phxEvent,\n        eventType: eventType,\n        ref: newRef,\n        isLoading: loading,\n        isLocked: lock,\n        lockElements: elements.filter(({lock}) => lock).map(({el}) => el),\n        loadingElements: elements.filter(({loading}) => loading).map(({el}) => el),\n        unlock: (els) => {\n          els = Array.isArray(els) ? els : [els]\n          this.undoRefs(newRef, phxEvent, els)\n        },\n        lockComplete: lockCompletePromise,\n        loadingComplete: loadingCompletePromise,\n        lock: (lockEl) => {\n          return new Promise(resolve => {\n            if(this.isAcked(newRef)){ return resolve(detail) }\n            lockEl.setAttribute(PHX_REF_LOCK, newRef)\n            lockEl.setAttribute(PHX_REF_SRC, this.refSrc())\n            lockEl.addEventListener(`phx:lock-stop:${newRef}`, () => resolve(detail), {once: true})\n          })\n        }\n      }\n      el.dispatchEvent(new CustomEvent(\"phx:push\", {\n        detail: detail,\n        bubbles: true,\n        cancelable: false\n      }))\n      if(phxEvent){\n        el.dispatchEvent(new CustomEvent(`phx:push:${phxEvent}`, {\n          detail: detail,\n          bubbles: true,\n          cancelable: false\n        }))\n      }\n    }\n    return [newRef, elements.map(({el}) => el), opts]\n  }\n\n  isAcked(ref){ return this.lastAckRef !== null && this.lastAckRef >= ref }\n\n  componentID(el){\n    let cid = el.getAttribute && el.getAttribute(PHX_COMPONENT)\n    return cid ? parseInt(cid) : null\n  }\n\n  targetComponentID(target, targetCtx, opts = {}){\n    if(isCid(targetCtx)){ return targetCtx }\n\n    let cidOrSelector = opts.target || target.getAttribute(this.binding(\"target\"))\n    if(isCid(cidOrSelector)){\n      return parseInt(cidOrSelector)\n    } else if(targetCtx && (cidOrSelector !== null || opts.target)){\n      return this.closestComponentID(targetCtx)\n    } else {\n      return null\n    }\n  }\n\n  closestComponentID(targetCtx){\n    if(isCid(targetCtx)){\n      return targetCtx\n    } else if(targetCtx){\n      return maybe(targetCtx.closest(`[${PHX_COMPONENT}]`), el => this.ownsElement(el) && this.componentID(el))\n    } else {\n      return null\n    }\n  }\n\n  pushHookEvent(el, targetCtx, event, payload, onReply){\n    if(!this.isConnected()){\n      this.log(\"hook\", () => [\"unable to push hook event. LiveView not connected\", event, payload])\n      return false\n    }\n    let [ref, els, opts] = this.putRef([{el, loading: true, lock: true}], event, \"hook\")\n    this.pushWithReply(() => [ref, els, opts], \"event\", {\n      type: \"hook\",\n      event: event,\n      value: payload,\n      cid: this.closestComponentID(targetCtx)\n    }).then(({resp: _resp, reply: hookReply}) => onReply(hookReply, ref))\n\n    return ref\n  }\n\n  extractMeta(el, meta, value){\n    let prefix = this.binding(\"value-\")\n    for(let i = 0; i < el.attributes.length; i++){\n      if(!meta){ meta = {} }\n      let name = el.attributes[i].name\n      if(name.startsWith(prefix)){ meta[name.replace(prefix, \"\")] = el.getAttribute(name) }\n    }\n    if(el.value !== undefined && !(el instanceof HTMLFormElement)){\n      if(!meta){ meta = {} }\n      meta.value = el.value\n\n      if(el.tagName === \"INPUT\" && CHECKABLE_INPUTS.indexOf(el.type) >= 0 && !el.checked){\n        delete meta.value\n      }\n    }\n    if(value){\n      if(!meta){ meta = {} }\n      for(let key in value){ meta[key] = value[key] }\n    }\n    return meta\n  }\n\n  pushEvent(type, el, targetCtx, phxEvent, meta, opts = {}, onReply){\n    this.pushWithReply(() => this.putRef([{el, loading: true, lock: true}], phxEvent, type, opts), \"event\", {\n      type: type,\n      event: phxEvent,\n      value: this.extractMeta(el, meta, opts.value),\n      cid: this.targetComponentID(el, targetCtx, opts)\n    }).then(({reply}) => onReply && onReply(reply))\n  }\n\n  pushFileProgress(fileEl, entryRef, progress, onReply = function (){ }){\n    this.liveSocket.withinOwners(fileEl.form, (view, targetCtx) => {\n      view.pushWithReply(null, \"progress\", {\n        event: fileEl.getAttribute(view.binding(PHX_PROGRESS)),\n        ref: fileEl.getAttribute(PHX_UPLOAD_REF),\n        entry_ref: entryRef,\n        progress: progress,\n        cid: view.targetComponentID(fileEl.form, targetCtx)\n      }).then(({resp}) => onReply(resp))\n    })\n  }\n\n  pushInput(inputEl, targetCtx, forceCid, phxEvent, opts, callback){\n    if(!inputEl.form){\n      throw new Error(\"form events require the input to be inside a form\")\n    }\n\n    let uploads\n    let cid = isCid(forceCid) ? forceCid : this.targetComponentID(inputEl.form, targetCtx, opts)\n    let refGenerator = () => {\n      return this.putRef([\n        {el: inputEl, loading: true, lock: true},\n        {el: inputEl.form, loading: true, lock: true}\n      ], phxEvent, \"change\", opts)\n    }\n    let formData\n    let meta  = this.extractMeta(inputEl.form)\n    if(inputEl instanceof HTMLButtonElement){ meta.submitter = inputEl }\n    if(inputEl.getAttribute(this.binding(\"change\"))){\n      formData = serializeForm(inputEl.form, {_target: opts._target, ...meta}, [inputEl.name])\n    } else {\n      formData = serializeForm(inputEl.form, {_target: opts._target, ...meta})\n    }\n    if(DOM.isUploadInput(inputEl) && inputEl.files && inputEl.files.length > 0){\n      LiveUploader.trackFiles(inputEl, Array.from(inputEl.files))\n    }\n    uploads = LiveUploader.serializeUploads(inputEl)\n\n    let event = {\n      type: \"form\",\n      event: phxEvent,\n      value: formData,\n      uploads: uploads,\n      cid: cid\n    }\n    this.pushWithReply(refGenerator, \"event\", event).then(({resp}) => {\n      if(DOM.isUploadInput(inputEl) && DOM.isAutoUpload(inputEl)){\n        if(LiveUploader.filesAwaitingPreflight(inputEl).length > 0){\n          let [ref, _els] = refGenerator()\n          this.undoRefs(ref, phxEvent, [inputEl.form])\n          this.uploadFiles(inputEl.form, phxEvent, targetCtx, ref, cid, (_uploads) => {\n            callback && callback(resp)\n            this.triggerAwaitingSubmit(inputEl.form, phxEvent)\n            this.undoRefs(ref, phxEvent)\n          })\n        }\n      } else {\n        callback && callback(resp)\n      }\n    })\n  }\n\n  triggerAwaitingSubmit(formEl, phxEvent){\n    let awaitingSubmit = this.getScheduledSubmit(formEl)\n    if(awaitingSubmit){\n      let [_el, _ref, _opts, callback] = awaitingSubmit\n      this.cancelSubmit(formEl, phxEvent)\n      callback()\n    }\n  }\n\n  getScheduledSubmit(formEl){\n    return this.formSubmits.find(([el, _ref, _opts, _callback]) => el.isSameNode(formEl))\n  }\n\n  scheduleSubmit(formEl, ref, opts, callback){\n    if(this.getScheduledSubmit(formEl)){ return true }\n    this.formSubmits.push([formEl, ref, opts, callback])\n  }\n\n  cancelSubmit(formEl, phxEvent){\n    this.formSubmits = this.formSubmits.filter(([el, ref, _opts, _callback]) => {\n      if(el.isSameNode(formEl)){\n        this.undoRefs(ref, phxEvent)\n        return false\n      } else {\n        return true\n      }\n    })\n  }\n\n  disableForm(formEl, phxEvent, opts = {}){\n    let filterIgnored = el => {\n      let userIgnored = closestPhxBinding(el, `${this.binding(PHX_UPDATE)}=ignore`, el.form)\n      return !(userIgnored || closestPhxBinding(el, \"data-phx-update=ignore\", el.form))\n    }\n    let filterDisables = el => {\n      return el.hasAttribute(this.binding(PHX_DISABLE_WITH))\n    }\n    let filterButton = el => el.tagName == \"BUTTON\"\n\n    let filterInput = el => [\"INPUT\", \"TEXTAREA\", \"SELECT\"].includes(el.tagName)\n\n    let formElements = Array.from(formEl.elements)\n    let disables = formElements.filter(filterDisables)\n    let buttons = formElements.filter(filterButton).filter(filterIgnored)\n    let inputs = formElements.filter(filterInput).filter(filterIgnored)\n\n    buttons.forEach(button => {\n      button.setAttribute(PHX_DISABLED, button.disabled)\n      button.disabled = true\n    })\n    inputs.forEach(input => {\n      input.setAttribute(PHX_READONLY, input.readOnly)\n      input.readOnly = true\n      if(input.files){\n        input.setAttribute(PHX_DISABLED, input.disabled)\n        input.disabled = true\n      }\n    })\n    let formEls = disables.concat(buttons).concat(inputs).map(el => {\n      return {el, loading: true, lock: true}\n    })\n\n    // we reverse the order so form children are already locked by the time\n    // the form is locked\n    let els = [{el: formEl, loading: true, lock: false}].concat(formEls).reverse()\n    return this.putRef(els, phxEvent, \"submit\", opts)\n  }\n\n  pushFormSubmit(formEl, targetCtx, phxEvent, submitter, opts, onReply){\n    let refGenerator = () => this.disableForm(formEl, phxEvent, {\n      ...opts,\n      form: formEl,\n      submitter: submitter\n    })\n    let cid = this.targetComponentID(formEl, targetCtx)\n    if(LiveUploader.hasUploadsInProgress(formEl)){\n      let [ref, _els] = refGenerator()\n      let push = () => this.pushFormSubmit(formEl, targetCtx, phxEvent, submitter, opts, onReply)\n      return this.scheduleSubmit(formEl, ref, opts, push)\n    } else if(LiveUploader.inputsAwaitingPreflight(formEl).length > 0){\n      let [ref, els] = refGenerator()\n      let proxyRefGen = () => [ref, els, opts]\n      this.uploadFiles(formEl, phxEvent, targetCtx, ref, cid, (_uploads) => {\n        // if we still having pending preflights it means we have invalid entries\n        // and the phx-submit cannot be completed\n        if(LiveUploader.inputsAwaitingPreflight(formEl).length > 0){\n          return this.undoRefs(ref, phxEvent)\n        }\n        let meta = this.extractMeta(formEl)\n        let formData = serializeForm(formEl, {submitter, ...meta})\n        this.pushWithReply(proxyRefGen, \"event\", {\n          type: \"form\",\n          event: phxEvent,\n          value: formData,\n          cid: cid\n        }).then(({resp}) => onReply(resp))\n      })\n    } else if(!(formEl.hasAttribute(PHX_REF_SRC) && formEl.classList.contains(\"phx-submit-loading\"))){\n      let meta = this.extractMeta(formEl)\n      let formData = serializeForm(formEl, {submitter, ...meta})\n      this.pushWithReply(refGenerator, \"event\", {\n        type: \"form\",\n        event: phxEvent,\n        value: formData,\n        cid: cid\n      }).then(({resp}) => onReply(resp))\n    }\n  }\n\n  uploadFiles(formEl, phxEvent, targetCtx, ref, cid, onComplete){\n    let joinCountAtUpload = this.joinCount\n    let inputEls = LiveUploader.activeFileInputs(formEl)\n    let numFileInputsInProgress = inputEls.length\n\n    // get each file input\n    inputEls.forEach(inputEl => {\n      let uploader = new LiveUploader(inputEl, this, () => {\n        numFileInputsInProgress--\n        if(numFileInputsInProgress === 0){ onComplete() }\n      })\n\n      let entries = uploader.entries().map(entry => entry.toPreflightPayload())\n\n      if(entries.length === 0){\n        numFileInputsInProgress--\n        return\n      }\n\n      let payload = {\n        ref: inputEl.getAttribute(PHX_UPLOAD_REF),\n        entries: entries,\n        cid: this.targetComponentID(inputEl.form, targetCtx)\n      }\n\n      this.log(\"upload\", () => [\"sending preflight request\", payload])\n\n      this.pushWithReply(null, \"allow_upload\", payload).then(({resp}) => {\n        this.log(\"upload\", () => [\"got preflight response\", resp])\n        // the preflight will reject entries beyond the max entries\n        // so we error and cancel entries on the client that are missing from the response\n        uploader.entries().forEach(entry => {\n          if(resp.entries && !resp.entries[entry.ref]){\n            this.handleFailedEntryPreflight(entry.ref, \"failed preflight\", uploader)\n          }\n        })\n        // for auto uploads, we may have an empty entries response from the server\n        // for form submits that contain invalid entries\n        if(resp.error || Object.keys(resp.entries).length === 0){\n          this.undoRefs(ref, phxEvent)\n          let errors = resp.error || []\n          errors.map(([entry_ref, reason]) => {\n            this.handleFailedEntryPreflight(entry_ref, reason, uploader)\n          })\n        } else {\n          let onError = (callback) => {\n            this.channel.onError(() => {\n              if(this.joinCount === joinCountAtUpload){ callback() }\n            })\n          }\n          uploader.initAdapterUpload(resp, onError, this.liveSocket)\n        }\n      })\n    })\n  }\n\n  handleFailedEntryPreflight(uploadRef, reason, uploader){\n    if(uploader.isAutoUpload()){\n      // uploadRef may be top level upload config ref or entry ref\n      let entry = uploader.entries().find(entry => entry.ref === uploadRef.toString())\n      if(entry){ entry.cancel() }\n    } else {\n      uploader.entries().map(entry => entry.cancel())\n    }\n    this.log(\"upload\", () => [`error for entry ${uploadRef}`, reason])\n  }\n\n  dispatchUploads(targetCtx, name, filesOrBlobs){\n    let targetElement = this.targetCtxElement(targetCtx) || this.el\n    let inputs = DOM.findUploadInputs(targetElement).filter(el => el.name === name)\n    if(inputs.length === 0){ logError(`no live file inputs found matching the name \"${name}\"`) }\n    else if(inputs.length > 1){ logError(`duplicate live file inputs found matching the name \"${name}\"`) }\n    else { DOM.dispatchEvent(inputs[0], PHX_TRACK_UPLOADS, {detail: {files: filesOrBlobs}}) }\n  }\n\n  targetCtxElement(targetCtx){\n    if(isCid(targetCtx)){\n      let [target] = DOM.findComponentNodeList(this.el, targetCtx)\n      return target\n    } else if(targetCtx){\n      return targetCtx\n    } else {\n      return null\n    }\n  }\n\n  pushFormRecovery(oldForm, newForm, templateDom, callback){\n    // we are only recovering forms inside the current view, therefore it is safe to\n    // skip withinOwners here and always use this when referring to the view\n    const phxChange = this.binding(\"change\")\n    const phxTarget = newForm.getAttribute(this.binding(\"target\")) || newForm\n    const phxEvent = newForm.getAttribute(this.binding(PHX_AUTO_RECOVER)) || newForm.getAttribute(this.binding(\"change\"))\n    const inputs = Array.from(oldForm.elements).filter(el => DOM.isFormInput(el) && el.name && !el.hasAttribute(phxChange))\n    if(inputs.length === 0){ return }\n\n    // we must clear tracked uploads before recovery as they no longer have valid refs\n    inputs.forEach(input => input.hasAttribute(PHX_UPLOAD_REF) && LiveUploader.clearFiles(input))\n    // pushInput assumes that there is a source element that initiated the change;\n    // because this is not the case when we recover forms, we provide the first input we find\n    let input = inputs.find(el => el.type !== \"hidden\") || inputs[0]\n\n    // in the case that there are multiple targets, we count the number of pending recovery events\n    // and only call the callback once all events have been processed\n    let pending = 0\n    // withinTargets(phxTarget, callback, dom, viewEl)\n    this.withinTargets(phxTarget, (targetView, targetCtx) => {\n      const cid = this.targetComponentID(newForm, targetCtx)\n      pending++\n      let e = new CustomEvent(\"phx:form-recovery\", {detail: {sourceElement: oldForm}})\n      JS.exec(e, \"change\", phxEvent, this, input, [\"push\", {\n        _target: input.name,\n        targetView,\n        targetCtx,\n        newCid: cid,\n        callback: () => {\n          pending--\n          if(pending === 0){ callback() }\n        }\n      }])\n    }, templateDom, templateDom)\n  }\n\n  pushLinkPatch(e, href, targetEl, callback){\n    let linkRef = this.liveSocket.setPendingLink(href)\n    // only add loading states if event is trusted (it was triggered by user, such as click) and\n    // it's not a forward/back navigation from popstate\n    let loading = e.isTrusted && e.type !== \"popstate\"\n    let refGen = targetEl ? () => this.putRef([{el: targetEl, loading: loading, lock: true}], null, \"click\") : null\n    let fallback = () => this.liveSocket.redirect(window.location.href)\n    let url = href.startsWith(\"/\") ? `${location.protocol}//${location.host}${href}` : href\n\n    this.pushWithReply(refGen, \"live_patch\", {url}).then(\n      ({resp}) => {\n        this.liveSocket.requestDOMUpdate(() => {\n          if(resp.link_redirect){\n            this.liveSocket.replaceMain(href, null, callback, linkRef)\n          } else {\n            if(this.liveSocket.commitPendingLink(linkRef)){\n              this.href = href\n            }\n            this.applyPendingUpdates()\n            callback && callback(linkRef)\n          }\n        })\n      },\n      ({error: _error, timeout: _timeout}) => fallback()\n    )\n  }\n\n  getFormsForRecovery(){\n    if(this.joinCount === 0){ return {} }\n\n    let phxChange = this.binding(\"change\")\n\n    return DOM.all(this.el, `form[${phxChange}]`)\n      .filter(form => form.id)\n      .filter(form => form.elements.length > 0)\n      .filter(form => form.getAttribute(this.binding(PHX_AUTO_RECOVER)) !== \"ignore\")\n      .map(form => form.cloneNode(true))\n      .reduce((acc, form) => {\n        acc[form.id] = form\n        return acc\n      }, {})\n  }\n\n  maybePushComponentsDestroyed(destroyedCIDs){\n    let willDestroyCIDs = destroyedCIDs.filter(cid => {\n      return DOM.findComponentNodeList(this.el, cid).length === 0\n    })\n\n    if(willDestroyCIDs.length > 0){\n      // we must reset the render change tracking for cids that\n      // could be added back from the server so we don't skip them\n      willDestroyCIDs.forEach(cid => this.rendered.resetRender(cid))\n\n      this.pushWithReply(null, \"cids_will_destroy\", {cids: willDestroyCIDs}).then(() => {\n        // we must wait for pending transitions to complete before determining\n        // if the cids were added back to the DOM in the meantime (#3139)\n        this.liveSocket.requestDOMUpdate(() => {\n          // See if any of the cids we wanted to destroy were added back,\n          // if they were added back, we don't actually destroy them.\n          let completelyDestroyCIDs = willDestroyCIDs.filter(cid => {\n            return DOM.findComponentNodeList(this.el, cid).length === 0\n          })\n\n          if(completelyDestroyCIDs.length > 0){\n            this.pushWithReply(null, \"cids_destroyed\", {cids: completelyDestroyCIDs}).then(({resp}) => {\n              this.rendered.pruneCIDs(resp.cids)\n            })\n          }\n        })\n      })\n    }\n  }\n\n  ownsElement(el){\n    let parentViewEl = el.closest(PHX_VIEW_SELECTOR)\n    return el.getAttribute(PHX_PARENT_ID) === this.id ||\n      (parentViewEl && parentViewEl.id === this.id) ||\n      (!parentViewEl && this.isDead)\n  }\n\n  submitForm(form, targetCtx, phxEvent, submitter, opts = {}){\n    DOM.putPrivate(form, PHX_HAS_SUBMITTED, true)\n    const inputs = Array.from(form.elements)\n    inputs.forEach(input => DOM.putPrivate(input, PHX_HAS_SUBMITTED, true))\n    this.liveSocket.blurActiveElement(this)\n    this.pushFormSubmit(form, targetCtx, phxEvent, submitter, opts, () => {\n      this.liveSocket.restorePreviouslyActiveFocus()\n    })\n  }\n\n  binding(kind){ return this.liveSocket.binding(kind) }\n}\n", "/** Initializes the LiveSocket\n *\n *\n * @param {string} endPoint - The string WebSocket endpoint, ie, `\"wss://example.com/live\"`,\n *                                               `\"/live\"` (inherited host & protocol)\n * @param {Phoenix.Socket} socket - the required Phoenix Socket class imported from \"phoenix\". For example:\n *\n *     import {Socket} from \"phoenix\"\n *     import {LiveSocket} from \"phoenix_live_view\"\n *     let liveSocket = new LiveSocket(\"/live\", Socket, {...})\n *\n * @param {Object} [opts] - Optional configuration. Outside of keys listed below, all\n * configuration is passed directly to the Phoenix Socket constructor.\n * @param {Object} [opts.defaults] - The optional defaults to use for various bindings,\n * such as `phx-debounce`. Supports the following keys:\n *\n *   - debounce - the millisecond phx-debounce time. Defaults 300\n *   - throttle - the millisecond phx-throttle time. Defaults 300\n *\n * @param {Function} [opts.params] - The optional function for passing connect params.\n * The function receives the element associated with a given LiveView. For example:\n *\n *     (el) => {view: el.getAttribute(\"data-my-view-name\", token: window.myToken}\n *\n * @param {string} [opts.bindingPrefix] - The optional prefix to use for all phx DOM annotations.\n * Defaults to \"phx-\".\n * @param {Object} [opts.hooks] - The optional object for referencing LiveView hook callbacks.\n * @param {Object} [opts.uploaders] - The optional object for referencing LiveView uploader callbacks.\n * @param {integer} [opts.loaderTimeout] - The optional delay in milliseconds to wait before apply\n * loading states.\n * @param {integer} [opts.maxReloads] - The maximum reloads before entering failsafe mode.\n * @param {integer} [opts.reloadJitterMin] - The minimum time between normal reload attempts.\n * @param {integer} [opts.reloadJitterMax] - The maximum time between normal reload attempts.\n * @param {integer} [opts.failsafeJitter] - The time between reload attempts in failsafe mode.\n * @param {Function} [opts.viewLogger] - The optional function to log debug information. For example:\n *\n *     (view, kind, msg, obj) => console.log(`${view.id} ${kind}: ${msg} - `, obj)\n *\n * @param {Object} [opts.metadata] - The optional object mapping event names to functions for\n * populating event metadata. For example:\n *\n *     metadata: {\n *       click: (e, el) => {\n *         return {\n *           ctrlKey: e.ctrlKey,\n *           metaKey: e.metaKey,\n *           detail: e.detail || 1,\n *         }\n *       },\n *       keydown: (e, el) => {\n *         return {\n *           key: e.key,\n *           ctrlKey: e.ctrlKey,\n *           metaKey: e.metaKey,\n *           shiftKey: e.shiftKey\n *         }\n *       }\n *     }\n * @param {Object} [opts.sessionStorage] - An optional Storage compatible object\n * Useful when LiveView won't have access to `sessionStorage`.  For example, This could\n * happen if a site loads a cross-domain LiveView in an iframe.  Example usage:\n *\n *     class InMemoryStorage {\n *       constructor() { this.storage = {} }\n *       getItem(keyName) { return this.storage[keyName] || null }\n *       removeItem(keyName) { delete this.storage[keyName] }\n *       setItem(keyName, keyValue) { this.storage[keyName] = keyValue }\n *     }\n *\n * @param {Object} [opts.localStorage] - An optional Storage compatible object\n * Useful for when LiveView won't have access to `localStorage`.\n * See `opts.sessionStorage` for examples.\n*/\n\nimport {\n  BINDING_PREFIX,\n  CONSECUTIVE_RELOADS,\n  DEFAULTS,\n  FAILSAFE_JITTER,\n  LOADER_TIMEOUT,\n  MAX_RELOADS,\n  PHX_DEBOUNCE,\n  PHX_DROP_TARGET,\n  PHX_HAS_FOCUSED,\n  PHX_KEY,\n  PHX_LINK_STATE,\n  PHX_LIVE_LINK,\n  PHX_LV_DEBUG,\n  PHX_LV_LATENCY_SIM,\n  PHX_LV_PROFILE,\n  PHX_LV_HISTORY_POSITION,\n  PHX_MAIN,\n  PHX_PARENT_ID,\n  PHX_VIEW_SELECTOR,\n  PHX_ROOT_ID,\n  PHX_THROTTLE,\n  PHX_TRACK_UPLOADS,\n  PHX_SESSION,\n  RELOAD_JITTER_MIN,\n  RELOAD_JITTER_MAX,\n  PHX_REF_SRC,\n  PHX_RELOAD_STATUS\n} from \"./constants\"\n\nimport {\n  clone,\n  closestPhxBinding,\n  closure,\n  debug,\n  maybe\n} from \"./utils\"\n\nimport Browser from \"./browser\"\nimport DOM from \"./dom\"\nimport Hooks from \"./hooks\"\nimport LiveUploader from \"./live_uploader\"\nimport View from \"./view\"\nimport JS from \"./js\"\n\nexport let isUsedInput = (el) => DOM.isUsedInput(el)\n\nexport default class LiveSocket {\n  constructor(url, phxSocket, opts = {}){\n    this.unloaded = false\n    if(!phxSocket || phxSocket.constructor.name === \"Object\"){\n      throw new Error(`\n      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:\n\n          import {Socket} from \"phoenix\"\n          import {LiveSocket} from \"phoenix_live_view\"\n          let liveSocket = new LiveSocket(\"/live\", Socket, {...})\n      `)\n    }\n    this.socket = new phxSocket(url, opts)\n    this.bindingPrefix = opts.bindingPrefix || BINDING_PREFIX\n    this.opts = opts\n    this.params = closure(opts.params || {})\n    this.viewLogger = opts.viewLogger\n    this.metadataCallbacks = opts.metadata || {}\n    this.defaults = Object.assign(clone(DEFAULTS), opts.defaults || {})\n    this.activeElement = null\n    this.prevActive = null\n    this.silenced = false\n    this.main = null\n    this.outgoingMainEl = null\n    this.clickStartedAtTarget = null\n    this.linkRef = 1\n    this.roots = {}\n    this.href = window.location.href\n    this.pendingLink = null\n    this.currentLocation = clone(window.location)\n    this.hooks = opts.hooks || {}\n    this.uploaders = opts.uploaders || {}\n    this.loaderTimeout = opts.loaderTimeout || LOADER_TIMEOUT\n    this.reloadWithJitterTimer = null\n    this.maxReloads = opts.maxReloads || MAX_RELOADS\n    this.reloadJitterMin = opts.reloadJitterMin || RELOAD_JITTER_MIN\n    this.reloadJitterMax = opts.reloadJitterMax || RELOAD_JITTER_MAX\n    this.failsafeJitter = opts.failsafeJitter || FAILSAFE_JITTER\n    this.localStorage = opts.localStorage || window.localStorage\n    this.sessionStorage = opts.sessionStorage || window.sessionStorage\n    this.boundTopLevelEvents = false\n    this.boundEventNames = new Set()\n    this.serverCloseRef = null\n    this.domCallbacks = Object.assign({\n      jsQuerySelectorAll: null,\n      onPatchStart: closure(),\n      onPatchEnd: closure(),\n      onNodeAdded: closure(),\n      onBeforeElUpdated: closure()},\n    opts.dom || {})\n    this.transitions = new TransitionSet()\n    this.currentHistoryPosition = parseInt(this.sessionStorage.getItem(PHX_LV_HISTORY_POSITION)) || 0\n    window.addEventListener(\"pagehide\", _e => {\n      this.unloaded = true\n    })\n    this.socket.onOpen(() => {\n      if(this.isUnloaded()){\n        // reload page if being restored from back/forward cache and browser does not emit \"pageshow\"\n        window.location.reload()\n      }\n    })\n  }\n\n  // public\n\n  version(){ return LV_VSN }\n\n  isProfileEnabled(){ return this.sessionStorage.getItem(PHX_LV_PROFILE) === \"true\" }\n\n  isDebugEnabled(){ return this.sessionStorage.getItem(PHX_LV_DEBUG) === \"true\" }\n\n  isDebugDisabled(){ return this.sessionStorage.getItem(PHX_LV_DEBUG) === \"false\" }\n\n  enableDebug(){ this.sessionStorage.setItem(PHX_LV_DEBUG, \"true\") }\n\n  enableProfiling(){ this.sessionStorage.setItem(PHX_LV_PROFILE, \"true\") }\n\n  disableDebug(){ this.sessionStorage.setItem(PHX_LV_DEBUG, \"false\") }\n\n  disableProfiling(){ this.sessionStorage.removeItem(PHX_LV_PROFILE) }\n\n  enableLatencySim(upperBoundMs){\n    this.enableDebug()\n    console.log(\"latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable\")\n    this.sessionStorage.setItem(PHX_LV_LATENCY_SIM, upperBoundMs)\n  }\n\n  disableLatencySim(){ this.sessionStorage.removeItem(PHX_LV_LATENCY_SIM) }\n\n  getLatencySim(){\n    let str = this.sessionStorage.getItem(PHX_LV_LATENCY_SIM)\n    return str ? parseInt(str) : null\n  }\n\n  getSocket(){ return this.socket }\n\n  connect(){\n    // enable debug by default if on localhost and not explicitly disabled\n    if(window.location.hostname === \"localhost\" && !this.isDebugDisabled()){ this.enableDebug() }\n    let doConnect = () => {\n      this.resetReloadStatus()\n      if(this.joinRootViews()){\n        this.bindTopLevelEvents()\n        this.socket.connect()\n      } else if(this.main){\n        this.socket.connect()\n      } else {\n        this.bindTopLevelEvents({dead: true})\n      }\n      this.joinDeadView()\n    }\n    if([\"complete\", \"loaded\", \"interactive\"].indexOf(document.readyState) >= 0){\n      doConnect()\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", () => doConnect())\n    }\n  }\n\n  disconnect(callback){\n    clearTimeout(this.reloadWithJitterTimer)\n    // remove the socket close listener to avoid trying to handle\n    // a server close event when it is actually caused by us disconnecting\n    if(this.serverCloseRef){\n      this.socket.off(this.serverCloseRef)\n      this.serverCloseRef = null\n    }\n    this.socket.disconnect(callback)\n  }\n\n  replaceTransport(transport){\n    clearTimeout(this.reloadWithJitterTimer)\n    this.socket.replaceTransport(transport)\n    this.connect()\n  }\n\n  execJS(el, encodedJS, eventType = null){\n    let e = new CustomEvent(\"phx:exec\", {detail: {sourceElement: el}})\n    this.owner(el, view => JS.exec(e, eventType, encodedJS, view, el))\n  }\n\n  // private\n\n  execJSHookPush(el, phxEvent, data, callback){\n    this.withinOwners(el, view => {\n      let e = new CustomEvent(\"phx:exec\", {detail: {sourceElement: el}})\n      JS.exec(e, \"hook\", phxEvent, view, el, [\"push\", {data, callback}])\n    })\n  }\n\n  unload(){\n    if(this.unloaded){ return }\n    if(this.main && this.isConnected()){ this.log(this.main, \"socket\", () => [\"disconnect for page nav\"]) }\n    this.unloaded = true\n    this.destroyAllViews()\n    this.disconnect()\n  }\n\n  triggerDOM(kind, args){ this.domCallbacks[kind](...args) }\n\n  time(name, func){\n    if(!this.isProfileEnabled() || !console.time){ return func() }\n    console.time(name)\n    let result = func()\n    console.timeEnd(name)\n    return result\n  }\n\n  log(view, kind, msgCallback){\n    if(this.viewLogger){\n      let [msg, obj] = msgCallback()\n      this.viewLogger(view, kind, msg, obj)\n    } else if(this.isDebugEnabled()){\n      let [msg, obj] = msgCallback()\n      debug(view, kind, msg, obj)\n    }\n  }\n\n  requestDOMUpdate(callback){\n    this.transitions.after(callback)\n  }\n\n  transition(time, onStart, onDone = function(){}){\n    this.transitions.addTransition(time, onStart, onDone)\n  }\n\n  onChannel(channel, event, cb){\n    channel.on(event, data => {\n      let latency = this.getLatencySim()\n      if(!latency){\n        cb(data)\n      } else {\n        setTimeout(() => cb(data), latency)\n      }\n    })\n  }\n\n  reloadWithJitter(view, log){\n    clearTimeout(this.reloadWithJitterTimer)\n    this.disconnect()\n    let minMs = this.reloadJitterMin\n    let maxMs = this.reloadJitterMax\n    let afterMs = Math.floor(Math.random() * (maxMs - minMs + 1)) + minMs\n    let tries = Browser.updateLocal(this.localStorage, window.location.pathname, CONSECUTIVE_RELOADS, 0, count => count + 1)\n    if(tries >= this.maxReloads){\n      afterMs = this.failsafeJitter\n    }\n    this.reloadWithJitterTimer = setTimeout(() => {\n      // if view has recovered, such as transport replaced, then cancel\n      if(view.isDestroyed() || view.isConnected()){ return }\n      view.destroy()\n      log ? log() : this.log(view, \"join\", () => [`encountered ${tries} consecutive reloads`])\n      if(tries >= this.maxReloads){\n        this.log(view, \"join\", () => [`exceeded ${this.maxReloads} consecutive reloads. Entering failsafe mode`])\n      }\n      if(this.hasPendingLink()){\n        window.location = this.pendingLink\n      } else {\n        window.location.reload()\n      }\n    }, afterMs)\n  }\n\n  getHookCallbacks(name){\n    return name && name.startsWith(\"Phoenix.\") ? Hooks[name.split(\".\")[1]] : this.hooks[name]\n  }\n\n  isUnloaded(){ return this.unloaded }\n\n  isConnected(){ return this.socket.isConnected() }\n\n  getBindingPrefix(){ return this.bindingPrefix }\n\n  binding(kind){ return `${this.getBindingPrefix()}${kind}` }\n\n  channel(topic, params){ return this.socket.channel(topic, params) }\n\n  joinDeadView(){\n    let body = document.body\n    if(body && !this.isPhxView(body) && !this.isPhxView(document.firstElementChild)){\n      let view = this.newRootView(body)\n      view.setHref(this.getHref())\n      view.joinDead()\n      if(!this.main){ this.main = view }\n      window.requestAnimationFrame(() => {\n        view.execNewMounted()\n        // restore scroll position when navigating from an external / non-live page\n        this.maybeScroll(history.state?.scroll)\n      })\n    }\n  }\n\n  joinRootViews(){\n    let rootsFound = false\n    DOM.all(document, `${PHX_VIEW_SELECTOR}:not([${PHX_PARENT_ID}])`, rootEl => {\n      if(!this.getRootById(rootEl.id)){\n        let view = this.newRootView(rootEl)\n        view.setHref(this.getHref())\n        view.join()\n        if(rootEl.hasAttribute(PHX_MAIN)){ this.main = view }\n      }\n      rootsFound = true\n    })\n    return rootsFound\n  }\n\n  redirect(to, flash, reloadToken){\n    if(reloadToken){ Browser.setCookie(PHX_RELOAD_STATUS, reloadToken, 60) }\n    this.unload()\n    Browser.redirect(to, flash)\n  }\n\n  replaceMain(href, flash, callback = null, linkRef = this.setPendingLink(href)){\n    let liveReferer = this.currentLocation.href\n    this.outgoingMainEl = this.outgoingMainEl || this.main.el\n    let removeEls = DOM.all(this.outgoingMainEl, `[${this.binding(\"remove\")}]`)\n    let newMainEl = DOM.cloneNode(this.outgoingMainEl, \"\")\n    this.main.showLoader(this.loaderTimeout)\n    this.main.destroy()\n\n    this.main = this.newRootView(newMainEl, flash, liveReferer)\n    this.main.setRedirect(href)\n    this.transitionRemoves(removeEls, true)\n    this.main.join((joinCount, onDone) => {\n      if(joinCount === 1 && this.commitPendingLink(linkRef)){\n        this.requestDOMUpdate(() => {\n          // remove phx-remove els right before we replace the main element\n          removeEls.forEach(el => el.remove())\n          DOM.findPhxSticky(document).forEach(el => newMainEl.appendChild(el))\n          this.outgoingMainEl.replaceWith(newMainEl)\n          this.outgoingMainEl = null\n          callback && callback(linkRef)\n          onDone()\n        })\n      }\n    })\n  }\n\n  transitionRemoves(elements, skipSticky, callback){\n    let removeAttr = this.binding(\"remove\")\n    if(skipSticky){\n      const stickies = DOM.findPhxSticky(document) || []\n      elements = elements.filter(el => !DOM.isChildOfAny(el, stickies))\n    }\n    let silenceEvents = (e) => {\n      e.preventDefault()\n      e.stopImmediatePropagation()\n    }\n    elements.forEach(el => {\n      // prevent all listeners we care about from bubbling to window\n      // since we are removing the element\n      for(let event of this.boundEventNames){\n        el.addEventListener(event, silenceEvents, true)\n      }\n      this.execJS(el, el.getAttribute(removeAttr), \"remove\")\n    })\n    // remove the silenced listeners when transitions are done incase the element is re-used\n    // and call caller's callback as soon as we are done with transitions\n    this.requestDOMUpdate(() => {\n      elements.forEach(el => {\n        for(let event of this.boundEventNames){\n          el.removeEventListener(event, silenceEvents, true)\n        }\n      })\n      callback && callback()\n    })\n  }\n\n  isPhxView(el){ return el.getAttribute && el.getAttribute(PHX_SESSION) !== null }\n\n  newRootView(el, flash, liveReferer){\n    let view = new View(el, this, null, flash, liveReferer)\n    this.roots[view.id] = view\n    return view\n  }\n\n  owner(childEl, callback){\n    let view = maybe(childEl.closest(PHX_VIEW_SELECTOR), el => this.getViewByEl(el)) || this.main\n    return view && callback ? callback(view) : view\n  }\n\n  withinOwners(childEl, callback){\n    this.owner(childEl, view => callback(view, childEl))\n  }\n\n  getViewByEl(el){\n    let rootId = el.getAttribute(PHX_ROOT_ID)\n    return maybe(this.getRootById(rootId), root => root.getDescendentByEl(el))\n  }\n\n  getRootById(id){ return this.roots[id] }\n\n  destroyAllViews(){\n    for(let id in this.roots){\n      this.roots[id].destroy()\n      delete this.roots[id]\n    }\n    this.main = null\n  }\n\n  destroyViewByEl(el){\n    let root = this.getRootById(el.getAttribute(PHX_ROOT_ID))\n    if(root && root.id === el.id){\n      root.destroy()\n      delete this.roots[root.id]\n    } else if(root){\n      root.destroyDescendent(el.id)\n    }\n  }\n\n  getActiveElement(){\n    return document.activeElement\n  }\n\n  dropActiveElement(view){\n    if(this.prevActive && view.ownsElement(this.prevActive)){\n      this.prevActive = null\n    }\n  }\n\n  restorePreviouslyActiveFocus(){\n    if(this.prevActive && this.prevActive !== document.body){\n      this.prevActive.focus()\n    }\n  }\n\n  blurActiveElement(){\n    this.prevActive = this.getActiveElement()\n    if(this.prevActive !== document.body){ this.prevActive.blur() }\n  }\n\n  bindTopLevelEvents({dead} = {}){\n    if(this.boundTopLevelEvents){ return }\n\n    this.boundTopLevelEvents = true\n    // enter failsafe reload if server has gone away intentionally, such as \"disconnect\" broadcast\n    this.serverCloseRef = this.socket.onClose(event => {\n      // failsafe reload if normal closure and we still have a main LV\n      if(event && event.code === 1000 && this.main){ return this.reloadWithJitter(this.main) }\n    })\n    document.body.addEventListener(\"click\", function (){ }) // ensure all click events bubble for mobile Safari\n    window.addEventListener(\"pageshow\", e => {\n      if(e.persisted){ // reload page if being restored from back/forward cache\n        this.getSocket().disconnect()\n        this.withPageLoading({to: window.location.href, kind: \"redirect\"})\n        window.location.reload()\n      }\n    }, true)\n    if(!dead){ this.bindNav() }\n    this.bindClicks()\n    if(!dead){ this.bindForms() }\n    this.bind({keyup: \"keyup\", keydown: \"keydown\"}, (e, type, view, targetEl, phxEvent, _phxTarget) => {\n      let matchKey = targetEl.getAttribute(this.binding(PHX_KEY))\n      let pressedKey = e.key && e.key.toLowerCase() // chrome clicked autocompletes send a keydown without key\n      if(matchKey && matchKey.toLowerCase() !== pressedKey){ return }\n\n      let data = {key: e.key, ...this.eventMeta(type, e, targetEl)}\n      JS.exec(e, type, phxEvent, view, targetEl, [\"push\", {data}])\n    })\n    this.bind({blur: \"focusout\", focus: \"focusin\"}, (e, type, view, targetEl, phxEvent, phxTarget) => {\n      if(!phxTarget){\n        let data = {key: e.key, ...this.eventMeta(type, e, targetEl)}\n        JS.exec(e, type, phxEvent, view, targetEl, [\"push\", {data}])\n      }\n    })\n    this.bind({blur: \"blur\", focus: \"focus\"}, (e, type, view, targetEl, phxEvent, phxTarget) => {\n      // blur and focus are triggered on document and window. Discard one to avoid dups\n      if(phxTarget === \"window\"){\n        let data = this.eventMeta(type, e, targetEl)\n        JS.exec(e, type, phxEvent, view, targetEl, [\"push\", {data}])\n      }\n    })\n    this.on(\"dragover\", e => e.preventDefault())\n    this.on(\"drop\", e => {\n      e.preventDefault()\n      let dropTargetId = maybe(closestPhxBinding(e.target, this.binding(PHX_DROP_TARGET)), trueTarget => {\n        return trueTarget.getAttribute(this.binding(PHX_DROP_TARGET))\n      })\n      let dropTarget = dropTargetId && document.getElementById(dropTargetId)\n      let files = Array.from(e.dataTransfer.files || [])\n      if(!dropTarget || dropTarget.disabled || files.length === 0 || !(dropTarget.files instanceof FileList)){ return }\n\n      LiveUploader.trackFiles(dropTarget, files, e.dataTransfer)\n      dropTarget.dispatchEvent(new Event(\"input\", {bubbles: true}))\n    })\n    this.on(PHX_TRACK_UPLOADS, e => {\n      let uploadTarget = e.target\n      if(!DOM.isUploadInput(uploadTarget)){ return }\n      let files = Array.from(e.detail.files || []).filter(f => f instanceof File || f instanceof Blob)\n      LiveUploader.trackFiles(uploadTarget, files)\n      uploadTarget.dispatchEvent(new Event(\"input\", {bubbles: true}))\n    })\n  }\n\n  eventMeta(eventName, e, targetEl){\n    let callback = this.metadataCallbacks[eventName]\n    return callback ? callback(e, targetEl) : {}\n  }\n\n  setPendingLink(href){\n    this.linkRef++\n    this.pendingLink = href\n    this.resetReloadStatus()\n    return this.linkRef\n  }\n\n  // anytime we are navigating or connecting, drop reload cookie in case\n  // we issue the cookie but the next request was interrupted and the server never dropped it\n  resetReloadStatus(){ Browser.deleteCookie(PHX_RELOAD_STATUS) }\n\n  commitPendingLink(linkRef){\n    if(this.linkRef !== linkRef){\n      return false\n    } else {\n      this.href = this.pendingLink\n      this.pendingLink = null\n      return true\n    }\n  }\n\n  getHref(){ return this.href }\n\n  hasPendingLink(){ return !!this.pendingLink }\n\n  bind(events, callback){\n    for(let event in events){\n      let browserEventName = events[event]\n\n      this.on(browserEventName, e => {\n        let binding = this.binding(event)\n        let windowBinding = this.binding(`window-${event}`)\n        let targetPhxEvent = e.target.getAttribute && e.target.getAttribute(binding)\n        if(targetPhxEvent){\n          this.debounce(e.target, e, browserEventName, () => {\n            this.withinOwners(e.target, view => {\n              callback(e, event, view, e.target, targetPhxEvent, null)\n            })\n          })\n        } else {\n          DOM.all(document, `[${windowBinding}]`, el => {\n            let phxEvent = el.getAttribute(windowBinding)\n            this.debounce(el, e, browserEventName, () => {\n              this.withinOwners(el, view => {\n                callback(e, event, view, el, phxEvent, \"window\")\n              })\n            })\n          })\n        }\n      })\n    }\n  }\n\n  bindClicks(){\n    this.on(\"mousedown\", e => this.clickStartedAtTarget = e.target)\n    this.bindClick(\"click\", \"click\")\n  }\n\n  bindClick(eventName, bindingName){\n    let click = this.binding(bindingName)\n    window.addEventListener(eventName, e => {\n      let target = null\n      // a synthetic click event (detail 0) will not have caused a mousedown event,\n      // therefore the clickStartedAtTarget is stale\n      if(e.detail === 0) this.clickStartedAtTarget = e.target\n      let clickStartedAtTarget = this.clickStartedAtTarget || e.target\n      // when searching the target for the click event, we always want to\n      // use the actual event target, see #3372\n      target = closestPhxBinding(e.target, click)\n      this.dispatchClickAway(e, clickStartedAtTarget)\n      this.clickStartedAtTarget = null\n      let phxEvent = target && target.getAttribute(click)\n      if(!phxEvent){\n        if(DOM.isNewPageClick(e, window.location)){ this.unload() }\n        return\n      }\n\n      if(target.getAttribute(\"href\") === \"#\"){ e.preventDefault() }\n\n      // noop if we are in the middle of awaiting an ack for this el already\n      if(target.hasAttribute(PHX_REF_SRC)){ return }\n\n      this.debounce(target, e, \"click\", () => {\n        this.withinOwners(target, view => {\n          JS.exec(e, \"click\", phxEvent, view, target, [\"push\", {data: this.eventMeta(\"click\", e, target)}])\n        })\n      })\n    }, false)\n  }\n\n  dispatchClickAway(e, clickStartedAt){\n    let phxClickAway = this.binding(\"click-away\")\n    DOM.all(document, `[${phxClickAway}]`, el => {\n      if(!(el.isSameNode(clickStartedAt) || el.contains(clickStartedAt))){\n        this.withinOwners(el, view => {\n          let phxEvent = el.getAttribute(phxClickAway)\n          if(JS.isVisible(el) && JS.isInViewport(el)){\n            JS.exec(e, \"click\", phxEvent, view, el, [\"push\", {data: this.eventMeta(\"click\", e, e.target)}])\n          }\n        })\n      }\n    })\n  }\n\n  bindNav(){\n    if(!Browser.canPushState()){ return }\n    if(history.scrollRestoration){ history.scrollRestoration = \"manual\" }\n    let scrollTimer = null\n    window.addEventListener(\"scroll\", _e => {\n      clearTimeout(scrollTimer)\n      scrollTimer = setTimeout(() => {\n        Browser.updateCurrentState(state => Object.assign(state, {scroll: window.scrollY}))\n      }, 100)\n    })\n    window.addEventListener(\"popstate\", event => {\n      if(!this.registerNewLocation(window.location)){ return }\n      let {type, backType, id, root, scroll, position} = event.state || {}\n      let href = window.location.href\n\n      // Compare positions to determine direction\n      let isForward = position > this.currentHistoryPosition\n\n      type = isForward ? type : (backType || type)\n\n      // Update current position\n      this.currentHistoryPosition = position || 0\n      this.sessionStorage.setItem(PHX_LV_HISTORY_POSITION, this.currentHistoryPosition.toString())\n\n      DOM.dispatchEvent(window, \"phx:navigate\", {detail: {href, patch: type === \"patch\", pop: true, direction: isForward ? \"forward\" : \"backward\"}})\n      this.requestDOMUpdate(() => {\n        if(this.main.isConnected() && (type === \"patch\" && id === this.main.id)){\n          this.main.pushLinkPatch(event, href, null, () => {\n            this.maybeScroll(scroll)\n          })\n        } else {\n          this.replaceMain(href, null, () => {\n            if(root){ this.replaceRootHistory() }\n            this.maybeScroll(scroll)\n          })\n        }\n      })\n    }, false)\n    window.addEventListener(\"click\", e => {\n      let target = closestPhxBinding(e.target, PHX_LIVE_LINK)\n      let type = target && target.getAttribute(PHX_LIVE_LINK)\n      if(!type || !this.isConnected() || !this.main || DOM.wantsNewTab(e)){ return }\n\n      // When wrapping an SVG element in an anchor tag, the href can be an SVGAnimatedString\n      let href = target.href instanceof SVGAnimatedString ? target.href.baseVal : target.href\n\n      let linkState = target.getAttribute(PHX_LINK_STATE)\n      e.preventDefault()\n      e.stopImmediatePropagation() // do not bubble click to regular phx-click bindings\n      if(this.pendingLink === href){ return }\n\n      this.requestDOMUpdate(() => {\n        if(type === \"patch\"){\n          this.pushHistoryPatch(e, href, linkState, target)\n        } else if(type === \"redirect\"){\n          this.historyRedirect(e, href, linkState, null, target)\n        } else {\n          throw new Error(`expected ${PHX_LIVE_LINK} to be \"patch\" or \"redirect\", got: ${type}`)\n        }\n        let phxClick = target.getAttribute(this.binding(\"click\"))\n        if(phxClick){\n          this.requestDOMUpdate(() => this.execJS(target, phxClick, \"click\"))\n        }\n      })\n    }, false)\n  }\n\n  maybeScroll(scroll){\n    if(typeof(scroll) === \"number\"){\n      requestAnimationFrame(() => {\n        window.scrollTo(0, scroll)\n      }) // the body needs to render before we scroll.\n    }\n  }\n\n  dispatchEvent(event, payload = {}){\n    DOM.dispatchEvent(window, `phx:${event}`, {detail: payload})\n  }\n\n  dispatchEvents(events){\n    events.forEach(([event, payload]) => this.dispatchEvent(event, payload))\n  }\n\n  withPageLoading(info, callback){\n    DOM.dispatchEvent(window, \"phx:page-loading-start\", {detail: info})\n    let done = () => DOM.dispatchEvent(window, \"phx:page-loading-stop\", {detail: info})\n    return callback ? callback(done) : done\n  }\n\n  pushHistoryPatch(e, href, linkState, targetEl){\n    if(!this.isConnected() || !this.main.isMain()){ return Browser.redirect(href) }\n\n    this.withPageLoading({to: href, kind: \"patch\"}, done => {\n      this.main.pushLinkPatch(e, href, targetEl, linkRef => {\n        this.historyPatch(href, linkState, linkRef)\n        done()\n      })\n    })\n  }\n\n  historyPatch(href, linkState, linkRef = this.setPendingLink(href)){\n    if(!this.commitPendingLink(linkRef)){ return }\n\n    // Increment position for new state\n    this.currentHistoryPosition++\n    this.sessionStorage.setItem(PHX_LV_HISTORY_POSITION, this.currentHistoryPosition.toString())\n\n    // store the type for back navigation\n    Browser.updateCurrentState((state) => ({...state, backType: \"patch\"}))\n\n    Browser.pushState(linkState, {\n      type: \"patch\",\n      id: this.main.id,\n      position: this.currentHistoryPosition\n    }, href)\n\n    DOM.dispatchEvent(window, \"phx:navigate\", {detail: {patch: true, href, pop: false, direction: \"forward\"}})\n    this.registerNewLocation(window.location)\n  }\n\n  historyRedirect(e, href, linkState, flash, targetEl){\n    if(targetEl && e.isTrusted && e.type !== \"popstate\"){ targetEl.classList.add(\"phx-click-loading\") }\n    if(!this.isConnected() || !this.main.isMain()){ return Browser.redirect(href, flash) }\n\n    // convert to full href if only path prefix\n    if(/^\\/$|^\\/[^\\/]+.*$/.test(href)){\n      let {protocol, host} = window.location\n      href = `${protocol}//${host}${href}`\n    }\n    let scroll = window.scrollY\n    this.withPageLoading({to: href, kind: \"redirect\"}, done => {\n      this.replaceMain(href, flash, (linkRef) => {\n        if(linkRef === this.linkRef){\n          // Increment position for new state\n          this.currentHistoryPosition++\n          this.sessionStorage.setItem(PHX_LV_HISTORY_POSITION, this.currentHistoryPosition.toString())\n\n          // store the type for back navigation\n          Browser.updateCurrentState((state) => ({...state, backType: \"redirect\"}))\n\n          Browser.pushState(linkState, {\n            type: \"redirect\",\n            id: this.main.id,\n            scroll: scroll,\n            position: this.currentHistoryPosition\n          }, href)\n\n          DOM.dispatchEvent(window, \"phx:navigate\", {detail: {href, patch: false, pop: false, direction: \"forward\"}})\n          this.registerNewLocation(window.location)\n        }\n        done()\n      })\n    })\n  }\n\n  replaceRootHistory(){\n    Browser.pushState(\"replace\", {\n      root: true,\n      type: \"patch\",\n      id: this.main.id,\n      position: this.currentHistoryPosition // Preserve current position\n    })\n  }\n\n  registerNewLocation(newLocation){\n    let {pathname, search} = this.currentLocation\n    if(pathname + search === newLocation.pathname + newLocation.search){\n      return false\n    } else {\n      this.currentLocation = clone(newLocation)\n      return true\n    }\n  }\n\n  bindForms(){\n    let iterations = 0\n    let externalFormSubmitted = false\n\n    // disable forms on submit that track phx-change but perform external submit\n    this.on(\"submit\", e => {\n      let phxSubmit = e.target.getAttribute(this.binding(\"submit\"))\n      let phxChange = e.target.getAttribute(this.binding(\"change\"))\n      if(!externalFormSubmitted && phxChange && !phxSubmit){\n        externalFormSubmitted = true\n        e.preventDefault()\n        this.withinOwners(e.target, view => {\n          view.disableForm(e.target)\n          // safari needs next tick\n          window.requestAnimationFrame(() => {\n            if(DOM.isUnloadableFormSubmit(e)){ this.unload() }\n            e.target.submit()\n          })\n        })\n      }\n    })\n\n    this.on(\"submit\", e => {\n      let phxEvent = e.target.getAttribute(this.binding(\"submit\"))\n      if(!phxEvent){\n        if(DOM.isUnloadableFormSubmit(e)){ this.unload() }\n        return\n      }\n      e.preventDefault()\n      e.target.disabled = true\n      this.withinOwners(e.target, view => {\n        JS.exec(e, \"submit\", phxEvent, view, e.target, [\"push\", {submitter: e.submitter}])\n      })\n    })\n\n    for(let type of [\"change\", \"input\"]){\n      this.on(type, e => {\n        if(e instanceof CustomEvent && e.target.form === undefined){\n          // throw on invalid JS.dispatch target and noop if CustomEvent triggered outside JS.dispatch\n          if(e.detail && e.detail.dispatcher){\n            throw new Error(`dispatching a custom ${type} event is only supported on input elements inside a form`)\n          }\n          return\n        }\n        let phxChange = this.binding(\"change\")\n        let input = e.target\n        // do not fire phx-change if we are in the middle of a composition session\n        // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/isComposing\n        // Safari has issues if the input is updated while composing\n        // see https://github.com/phoenixframework/phoenix_live_view/issues/3322\n        if(e.isComposing){\n          const key = `composition-listener-${type}`\n          if(!DOM.private(input, key)){\n            DOM.putPrivate(input, key, true)\n            input.addEventListener(\"compositionend\", () => {\n              // trigger a new input/change event\n              input.dispatchEvent(new Event(type, {bubbles: true}))\n              DOM.deletePrivate(input, key)\n            }, {once: true})\n          }\n          return\n        }\n        let inputEvent = input.getAttribute(phxChange)\n        let formEvent = input.form && input.form.getAttribute(phxChange)\n        let phxEvent = inputEvent || formEvent\n        if(!phxEvent){ return }\n        if(input.type === \"number\" && input.validity && input.validity.badInput){ return }\n\n        let dispatcher = inputEvent ? input : input.form\n        let currentIterations = iterations\n        iterations++\n        let {at: at, type: lastType} = DOM.private(input, \"prev-iteration\") || {}\n        // Browsers should always fire at least one \"input\" event before every \"change\"\n        // Ignore \"change\" events, unless there was no prior \"input\" event.\n        // This could happen if user code triggers a \"change\" event, or if the browser is non-conforming.\n        if(at === currentIterations - 1 && type === \"change\" && lastType === \"input\"){ return }\n\n        DOM.putPrivate(input, \"prev-iteration\", {at: currentIterations, type: type})\n\n        this.debounce(input, e, type, () => {\n          this.withinOwners(dispatcher, view => {\n            DOM.putPrivate(input, PHX_HAS_FOCUSED, true)\n            JS.exec(e, \"change\", phxEvent, view, input, [\"push\", {_target: e.target.name, dispatcher: dispatcher}])\n          })\n        })\n      })\n    }\n    this.on(\"reset\", (e) => {\n      let form = e.target\n      DOM.resetForm(form)\n      let input = Array.from(form.elements).find(el => el.type === \"reset\")\n      if(input){\n        // wait until next tick to get updated input value\n        window.requestAnimationFrame(() => {\n          input.dispatchEvent(new Event(\"input\", {bubbles: true, cancelable: false}))\n        })\n      }\n    })\n  }\n\n  debounce(el, event, eventType, callback){\n    if(eventType === \"blur\" || eventType === \"focusout\"){ return callback() }\n\n    let phxDebounce = this.binding(PHX_DEBOUNCE)\n    let phxThrottle = this.binding(PHX_THROTTLE)\n    let defaultDebounce = this.defaults.debounce.toString()\n    let defaultThrottle = this.defaults.throttle.toString()\n\n    this.withinOwners(el, view => {\n      let asyncFilter = () => !view.isDestroyed() && document.body.contains(el)\n      DOM.debounce(el, event, phxDebounce, defaultDebounce, phxThrottle, defaultThrottle, asyncFilter, () => {\n        callback()\n      })\n    })\n  }\n\n  silenceEvents(callback){\n    this.silenced = true\n    callback()\n    this.silenced = false\n  }\n\n  on(event, callback){\n    this.boundEventNames.add(event)\n    window.addEventListener(event, e => {\n      if(!this.silenced){ callback(e) }\n    })\n  }\n\n  jsQuerySelectorAll(sourceEl, query, defaultQuery){\n    let all = this.domCallbacks.jsQuerySelectorAll\n    return all ? all(sourceEl, query, defaultQuery) : defaultQuery()\n  }\n}\n\nclass TransitionSet {\n  constructor(){\n    this.transitions = new Set()\n    this.pendingOps = []\n  }\n\n  reset(){\n    this.transitions.forEach(timer => {\n      clearTimeout(timer)\n      this.transitions.delete(timer)\n    })\n    this.flushPendingOps()\n  }\n\n  after(callback){\n    if(this.size() === 0){\n      callback()\n    } else {\n      this.pushPendingOp(callback)\n    }\n  }\n\n  addTransition(time, onStart, onDone){\n    onStart()\n    let timer = setTimeout(() => {\n      this.transitions.delete(timer)\n      onDone()\n      this.flushPendingOps()\n    }, time)\n    this.transitions.add(timer)\n  }\n\n  pushPendingOp(op){ this.pendingOps.push(op) }\n\n  size(){ return this.transitions.size }\n\n  flushPendingOps(){\n    if(this.size() > 0){ return }\n    let op = this.pendingOps.shift()\n    if(op){\n      op()\n      this.flushPendingOps()\n    }\n  }\n}\n", "/*\n================================================================================\nPhoenix LiveView JavaScript Client\n================================================================================\n\nSee the hexdocs at `https://hexdocs.pm/phoenix_live_view` for documentation.\n\n*/\n\nimport LiveSocket, {isUsedInput} from \"./live_socket\"\nimport DOM from \"./dom\"\nimport ViewHook from \"./view_hook\"\nimport View from \"./view\"\n\n/** Creates a ViewHook instance for the given element and callbacks.\n *\n * @param {HTMLElement} el - The element to associate with the hook.\n * @param {Object} [callbacks] - The list of hook callbacks, such as mounted,\n *   updated, destroyed, etc.\n *\n * @example\n *\n * class MyComponent extends HTMLElement {\n *   connectedCallback(){\n *     let onLiveViewMounted = () => this.hook.pushEvent(...))\n *     this.hook = createHook(this, {mounted: onLiveViewMounted})\n *   }\n * }\n *\n * *Note*: `createHook` must be called from the `connectedCallback` lifecycle\n * which is triggered after the element has been added to the DOM. If you try\n * to call `createHook` from the constructor, an error will be logged.\n *\n * @returns {ViewHook} Returns the ViewHook instance for the custom element.\n */\nlet createHook = (el, callbacks = {}) => {\n  let existingHook = DOM.getCustomElHook(el)\n  if(existingHook){ return existingHook }\n\n  let hook = new ViewHook(View.closestView(el), el, callbacks)\n  DOM.putCustomElHook(el, hook)\n  return hook\n}\n\nexport {\n  LiveSocket,\n  isUsedInput,\n  createHook\n}\n", "// If you want to use Phoenix channels, run `mix help phx.gen.channel`\n// to get started and then uncomment the line below.\n// import \"./user_socket.js\"\n\n// You can include dependencies in two ways.\n//\n// The simplest option is to put them in assets/vendor and\n// import them using relative paths:\n//\n//     import \"../vendor/some-package.js\"\n//\n// Alternatively, you can `npm install some-package --prefix assets` and import\n// them using a path starting with the package name:\n//\n//     import \"some-package\"\n//\n\n// Include phoenix_html to handle method=PUT/DELETE in forms and buttons.\nimport \"phoenix_html\"\n// Establish Phoenix Socket and LiveView configuration.\nimport { Socket } from \"phoenix\"\nimport { LiveSocket } from \"phoenix_live_view\"\nimport topbar from \"../vendor/topbar\"\nimport sortable from \"./hooks/sortable\"\nimport markdown from \"./hooks/markdown\"\nimport S3Uploader from './uploaders/s3'\nimport LocalLocaleStorage from './hooks/local_locale_storage'\nimport \"flowbite/dist/flowbite.phoenix.js\";\n\nconst Hooks = { Drag: sortable, Markdown: markdown, LocalLocaleStorage: LocalLocaleStorage }\n\nlet csrfToken = document.querySelector(\"meta[name='csrf-token']\").getAttribute(\"content\")\nlet liveSocket = new LiveSocket(\"/live\", Socket, {\n  longPollFallbackMs: 2500,\n  params: { _csrf_token: csrfToken },\n  uploaders: { S3: S3Uploader },\n  hooks: Hooks,\n})\n\n// Show progress bar on live navigation and form submits\ntopbar.config({ barColors: { 0: \"#29d\" }, shadowColor: \"rgba(0, 0, 0, .3)\" })\nwindow.addEventListener(\"phx:page-loading-start\", _info => topbar.show(300))\nwindow.addEventListener(\"phx:page-loading-stop\", _info => topbar.hide())\n\n// connect if there are any LiveViews on the page\nliveSocket.connect()\n\n// expose liveSocket on window for web console debug logs and latency simulation:\n// >> liveSocket.enableDebug()\n// >> liveSocket.enableLatencySim(1000)  // enabled for duration of browser session\n// >> liveSocket.disableLatencySim()\nwindow.liveSocket = liveSocket\n", "/**!\n * Sortable 1.15.4\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.4\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction matches( /**HTMLElement*/el, /**String*/selector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n  return false;\n}\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\nfunction closest( /**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n  return null;\n}\nvar R_SPACE = /\\s+/g;\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\nfunction css(el, prop, val) {\n  var style = el && el.style;\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n    } while (!selfOnly && (el = el.parentNode));\n  }\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n  return matrixFn && new matrixFn(appliedTransforms);\n}\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n      i = 0,\n      n = list.length;\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n    return list;\n  }\n  return [];\n}\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode;\n\n    // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect();\n\n          // Set relative to edges of padding box of container\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n      } while (container = container.parentNode);\n    }\n  }\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n      scaleX = elMatrix && elMatrix.a,\n      scaleY = elMatrix && elMatrix.d;\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n    elSideVal = getRect(el)[elSide];\n\n  /* jshint boss:true */\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n      visible = void 0;\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n  return false;\n}\n\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n    i = 0,\n    children = el.children;\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n      currentChild++;\n    }\n    i++;\n  }\n  return null;\n}\n\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n  return last || null;\n}\n\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\nfunction index(el, selector) {\n  var index = 0;\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n\n  /* jshint boss:true */\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n  return index;\n}\n\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n    offsetTop = 0,\n    winScroller = getWindowScrollingElement();\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n        scaleX = elMatrix.a,\n        scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n  return [offsetLeft, offsetTop];\n}\n\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n  return -1;\n}\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n  } while (elem = elem.parentNode);\n  return getWindowScrollingElement();\n}\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n  return dst;\n}\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\nvar _throttleTimeout;\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n        _this = this;\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\nfunction getChildContainingRectFromElement(container, options, ghostEl) {\n  var rect = {};\n  Array.from(container.children).forEach(function (child) {\n    var _rect$left, _rect$top, _rect$right, _rect$bottom;\n    if (!closest(child, options.draggable, container, false) || child.animated || child === ghostEl) return;\n    var childRect = getRect(child);\n    rect.left = Math.min((_rect$left = rect.left) !== null && _rect$left !== void 0 ? _rect$left : Infinity, childRect.left);\n    rect.top = Math.min((_rect$top = rect.top) !== null && _rect$top !== void 0 ? _rect$top : Infinity, childRect.top);\n    rect.right = Math.max((_rect$right = rect.right) !== null && _rect$right !== void 0 ? _rect$right : -Infinity, childRect.right);\n    rect.bottom = Math.max((_rect$bottom = rect.bottom) !== null && _rect$bottom !== void 0 ? _rect$bottom : -Infinity, childRect.bottom);\n  });\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n    animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect);\n\n        // If animating: compensate for current animation\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n      var animating = false,\n        animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n          target = state.target,\n          fromRect = target.fromRect,\n          toRect = getRect(target),\n          prevFromRect = target.prevFromRect,\n          prevToRect = target.prevToRect,\n          animatingRect = state.rect,\n          targetMatrix = matrix(target, true);\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n        target.toRect = toRect;\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) &&\n          // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        }\n\n        // if fromRect != toRect: animate\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n          if (!time) {\n            time = _this.options.animation;\n          }\n          _this.animate(target, animatingRect, toRect, time);\n        }\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n          scaleX = elMatrix && elMatrix.a,\n          scaleY = elMatrix && elMatrix.d,\n          translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n          translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\nfunction repaint(target) {\n  return target.offsetWidth;\n}\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n    this.eventCanceled = false;\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return;\n      // Fire global events if it exists in this sortable\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n\n      // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized;\n\n      // Add default options from plugin\n      _extends(defaults, initialized.defaults);\n    });\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return;\n\n      // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n    rootEl = _ref.rootEl,\n    name = _ref.name,\n    targetEl = _ref.targetEl,\n    cloneEl = _ref.cloneEl,\n    toEl = _ref.toEl,\n    fromEl = _ref.fromEl,\n    oldIndex = _ref.oldIndex,\n    newIndex = _ref.newIndex,\n    oldDraggableIndex = _ref.oldDraggableIndex,\n    newDraggableIndex = _ref.newDraggableIndex,\n    originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n    options = sortable.options,\n    onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    originalEvent = _ref.evt,\n    data = _objectWithoutProperties(_ref, _excluded);\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\nvar dragEl,\n  parentEl,\n  ghostEl,\n  rootEl,\n  nextEl,\n  lastDownEl,\n  cloneEl,\n  cloneHidden,\n  oldIndex,\n  newIndex,\n  oldDraggableIndex,\n  newDraggableIndex,\n  activeGroup,\n  putSortable,\n  awaitingDragStarted = false,\n  ignoreNextClick = false,\n  sortables = [],\n  tapEvt,\n  touchEvt,\n  lastDx,\n  lastDy,\n  tapDistanceLeft,\n  tapDistanceTop,\n  moved,\n  lastTarget,\n  lastDirection,\n  pastFirstInvertThresh = false,\n  isCircumstantialInvert = false,\n  targetMoveDistance,\n  // For positioning ghost absolutely\n  ghostRelativeParent,\n  ghostRelativeParentInitialScroll = [],\n  // (left, top)\n\n  _silent = false,\n  savedInputChecked = [];\n\n/** @const */\nvar documentExists = typeof document !== 'undefined',\n  PositionGhostAbsolutely = IOS,\n  CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n  // This will not pass for IE9, because IE9 DnD only works on anchors\n  supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n  supportCssPointerEvents = function () {\n    if (!documentExists) return;\n    // false when <= IE11\n    if (IE11OrLess) {\n      return false;\n    }\n    var el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n  _detectDirection = function _detectDirection(el, options) {\n    var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n    if (elCSS.display === 'flex') {\n      return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n    }\n    if (elCSS.display === 'grid') {\n      return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n    }\n    if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n      var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n      return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n    }\n    return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n  },\n  _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n    var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n    return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n  },\n  /**\r\n   * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n   * @param  {Number} x      X position\r\n   * @param  {Number} y      Y position\r\n   * @return {HTMLElement}   Element of the first found nearest Sortable\r\n   */\n  _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n    var ret;\n    sortables.some(function (sortable) {\n      var threshold = sortable[expando].options.emptyInsertThreshold;\n      if (!threshold || lastChild(sortable)) return;\n      var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n      if (insideHorizontally && insideVertically) {\n        return ret = sortable;\n      }\n    });\n    return ret;\n  },\n  _prepareGroup = function _prepareGroup(options) {\n    function toFn(value, pull) {\n      return function (to, from, dragEl, evt) {\n        var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n        if (value == null && (pull || sameGroup)) {\n          // Default pull value\n          // Default pull and put value if same group\n          return true;\n        } else if (value == null || value === false) {\n          return false;\n        } else if (pull && value === 'clone') {\n          return value;\n        } else if (typeof value === 'function') {\n          return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n        } else {\n          var otherGroup = (pull ? to : from).options.group.name;\n          return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n        }\n      };\n    }\n    var group = {};\n    var originalGroup = options.group;\n    if (!originalGroup || _typeof(originalGroup) != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  },\n  _hideGhostForTarget = function _hideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', 'none');\n    }\n  },\n  _unhideGhostForTarget = function _unhideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', '');\n    }\n  };\n\n// #1184 fix - Prevent click event on fallback if dragged but item not changed position\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n  this.el = el; // root element\n  this.options = options = _extends({}, options);\n\n  // Export instance\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults);\n\n  // Set default options\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n  _prepareGroup(options);\n\n  // Bind all private methods\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  }\n\n  // Setup drag mode\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  }\n\n  // Bind events\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n  sortables.push(this.el);\n\n  // Restore sorting\n  options.store && options.store.get && this.sort(options.store.get(this) || []);\n\n  // Add animation state manager\n  _extends(this, AnimationStateManager());\n}\nSortable.prototype = /** @lends Sortable.prototype */{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart( /** Event|TouchEvent */evt) {\n    if (!evt.cancelable) return;\n    var _this = this,\n      el = this.el,\n      options = this.options,\n      preventOnFilter = options.preventOnFilter,\n      type = evt.type,\n      touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n      target = (touch || evt).target,\n      originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n      filter = options.filter;\n    _saveInputCheckedState(el);\n\n    // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n    if (dragEl) {\n      return;\n    }\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    }\n\n    // cancel dnd if original target is content editable\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    // Safari ignores further event handling after mousedown\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n    target = closest(target, options.draggable, el, false);\n    if (target && target.animated) {\n      return;\n    }\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    }\n\n    // Get the index of the dragged element within its parent\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable);\n\n    // Check filter\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n      if (filter) {\n        preventOnFilter && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    }\n\n    // Prepare `dragstart`\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart( /** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n    var _this = this,\n      el = _this.el,\n      options = _this.options,\n      ownerDocument = el.ownerDocument,\n      dragStartFn;\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n          return;\n        }\n        // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n        _this._disableDelayedDragEvents();\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        }\n\n        // Bind the events: dragstart/dragend\n        _this._triggerDragStart(evt, touch);\n\n        // Drag start event\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        });\n\n        // Chosen item\n        toggleClass(dragEl, options.chosenClass, true);\n      };\n\n      // Disable \"draggable\"\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      if (options.supportPointer) {\n        on(ownerDocument, 'pointerup', _this._onDrop);\n        // Native D&D triggers pointercancel\n        !this.nativeDraggable && on(ownerDocument, 'pointercancel', _this._onDrop);\n      } else {\n        on(ownerDocument, 'mouseup', _this._onDrop);\n        on(ownerDocument, 'touchend', _this._onDrop);\n        on(ownerDocument, 'touchcancel', _this._onDrop);\n      }\n\n      // Make dragEl draggable (must be before delay for FireFox)\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n      pluginEvent('delayStart', this, {\n        evt: evt\n      });\n\n      // Delay is impossible for native DnD in Edge or IE\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n          return;\n        }\n        // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n        if (options.supportPointer) {\n          on(ownerDocument, 'pointerup', _this._disableDelayedDrag);\n          on(ownerDocument, 'pointercancel', _this._disableDelayedDrag);\n        } else {\n          on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        }\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler( /** TouchEvent|PointerEvent **/e) {\n    var touch = e.touches ? e.touches[0] : e;\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'pointerup', this._disableDelayedDrag);\n    off(ownerDocument, 'pointercancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart( /** Event */evt, /** Touch */touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n    try {\n      _nextTick(function () {\n        if (document.selection) {\n          document.selection.empty();\n        } else {\n          window.getSelection().removeAllRanges();\n        }\n      });\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n    awaitingDragStarted = false;\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n      var options = this.options;\n\n      // Apply effect\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost();\n\n      // Drag start event\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n      _hideGhostForTarget();\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n          target = parent; // store last element\n        }\n        /* jshint boss:true */ while (parent = getParentOrHost(parent));\n      }\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove( /**TouchEvent*/evt) {\n    if (tapEvt) {\n      var options = this.options,\n        fallbackTolerance = options.fallbackTolerance,\n        fallbackOffset = options.fallbackOffset,\n        touch = evt.touches ? evt.touches[0] : evt,\n        ghostMatrix = ghostEl && matrix(ghostEl, true),\n        scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n        scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n        relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n        dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n        dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1);\n\n      // only set the status to dragging, when we are actually dragging\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n        this._onDragStart(evt, true);\n      }\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n        rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n        options = this.options;\n\n      // Position absolutely\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl);\n\n      // Set transform-origin\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart( /**Event*/evt, /**boolean*/fallback) {\n    var _this = this;\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n      return;\n    }\n    pluginEvent('setupClone', this);\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n      this._hideClone();\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    }\n\n    // #1143: IFrame support workaround\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n      _this._hideClone();\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true);\n\n    // Set proper drop events\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n      on(document, 'drop', _this);\n\n      // #1276 fix:\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver( /**Event*/evt) {\n    var el = this.el,\n      target = evt.target,\n      dragRect,\n      targetRect,\n      revert,\n      options = this.options,\n      group = options.group,\n      activeSortable = Sortable.active,\n      isOwner = activeGroup === group,\n      canSort = options.sort,\n      fromSortable = putSortable || activeSortable,\n      vertical,\n      _this = this,\n      completedFired = false;\n    if (_silent) return;\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    }\n\n    // Capture animation state\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n      _this.captureAnimationState();\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    }\n\n    // Return invocation when dragEl is inserted (or completed)\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        }\n\n        // Animation\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      }\n\n      // Null lastTarget if it is not inside a previously swapped element\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      }\n\n      // no bubbling and not fallback\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\n        // Do not detect for empty insert if already inserted\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    }\n\n    // Call when dragEl has been inserted\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n    ignoreNextClick = false;\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n      if (revert) {\n        parentEl = rootEl; // actualization\n        capture();\n        this._hideClone();\n        dragOverEvent('revert');\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n        return completed(true);\n      }\n      var elLastChild = lastChild(el, options.draggable);\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        }\n\n        // if there is a last element, it is the target\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n        if (target) {\n          targetRect = getRect(target);\n        }\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n        target = firstChild;\n        targetRect = getRect(target);\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n          targetBeforeFirstSwap,\n          differentLevel = dragEl.parentNode !== el,\n          differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n          side1 = vertical ? 'top' : 'left',\n          scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n          scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        }\n        // If dragEl is already beside target: Do not insert\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n          after = false;\n        after = direction === 1;\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          }\n\n          // Undo chrome's scroll adjustment (has no effect on other browsers)\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n          parentEl = dragEl.parentNode; // actualization\n\n          // must be done before animation\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n          changed();\n          return completed(true);\n        }\n      }\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'pointercancel', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop( /**Event*/evt) {\n    var el = this.el,\n      options = this.options;\n\n    // Get the index of the dragged element within its parent\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode;\n\n    // Get again after plugin event\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    if (Sortable.eventCanceled) {\n      this._nulling();\n      return;\n    }\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n    _cancelNextTick(this.cloneId);\n    _cancelNextTick(this._dragStartId);\n\n    // Unbind events\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n    this._offMoveEvents();\n    this._offUpEvents();\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n    css(dragEl, 'transform', '');\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n        _disableDraggable(dragEl);\n        dragEl.style['will-change'] = '';\n\n        // Remove classes\n        // ghostClass is added in dragStarted\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n        toggleClass(dragEl, this.options.chosenClass, false);\n\n        // Drag stop event\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            // Remove event\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n\n            // drag from one list and drop into another\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          });\n\n          // Save sorting\n          this.save();\n        }\n      }\n    }\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent( /**Event*/evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n        break;\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n          _globalDragOver(evt);\n        }\n        break;\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n      el,\n      children = this.el.children,\n      i = 0,\n      n = children.length,\n      options = this.options;\n    for (; i < n; i++) {\n      el = children[i];\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n    return order;\n  },\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n      rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    }\n    // Remove draggable attributes\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n    this._onDrop();\n    this._disableDelayedDragEvents();\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n      return;\n    }\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return;\n\n      // show clone at dragEl or original position\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\nfunction _globalDragOver( /**Event*/evt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n  evt.cancelable && evt.preventDefault();\n}\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n    sortable = fromEl[expando],\n    onMoveFn = sortable.options.onMove,\n    retVal;\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n  return retVal;\n}\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\nfunction _unsilent() {\n  _silent = false;\n}\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var firstElRect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX < childContainingRect.left - spacer || evt.clientY < firstElRect.top && evt.clientX < firstElRect.right : evt.clientY < childContainingRect.top - spacer || evt.clientY < firstElRect.bottom && evt.clientX < firstElRect.left;\n}\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var lastElRect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX > childContainingRect.right + spacer || evt.clientY > lastElRect.bottom && evt.clientX > lastElRect.left : evt.clientY > childContainingRect.bottom + spacer || evt.clientX > lastElRect.right && evt.clientY > lastElRect.top;\n}\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n    targetLength = vertical ? targetRect.height : targetRect.width,\n    targetS1 = vertical ? targetRect.top : targetRect.left,\n    targetS2 = vertical ? targetRect.bottom : targetRect.right,\n    invert = false;\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n  invert = invert || invertSwap;\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n  return 0;\n}\n\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n    i = str.length,\n    sum = 0;\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n  return sum.toString(36);\n}\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n}\n\n// Fixed #973:\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n}\n\n// Export utils\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild,\n  expando: expando\n};\n\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\nSortable.get = function (element) {\n  return element[expando];\n};\n\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n};\n\n// Export\nSortable.version = version;\n\nvar autoScrolls = [],\n  scrollEl,\n  scrollRootEl,\n  scrolling = false,\n  lastAutoScrollX,\n  lastAutoScrollY,\n  touchEvt$1,\n  pointerElemChangedInterval;\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    };\n\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n        y = (evt.touches ? evt.touches[0] : evt).clientY,\n        elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt;\n\n      // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback);\n\n        // Listener for pointer element change\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval();\n          // Detect for pointer elem change, emulating native DnD behaviour\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n    y = (evt.touches ? evt.touches[0] : evt).clientY,\n    sens = options.scrollSensitivity,\n    speed = options.scrollSpeed,\n    winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n    scrollCustomFn;\n\n  // New scroll root, set scrollEl\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n  var layersOut = 0;\n  var currentParent = scrollEl;\n  do {\n    var el = currentParent,\n      rect = getRect(el),\n      top = rect.top,\n      bottom = rect.bottom,\n      left = rect.left,\n      right = rect.right,\n      width = rect.width,\n      height = rect.height,\n      canScrollX = void 0,\n      canScrollY = void 0,\n      scrollWidth = el.scrollWidth,\n      scrollHeight = el.scrollHeight,\n      elCSS = css(el),\n      scrollPosX = el.scrollLeft,\n      scrollPosY = el.scrollTop;\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n          }\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    dragEl = _ref.dragEl,\n    activeSortable = _ref.activeSortable,\n    dispatchSortableEvent = _ref.dispatchSortableEvent,\n    hideGhostForTarget = _ref.hideGhostForTarget,\n    unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\nfunction Revert() {}\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n      putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n    this.sortable.animateAll();\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\nfunction Remove() {}\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n      putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n        target = _ref2.target,\n        onMove = _ref2.onMove,\n        activeSortable = _ref2.activeSortable,\n        changed = _ref2.changed,\n        cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n        options = this.options;\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n        putSortable = _ref3.putSortable,\n        dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n    p2 = n2.parentNode,\n    i1,\n    i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n  multiDragClones = [],\n  lastMultiDragSelect,\n  // for selection with modifier key down (SHIFT)\n  multiDragSortable,\n  initialFolding = false,\n  // Initial multi-drag fold when drag started\n  folding = false,\n  // Folding any other time\n  dragStarted = false,\n  dragEl$1,\n  clonesFromRect,\n  clonesHidden;\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n        cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n      sortable._hideClone();\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n        rootEl = _ref3.rootEl,\n        dispatchSortableEvent = _ref3.dispatchSortableEvent,\n        cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n        rootEl = _ref4.rootEl,\n        cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n      var sortable = _ref5.sortable,\n        cloneNowHidden = _ref5.cloneNowHidden,\n        cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      });\n\n      // Sort multi-drag elements\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n\n        sortable.captureAnimationState();\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        }\n\n        // Remove all auxiliary multidrag items from el, if sorting enabled\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n        completed = _ref8.completed,\n        cancel = _ref8.cancel;\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n        rootEl = _ref9.rootEl,\n        sortable = _ref9.sortable,\n        dragRect = _ref9.dragRect;\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n        isOwner = _ref10.isOwner,\n        insertion = _ref10.insertion,\n        activeSortable = _ref10.activeSortable,\n        parentEl = _ref10.parentEl,\n        putSortable = _ref10.putSortable;\n      var options = this.options;\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n        initialFolding = false;\n        // If leaving sort:false root, or already folding - Fold to new location\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute);\n\n            // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        }\n\n        // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n            activeSortable._showClone(sortable);\n\n            // Unfold animation for clones if showing from hidden\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n        isOwner = _ref11.isOwner,\n        activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n        rootEl = _ref12.rootEl,\n        parentEl = _ref12.parentEl,\n        sortable = _ref12.sortable,\n        dispatchSortableEvent = _ref12.dispatchSortableEvent,\n        oldIndex = _ref12.oldIndex,\n        putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n        children = parentEl.children;\n\n      // Multi-drag selection\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n\n          // Modifier activated, select from last to dragEl\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n              currentIndex = index(dragEl$1);\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              (function () {\n                // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                // (but previous selection existed)\n                var n, i;\n                if (currentIndex > lastIndex) {\n                  i = lastIndex;\n                  n = currentIndex;\n                } else {\n                  i = currentIndex;\n                  n = lastIndex + 1;\n                }\n                var filter = options.filter;\n                for (; i < n; i++) {\n                  if (~multiDragElements.indexOf(children[i])) continue;\n                  // Check if element is draggable\n                  if (!closest(children[i], options.draggable, parentEl, false)) continue;\n                  // Check if element is filtered\n                  var filtered = filter && (typeof filter === 'function' ? filter.call(sortable, evt, children[i], sortable) : filter.split(',').some(function (criteria) {\n                    return closest(children[i], criteria.trim(), parentEl, false);\n                  }));\n                  if (filtered) continue;\n                  toggleClass(children[i], options.selectedClass, true);\n                  multiDragElements.push(children[i]);\n                  dispatchEvent({\n                    sortable: sortable,\n                    rootEl: rootEl,\n                    name: 'select',\n                    targetEl: children[i],\n                    originalEvent: evt\n                  });\n                }\n              })();\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      }\n\n      // Multi-drag drop\n      if (dragStarted && this.isMultiDrag) {\n        folding = false;\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n            multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect;\n\n                  // Prepare unfold animation\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            }\n\n            // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n              multiDragIndex++;\n            });\n\n            // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n              if (update) {\n                dispatchSortableEvent('update');\n                dispatchSortableEvent('sort');\n              }\n            }\n          }\n\n          // Must be done after capturing individual rects (scroll bar)\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n        multiDragSortable = toSortable;\n      }\n\n      // Remove clones if necessary\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return;\n\n      // Only deselect if selection is in this sortable\n      if (multiDragSortable !== this.sortable) return;\n\n      // Only deselect if target is not item in this sortable\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return;\n\n      // Only deselect if left click\n      if (evt && evt.button !== 0) return;\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n          multiDragSortable = sortable;\n        }\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n          index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n      var oldIndicies = [],\n        newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        });\n\n        // multiDragElements will already be sorted if folding\n        var newIndex;\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n        return key;\n      }\n    }\n  });\n}\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n", "import Sortable from 'sortablejs'\n\nexport default {\n  mounted() {\n    const sortable = new Sortable(this.el, {\n      animation: 1,\n      delay: 4,\n      delayOnTouchOnly: true,\n      group: 'shared',\n      draggable: '.draggable',\n      ghostClass: '.sortable-ghost',\n      handle: \".drag-handle\",\n      onEnd: (evt) => {\n        // console.log(sortable.toArray())\n        evt.preventDefault()\n        console.log('onEnd');\n\n        this.pushEvent('dropped', {\n          draggedId: evt.item.id, // id of the dragged item\n          toDropzoneId: evt.to.id, // id of the drop zone where the drop occured\n          fromDropzoneId: evt.from.id, // id of the drop zone where the drop occured\n          newDraggableIndex: evt.newDraggableIndex, // index where the item was dropped (relative to other items in the drop zone)\n          oldDraggableIndex: evt.oldDraggableIndex, // index where the item was dropped (relative to other items in the drop zone)\n          newOrder: sortable.toArray()\n        })\n      },\n    });\n  }\n};\n", "import showdown from 'showdown'\nimport TurndownService from 'turndown'\n\nconst converter = new showdown.Converter()\nvar turndownService = new TurndownService()\n\nimport Trix from \"trix\"\n\n// document.addEventListener(\"trix-before-initialize\", () => { /* Change Trix.config if you need */\nTrix.config.blockAttributes.heading2 = {\n  tagName: \"h2\",\n  terminal: true,\n  breakOnReturn: true\n};\nTrix.config.blockAttributes.heading3 = {\n  tagName: \"h3\",\n  terminal: true,\n  breakOnReturn: true\n};\nTrix.config.blockAttributes.heading4 = {\n  tagName: \"h4\",\n  terminal: true,\n  breakOnReturn: true\n};\nTrix.config.blockAttributes.heading5 = {\n  tagName: \"h5\",\n  terminal: true,\n  breakOnReturn: true\n};\n\nexport default {\n  mounted() {\n    const targetNode = this.el.getElementsByTagName('trix-editor')?.[0]\n    const editor = targetNode.editor\n\n\n    const inputTarget = document.getElementById(targetNode.id.replace('editor', 'content'))\n    editor.insertHTML(converter.makeHtml(inputTarget.value))\n\n\n    this.el.addEventListener('trix-change', (event) => {\n      const markdown = turndownService.turndown(targetNode.innerHTML)\n      inputTarget.value = markdown\n      inputTarget.dispatchEvent(new Event('input', { bubbles: true }))\n    })\n  },\n}\n", "function extend (destination) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) destination[key] = source[key];\n    }\n  }\n  return destination\n}\n\nfunction repeat (character, count) {\n  return Array(count + 1).join(character)\n}\n\nfunction trimLeadingNewlines (string) {\n  return string.replace(/^\\n*/, '')\n}\n\nfunction trimTrailingNewlines (string) {\n  // avoid match-at-end regexp bottleneck, see #370\n  var indexEnd = string.length;\n  while (indexEnd > 0 && string[indexEnd - 1] === '\\n') indexEnd--;\n  return string.substring(0, indexEnd)\n}\n\nvar blockElements = [\n  'ADDRESS', 'ARTICLE', 'ASIDE', 'AUDIO', 'BLOCKQUOTE', 'BODY', 'CANVAS',\n  'CENTER', 'DD', 'DIR', 'DIV', 'DL', 'DT', 'FIELDSET', 'FIGCAPTION', 'FIGURE',\n  'FOOTER', 'FORM', 'FRAMESET', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'HEADER',\n  'HGROUP', 'HR', 'HTML', 'ISINDEX', 'LI', 'MAIN', 'MENU', 'NAV', 'NOFRAMES',\n  'NOSCRIPT', 'OL', 'OUTPUT', 'P', 'PRE', 'SECTION', 'TABLE', 'TBODY', 'TD',\n  'TFOOT', 'TH', 'THEAD', 'TR', 'UL'\n];\n\nfunction isBlock (node) {\n  return is(node, blockElements)\n}\n\nvar voidElements = [\n  'AREA', 'BASE', 'BR', 'COL', 'COMMAND', 'EMBED', 'HR', 'IMG', 'INPUT',\n  'KEYGEN', 'LINK', 'META', 'PARAM', 'SOURCE', 'TRACK', 'WBR'\n];\n\nfunction isVoid (node) {\n  return is(node, voidElements)\n}\n\nfunction hasVoid (node) {\n  return has(node, voidElements)\n}\n\nvar meaningfulWhenBlankElements = [\n  'A', 'TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TH', 'TD', 'IFRAME', 'SCRIPT',\n  'AUDIO', 'VIDEO'\n];\n\nfunction isMeaningfulWhenBlank (node) {\n  return is(node, meaningfulWhenBlankElements)\n}\n\nfunction hasMeaningfulWhenBlank (node) {\n  return has(node, meaningfulWhenBlankElements)\n}\n\nfunction is (node, tagNames) {\n  return tagNames.indexOf(node.nodeName) >= 0\n}\n\nfunction has (node, tagNames) {\n  return (\n    node.getElementsByTagName &&\n    tagNames.some(function (tagName) {\n      return node.getElementsByTagName(tagName).length\n    })\n  )\n}\n\nvar rules = {};\n\nrules.paragraph = {\n  filter: 'p',\n\n  replacement: function (content) {\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.lineBreak = {\n  filter: 'br',\n\n  replacement: function (content, node, options) {\n    return options.br + '\\n'\n  }\n};\n\nrules.heading = {\n  filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n  replacement: function (content, node, options) {\n    var hLevel = Number(node.nodeName.charAt(1));\n\n    if (options.headingStyle === 'setext' && hLevel < 3) {\n      var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n      return (\n        '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n      )\n    } else {\n      return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.blockquote = {\n  filter: 'blockquote',\n\n  replacement: function (content) {\n    content = content.replace(/^\\n+|\\n+$/g, '');\n    content = content.replace(/^/gm, '> ');\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.list = {\n  filter: ['ul', 'ol'],\n\n  replacement: function (content, node) {\n    var parent = node.parentNode;\n    if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n      return '\\n' + content\n    } else {\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.listItem = {\n  filter: 'li',\n\n  replacement: function (content, node, options) {\n    content = content\n      .replace(/^\\n+/, '') // remove leading newlines\n      .replace(/\\n+$/, '\\n') // replace trailing newlines with just a single one\n      .replace(/\\n/gm, '\\n    '); // indent\n    var prefix = options.bulletListMarker + '   ';\n    var parent = node.parentNode;\n    if (parent.nodeName === 'OL') {\n      var start = parent.getAttribute('start');\n      var index = Array.prototype.indexOf.call(parent.children, node);\n      prefix = (start ? Number(start) + index : index + 1) + '.  ';\n    }\n    return (\n      prefix + content + (node.nextSibling && !/\\n$/.test(content) ? '\\n' : '')\n    )\n  }\n};\n\nrules.indentedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'indented' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    return (\n      '\\n\\n    ' +\n      node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n      '\\n\\n'\n    )\n  }\n};\n\nrules.fencedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'fenced' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var className = node.firstChild.getAttribute('class') || '';\n    var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n    var code = node.firstChild.textContent;\n\n    var fenceChar = options.fence.charAt(0);\n    var fenceSize = 3;\n    var fenceInCodeRegex = new RegExp('^' + fenceChar + '{3,}', 'gm');\n\n    var match;\n    while ((match = fenceInCodeRegex.exec(code))) {\n      if (match[0].length >= fenceSize) {\n        fenceSize = match[0].length + 1;\n      }\n    }\n\n    var fence = repeat(fenceChar, fenceSize);\n\n    return (\n      '\\n\\n' + fence + language + '\\n' +\n      code.replace(/\\n$/, '') +\n      '\\n' + fence + '\\n\\n'\n    )\n  }\n};\n\nrules.horizontalRule = {\n  filter: 'hr',\n\n  replacement: function (content, node, options) {\n    return '\\n\\n' + options.hr + '\\n\\n'\n  }\n};\n\nrules.inlineLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'inlined' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node) {\n    var href = node.getAttribute('href');\n    if (href) href = href.replace(/([()])/g, '\\\\$1');\n    var title = cleanAttribute(node.getAttribute('title'));\n    if (title) title = ' \"' + title.replace(/\"/g, '\\\\\"') + '\"';\n    return '[' + content + '](' + href + title + ')'\n  }\n};\n\nrules.referenceLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'referenced' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var href = node.getAttribute('href');\n    var title = cleanAttribute(node.getAttribute('title'));\n    if (title) title = ' \"' + title + '\"';\n    var replacement;\n    var reference;\n\n    switch (options.linkReferenceStyle) {\n      case 'collapsed':\n        replacement = '[' + content + '][]';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      case 'shortcut':\n        replacement = '[' + content + ']';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      default:\n        var id = this.references.length + 1;\n        replacement = '[' + content + '][' + id + ']';\n        reference = '[' + id + ']: ' + href + title;\n    }\n\n    this.references.push(reference);\n    return replacement\n  },\n\n  references: [],\n\n  append: function (options) {\n    var references = '';\n    if (this.references.length) {\n      references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n      this.references = []; // Reset references\n    }\n    return references\n  }\n};\n\nrules.emphasis = {\n  filter: ['em', 'i'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.emDelimiter + content + options.emDelimiter\n  }\n};\n\nrules.strong = {\n  filter: ['strong', 'b'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.strongDelimiter + content + options.strongDelimiter\n  }\n};\n\nrules.code = {\n  filter: function (node) {\n    var hasSiblings = node.previousSibling || node.nextSibling;\n    var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n    return node.nodeName === 'CODE' && !isCodeBlock\n  },\n\n  replacement: function (content) {\n    if (!content) return ''\n    content = content.replace(/\\r?\\n|\\r/g, ' ');\n\n    var extraSpace = /^`|^ .*?[^ ].* $|`$/.test(content) ? ' ' : '';\n    var delimiter = '`';\n    var matches = content.match(/`+/gm) || [];\n    while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n\n    return delimiter + extraSpace + content + extraSpace + delimiter\n  }\n};\n\nrules.image = {\n  filter: 'img',\n\n  replacement: function (content, node) {\n    var alt = cleanAttribute(node.getAttribute('alt'));\n    var src = node.getAttribute('src') || '';\n    var title = cleanAttribute(node.getAttribute('title'));\n    var titlePart = title ? ' \"' + title + '\"' : '';\n    return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n  }\n};\n\nfunction cleanAttribute (attribute) {\n  return attribute ? attribute.replace(/(\\n+\\s*)+/g, '\\n') : ''\n}\n\n/**\n * Manages a collection of rules used to convert HTML to Markdown\n */\n\nfunction Rules (options) {\n  this.options = options;\n  this._keep = [];\n  this._remove = [];\n\n  this.blankRule = {\n    replacement: options.blankReplacement\n  };\n\n  this.keepReplacement = options.keepReplacement;\n\n  this.defaultRule = {\n    replacement: options.defaultReplacement\n  };\n\n  this.array = [];\n  for (var key in options.rules) this.array.push(options.rules[key]);\n}\n\nRules.prototype = {\n  add: function (key, rule) {\n    this.array.unshift(rule);\n  },\n\n  keep: function (filter) {\n    this._keep.unshift({\n      filter: filter,\n      replacement: this.keepReplacement\n    });\n  },\n\n  remove: function (filter) {\n    this._remove.unshift({\n      filter: filter,\n      replacement: function () {\n        return ''\n      }\n    });\n  },\n\n  forNode: function (node) {\n    if (node.isBlank) return this.blankRule\n    var rule;\n\n    if ((rule = findRule(this.array, node, this.options))) return rule\n    if ((rule = findRule(this._keep, node, this.options))) return rule\n    if ((rule = findRule(this._remove, node, this.options))) return rule\n\n    return this.defaultRule\n  },\n\n  forEach: function (fn) {\n    for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n  }\n};\n\nfunction findRule (rules, node, options) {\n  for (var i = 0; i < rules.length; i++) {\n    var rule = rules[i];\n    if (filterValue(rule, node, options)) return rule\n  }\n  return void 0\n}\n\nfunction filterValue (rule, node, options) {\n  var filter = rule.filter;\n  if (typeof filter === 'string') {\n    if (filter === node.nodeName.toLowerCase()) return true\n  } else if (Array.isArray(filter)) {\n    if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n  } else if (typeof filter === 'function') {\n    if (filter.call(rule, node, options)) return true\n  } else {\n    throw new TypeError('`filter` needs to be a string, array, or function')\n  }\n}\n\n/**\n * The collapseWhitespace function is adapted from collapse-whitespace\n * by Luc Thevenard.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n *\n * @param {Object} options\n */\nfunction collapseWhitespace (options) {\n  var element = options.element;\n  var isBlock = options.isBlock;\n  var isVoid = options.isVoid;\n  var isPre = options.isPre || function (node) {\n    return node.nodeName === 'PRE'\n  };\n\n  if (!element.firstChild || isPre(element)) return\n\n  var prevText = null;\n  var keepLeadingWs = false;\n\n  var prev = null;\n  var node = next(prev, element, isPre);\n\n  while (node !== element) {\n    if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n      var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n      if ((!prevText || / $/.test(prevText.data)) &&\n          !keepLeadingWs && text[0] === ' ') {\n        text = text.substr(1);\n      }\n\n      // `text` might be empty at this point.\n      if (!text) {\n        node = remove(node);\n        continue\n      }\n\n      node.data = text;\n\n      prevText = node;\n    } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n      if (isBlock(node) || node.nodeName === 'BR') {\n        if (prevText) {\n          prevText.data = prevText.data.replace(/ $/, '');\n        }\n\n        prevText = null;\n        keepLeadingWs = false;\n      } else if (isVoid(node) || isPre(node)) {\n        // Avoid trimming space around non-block, non-BR void elements and inline PRE.\n        prevText = null;\n        keepLeadingWs = true;\n      } else if (prevText) {\n        // Drop protection if set previously.\n        keepLeadingWs = false;\n      }\n    } else {\n      node = remove(node);\n      continue\n    }\n\n    var nextNode = next(prev, node, isPre);\n    prev = node;\n    node = nextNode;\n  }\n\n  if (prevText) {\n    prevText.data = prevText.data.replace(/ $/, '');\n    if (!prevText.data) {\n      remove(prevText);\n    }\n  }\n}\n\n/**\n * remove(node) removes the given node from the DOM and returns the\n * next node in the sequence.\n *\n * @param {Node} node\n * @return {Node} node\n */\nfunction remove (node) {\n  var next = node.nextSibling || node.parentNode;\n\n  node.parentNode.removeChild(node);\n\n  return next\n}\n\n/**\n * next(prev, current, isPre) returns the next node in the sequence, given the\n * current and previous nodes.\n *\n * @param {Node} prev\n * @param {Node} current\n * @param {Function} isPre\n * @return {Node}\n */\nfunction next (prev, current, isPre) {\n  if ((prev && prev.parentNode === current) || isPre(current)) {\n    return current.nextSibling || current.parentNode\n  }\n\n  return current.firstChild || current.nextSibling || current.parentNode\n}\n\n/*\n * Set up window for Node.js\n */\n\nvar root = (typeof window !== 'undefined' ? window : {});\n\n/*\n * Parsing HTML strings\n */\n\nfunction canParseHTMLNatively () {\n  var Parser = root.DOMParser;\n  var canParse = false;\n\n  // Adapted from https://gist.github.com/1129031\n  // Firefox/Opera/IE throw errors on unsupported types\n  try {\n    // WebKit returns null on unsupported types\n    if (new Parser().parseFromString('', 'text/html')) {\n      canParse = true;\n    }\n  } catch (e) {}\n\n  return canParse\n}\n\nfunction createHTMLParser () {\n  var Parser = function () {};\n\n  {\n    if (shouldUseActiveX()) {\n      Parser.prototype.parseFromString = function (string) {\n        var doc = new window.ActiveXObject('htmlfile');\n        doc.designMode = 'on'; // disable on-page scripts\n        doc.open();\n        doc.write(string);\n        doc.close();\n        return doc\n      };\n    } else {\n      Parser.prototype.parseFromString = function (string) {\n        var doc = document.implementation.createHTMLDocument('');\n        doc.open();\n        doc.write(string);\n        doc.close();\n        return doc\n      };\n    }\n  }\n  return Parser\n}\n\nfunction shouldUseActiveX () {\n  var useActiveX = false;\n  try {\n    document.implementation.createHTMLDocument('').open();\n  } catch (e) {\n    if (root.ActiveXObject) useActiveX = true;\n  }\n  return useActiveX\n}\n\nvar HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\nfunction RootNode (input, options) {\n  var root;\n  if (typeof input === 'string') {\n    var doc = htmlParser().parseFromString(\n      // DOM parsers arrange elements in the <head> and <body>.\n      // Wrapping in a custom element ensures elements are reliably arranged in\n      // a single element.\n      '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n      'text/html'\n    );\n    root = doc.getElementById('turndown-root');\n  } else {\n    root = input.cloneNode(true);\n  }\n  collapseWhitespace({\n    element: root,\n    isBlock: isBlock,\n    isVoid: isVoid,\n    isPre: options.preformattedCode ? isPreOrCode : null\n  });\n\n  return root\n}\n\nvar _htmlParser;\nfunction htmlParser () {\n  _htmlParser = _htmlParser || new HTMLParser();\n  return _htmlParser\n}\n\nfunction isPreOrCode (node) {\n  return node.nodeName === 'PRE' || node.nodeName === 'CODE'\n}\n\nfunction Node (node, options) {\n  node.isBlock = isBlock(node);\n  node.isCode = node.nodeName === 'CODE' || node.parentNode.isCode;\n  node.isBlank = isBlank(node);\n  node.flankingWhitespace = flankingWhitespace(node, options);\n  return node\n}\n\nfunction isBlank (node) {\n  return (\n    !isVoid(node) &&\n    !isMeaningfulWhenBlank(node) &&\n    /^\\s*$/i.test(node.textContent) &&\n    !hasVoid(node) &&\n    !hasMeaningfulWhenBlank(node)\n  )\n}\n\nfunction flankingWhitespace (node, options) {\n  if (node.isBlock || (options.preformattedCode && node.isCode)) {\n    return { leading: '', trailing: '' }\n  }\n\n  var edges = edgeWhitespace(node.textContent);\n\n  // abandon leading ASCII WS if left-flanked by ASCII WS\n  if (edges.leadingAscii && isFlankedByWhitespace('left', node, options)) {\n    edges.leading = edges.leadingNonAscii;\n  }\n\n  // abandon trailing ASCII WS if right-flanked by ASCII WS\n  if (edges.trailingAscii && isFlankedByWhitespace('right', node, options)) {\n    edges.trailing = edges.trailingNonAscii;\n  }\n\n  return { leading: edges.leading, trailing: edges.trailing }\n}\n\nfunction edgeWhitespace (string) {\n  var m = string.match(/^(([ \\t\\r\\n]*)(\\s*))(?:(?=\\S)[\\s\\S]*\\S)?((\\s*?)([ \\t\\r\\n]*))$/);\n  return {\n    leading: m[1], // whole string for whitespace-only strings\n    leadingAscii: m[2],\n    leadingNonAscii: m[3],\n    trailing: m[4], // empty for whitespace-only strings\n    trailingNonAscii: m[5],\n    trailingAscii: m[6]\n  }\n}\n\nfunction isFlankedByWhitespace (side, node, options) {\n  var sibling;\n  var regExp;\n  var isFlanked;\n\n  if (side === 'left') {\n    sibling = node.previousSibling;\n    regExp = / $/;\n  } else {\n    sibling = node.nextSibling;\n    regExp = /^ /;\n  }\n\n  if (sibling) {\n    if (sibling.nodeType === 3) {\n      isFlanked = regExp.test(sibling.nodeValue);\n    } else if (options.preformattedCode && sibling.nodeName === 'CODE') {\n      isFlanked = false;\n    } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n      isFlanked = regExp.test(sibling.textContent);\n    }\n  }\n  return isFlanked\n}\n\nvar reduce = Array.prototype.reduce;\nvar escapes = [\n  [/\\\\/g, '\\\\\\\\'],\n  [/\\*/g, '\\\\*'],\n  [/^-/g, '\\\\-'],\n  [/^\\+ /g, '\\\\+ '],\n  [/^(=+)/g, '\\\\$1'],\n  [/^(#{1,6}) /g, '\\\\$1 '],\n  [/`/g, '\\\\`'],\n  [/^~~~/g, '\\\\~~~'],\n  [/\\[/g, '\\\\['],\n  [/\\]/g, '\\\\]'],\n  [/^>/g, '\\\\>'],\n  [/_/g, '\\\\_'],\n  [/^(\\d+)\\. /g, '$1\\\\. ']\n];\n\nfunction TurndownService (options) {\n  if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n  var defaults = {\n    rules: rules,\n    headingStyle: 'setext',\n    hr: '* * *',\n    bulletListMarker: '*',\n    codeBlockStyle: 'indented',\n    fence: '```',\n    emDelimiter: '_',\n    strongDelimiter: '**',\n    linkStyle: 'inlined',\n    linkReferenceStyle: 'full',\n    br: '  ',\n    preformattedCode: false,\n    blankReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' : ''\n    },\n    keepReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n    },\n    defaultReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n    }\n  };\n  this.options = extend({}, defaults, options);\n  this.rules = new Rules(this.options);\n}\n\nTurndownService.prototype = {\n  /**\n   * The entry point for converting a string or DOM node to Markdown\n   * @public\n   * @param {String|HTMLElement} input The string or DOM node to convert\n   * @returns A Markdown representation of the input\n   * @type String\n   */\n\n  turndown: function (input) {\n    if (!canConvert(input)) {\n      throw new TypeError(\n        input + ' is not a string, or an element/document/fragment node.'\n      )\n    }\n\n    if (input === '') return ''\n\n    var output = process.call(this, new RootNode(input, this.options));\n    return postProcess.call(this, output)\n  },\n\n  /**\n   * Add one or more plugins\n   * @public\n   * @param {Function|Array} plugin The plugin or array of plugins to add\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  use: function (plugin) {\n    if (Array.isArray(plugin)) {\n      for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n    } else if (typeof plugin === 'function') {\n      plugin(this);\n    } else {\n      throw new TypeError('plugin must be a Function or an Array of Functions')\n    }\n    return this\n  },\n\n  /**\n   * Adds a rule\n   * @public\n   * @param {String} key The unique key of the rule\n   * @param {Object} rule The rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  addRule: function (key, rule) {\n    this.rules.add(key, rule);\n    return this\n  },\n\n  /**\n   * Keep a node (as HTML) that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  keep: function (filter) {\n    this.rules.keep(filter);\n    return this\n  },\n\n  /**\n   * Remove a node that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  remove: function (filter) {\n    this.rules.remove(filter);\n    return this\n  },\n\n  /**\n   * Escapes Markdown syntax\n   * @public\n   * @param {String} string The string to escape\n   * @returns A string with Markdown syntax escaped\n   * @type String\n   */\n\n  escape: function (string) {\n    return escapes.reduce(function (accumulator, escape) {\n      return accumulator.replace(escape[0], escape[1])\n    }, string)\n  }\n};\n\n/**\n * Reduces a DOM node down to its Markdown string equivalent\n * @private\n * @param {HTMLElement} parentNode The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction process (parentNode) {\n  var self = this;\n  return reduce.call(parentNode.childNodes, function (output, node) {\n    node = new Node(node, self.options);\n\n    var replacement = '';\n    if (node.nodeType === 3) {\n      replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n    } else if (node.nodeType === 1) {\n      replacement = replacementForNode.call(self, node);\n    }\n\n    return join(output, replacement)\n  }, '')\n}\n\n/**\n * Appends strings as each rule requires and trims the output\n * @private\n * @param {String} output The conversion output\n * @returns A trimmed version of the ouput\n * @type String\n */\n\nfunction postProcess (output) {\n  var self = this;\n  this.rules.forEach(function (rule) {\n    if (typeof rule.append === 'function') {\n      output = join(output, rule.append(self.options));\n    }\n  });\n\n  return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n}\n\n/**\n * Converts an element node to its Markdown equivalent\n * @private\n * @param {HTMLElement} node The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction replacementForNode (node) {\n  var rule = this.rules.forNode(node);\n  var content = process.call(this, node);\n  var whitespace = node.flankingWhitespace;\n  if (whitespace.leading || whitespace.trailing) content = content.trim();\n  return (\n    whitespace.leading +\n    rule.replacement(content, node, this.options) +\n    whitespace.trailing\n  )\n}\n\n/**\n * Joins replacement to the current output with appropriate number of new lines\n * @private\n * @param {String} output The current conversion output\n * @param {String} replacement The string to append to the output\n * @returns Joined output\n * @type String\n */\n\nfunction join (output, replacement) {\n  var s1 = trimTrailingNewlines(output);\n  var s2 = trimLeadingNewlines(replacement);\n  var nls = Math.max(output.length - s1.length, replacement.length - s2.length);\n  var separator = '\\n\\n'.substring(0, nls);\n\n  return s1 + separator + s2\n}\n\n/**\n * Determines whether an input can be converted\n * @private\n * @param {String|HTMLElement} input Describe this parameter\n * @returns Describe what it returns\n * @type String|Object|Array|Boolean|Number\n */\n\nfunction canConvert (input) {\n  return (\n    input != null && (\n      typeof input === 'string' ||\n      (input.nodeType && (\n        input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n      ))\n    )\n  )\n}\n\nexport default TurndownService;\n", "export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n", "const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    htmlAttributes: [ \"language\" ],\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n", "const androidVersionMatch = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i)\nconst androidVersion = androidVersionMatch && parseInt(androidVersionMatch[1])\n\nexport default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n\n  // Android 13, especially on Samsung keyboards, emits extra compositionend and beforeinput events\n  // that can make the input handler lose the current selection or enter an infinite input -> render -> input\n  // loop.\n  recentAndroid: androidVersion && androidVersion > 12,\n  samsungAndroid: androidVersion && navigator.userAgent.match(/Android.*SM-/),\n\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: typeof InputEvent !== \"undefined\" &&\n    [ \"data\", \"getTargetRanges\", \"inputType\" ].every(prop => prop in InputEvent.prototype),\n}\n", "export default {\n  ADD_ATTR: [ \"language\" ],\n  SAFE_FOR_XML: false,\n  RETURN_DOM: true\n}\n", "export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption…\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL…\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n", "/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n", "export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n", "export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n", "import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n", "import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n", "export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n", "export default {\n  removeBlankTableCells: false,\n  tableCellSeparator: \" | \",\n  tableRowSeparator: \"\\n\",\n}\n", "import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n", "import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" data-trix-validate-href required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n", "const undo = { interval: 5000 }\nexport default undo\n", "export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n", "export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nlet id = 0\n\nexport default class TrixObject extends BasicObject {\n  static fromJSONString(jsonString) {\n    return this.fromJSON(JSON.parse(jsonString))\n  }\n\n  constructor() {\n    super(...arguments)\n    this.id = ++id\n  }\n\n  hasSameConstructorAs(object) {\n    return this.constructor === object?.constructor\n  }\n\n  isEqualTo(object) {\n    return this === object\n  }\n\n  inspect() {\n    const parts = []\n    const contents = this.contentsForInspection() || {}\n\n    for (const key in contents) {\n      const value = contents[key]\n      parts.push(`${key}=${value}`)\n    }\n\n    return `#<${this.constructor.name}:${this.id}${parts.length ? ` ${parts.join(\", \")}` : \"\"}>`\n  }\n\n  contentsForInspection() {}\n\n  toJSONString() {\n    return JSON.stringify(this)\n  }\n\n  toUTF16String() {\n    return UTF16String.box(this)\n  }\n\n  getCacheKey() {\n    return this.id.toString()\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n", "import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const textArea = makeElement(\"textarea\", { dir: \"auto\", name: \"y\", dirName: \"y.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n  form.appendChild(textArea)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(textArea.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      textArea.value = string\n      return new FormData(form).get(textArea.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n", "import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n", "/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    const { nonce, content } = element\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n", "const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsMsOfficePaste = ({ dataTransfer }) => {\n  return dataTransfer.types.includes(\"Files\") &&\n    dataTransfer.types.includes(\"text/html\") &&\n    dataTransfer.getData(\"text/html\").includes(\"urn:schemas-microsoft-com:office:office\")\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n\nexport function shouldRenderInmmediatelyToDealWithIOSDictation(inputEvent) {\n  if (/iPhone|iPad/.test(navigator.userAgent)) {\n    // Handle garbled content and duplicated newlines when using dictation on iOS 18+. Upon dictation completion, iOS sends\n    // the list of insertText / insertParagraph events in a quick sequence. If we don't render\n    // the editor synchronously, the internal range fails to update and results in garbled content or duplicated newlines.\n    //\n    // This workaround is necessary because iOS doesn't send composing events as expected while dictating:\n    // https://bugs.webkit.org/show_bug.cgi?id=261764\n    return !inputEvent.inputType || inputEvent.inputType === \"insertParagraph\"\n  } else {\n    return false\n  }\n}\n", "export const defer = (fn) => setTimeout(fn, 1)\n", "/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n", "import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      document.addEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((sm) => sm !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    this.notifySelectionManagersOfSelectionChange()\n  }\n\n  reset() {\n    this.update()\n  }\n}\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n", "/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n?/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport { arraysAreEqual } from \"trix/core/helpers\"\n\nexport default class Hash extends TrixObject {\n  static fromCommonAttributesOfObjects(objects = []) {\n    if (!objects.length) {\n      return new this()\n    }\n    let hash = box(objects[0])\n    let keys = hash.getKeys()\n\n    objects.slice(1).forEach((object) => {\n      keys = hash.getKeysCommonToHash(box(object))\n      hash = hash.slice(keys)\n    })\n\n    return hash\n  }\n\n  static box(values) {\n    return box(values)\n  }\n\n  constructor(values = {}) {\n    super(...arguments)\n    this.values = copy(values)\n  }\n\n  add(key, value) {\n    return this.merge(object(key, value))\n  }\n\n  remove(key) {\n    return new Hash(copy(this.values, key))\n  }\n\n  get(key) {\n    return this.values[key]\n  }\n\n  has(key) {\n    return key in this.values\n  }\n\n  merge(values) {\n    return new Hash(merge(this.values, unbox(values)))\n  }\n\n  slice(keys) {\n    const values = {}\n\n    Array.from(keys).forEach((key) => {\n      if (this.has(key)) {\n        values[key] = this.values[key]\n      }\n    })\n\n    return new Hash(values)\n  }\n\n  getKeys() {\n    return Object.keys(this.values)\n  }\n\n  getKeysCommonToHash(hash) {\n    hash = box(hash)\n    return this.getKeys().filter((key) => this.values[key] === hash.values[key])\n  }\n\n  isEqualTo(values) {\n    return arraysAreEqual(this.toArray(), box(values).toArray())\n  }\n\n  isEmpty() {\n    return this.getKeys().length === 0\n  }\n\n  toArray() {\n    if (!this.array) {\n      const result = []\n      for (const key in this.values) {\n        const value = this.values[key]\n        result.push(result.push(key, value))\n      }\n      this.array = result.slice(0)\n    }\n\n    return this.array\n  }\n\n  toObject() {\n    return copy(this.values)\n  }\n\n  toJSON() {\n    return this.toObject()\n  }\n\n  contentsForInspection() {\n    return { values: JSON.stringify(this.values) }\n  }\n}\n\nconst object = function(key, value) {\n  const result = {}\n  result[key] = value\n  return result\n}\n\nconst merge = function(object, values) {\n  const result = copy(object)\n  for (const key in values) {\n    const value = values[key]\n    result[key] = value\n  }\n  return result\n}\n\nconst copy = function(object, keyToRemove) {\n  const result = {}\n  const sortedKeys = Object.keys(object).sort()\n\n  sortedKeys.forEach((key) => {\n    if (key !== keyToRemove) {\n      result[key] = object[key]\n    }\n  })\n\n  return result\n}\n\nconst box = function(object) {\n  if (object instanceof Hash) {\n    return object\n  } else {\n    return new Hash(object)\n  }\n}\n\nconst unbox = function(object) {\n  if (object instanceof Hash) {\n    return object.values\n  } else {\n    return object\n  }\n}\n", "export default class ObjectGroup {\n  static groupObjects(ungroupedObjects = [], { depth, asTree } = {}) {\n    let group\n    if (asTree) {\n      if (depth == null) {\n        depth = 0\n      }\n    }\n    const objects = []\n\n    Array.from(ungroupedObjects).forEach((object) => {\n      if (group) {\n        if (object.canBeGrouped?.(depth) && group[group.length - 1].canBeGroupedWith?.(object, depth)) {\n          group.push(object)\n          return\n        } else {\n          objects.push(new this(group, { depth, asTree }))\n          group = null\n        }\n      }\n\n      if (object.canBeGrouped?.(depth)) {\n        group = [ object ]\n      } else {\n        objects.push(object)\n      }\n    })\n\n    if (group) {\n      objects.push(new this(group, { depth, asTree }))\n    }\n    return objects\n  }\n\n  constructor(objects = [], { depth, asTree }) {\n    this.objects = objects\n    if (asTree) {\n      this.depth = depth\n      this.objects = this.constructor.groupObjects(this.objects, { asTree, depth: this.depth + 1 })\n    }\n  }\n\n  getObjects() {\n    return this.objects\n  }\n\n  getDepth() {\n    return this.depth\n  }\n\n  getCacheKey() {\n    const keys = [ \"objectGroup\" ]\n    Array.from(this.getObjects()).forEach((object) => {\n      keys.push(object.getCacheKey())\n    })\n    return keys.join(\"/\")\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class ObjectMap extends BasicObject {\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = {}\n\n    Array.from(objects).forEach((object) => {\n      const hash = JSON.stringify(object)\n      if (this.objects[hash] == null) {\n        this.objects[hash] = object\n      }\n    })\n  }\n\n  find(object) {\n    const hash = JSON.stringify(object)\n    return this.objects[hash]\n  }\n}\n", "export default class ElementStore {\n  constructor(elements) {\n    this.reset(elements)\n  }\n\n  add(element) {\n    const key = getKey(element)\n    this.elements[key] = element\n  }\n\n  remove(element) {\n    const key = getKey(element)\n    const value = this.elements[key]\n    if (value) {\n      delete this.elements[key]\n      return value\n    }\n  }\n\n  reset(elements = []) {\n    this.elements = {}\n    Array.from(elements).forEach((element) => {\n      this.add(element)\n    })\n    return elements\n  }\n}\n\nconst getKey = (element) => element.dataset.trixStoreKey\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class Operation extends BasicObject {\n  isPerforming() {\n    return this.performing === true\n  }\n\n  hasPerformed() {\n    return this.performed === true\n  }\n\n  hasSucceeded() {\n    return this.performed && this.succeeded\n  }\n\n  hasFailed() {\n    return this.performed && !this.succeeded\n  }\n\n  getPromise() {\n    if (!this.promise) {\n      this.promise = new Promise((resolve, reject) => {\n        this.performing = true\n        return this.perform((succeeded, result) => {\n          this.succeeded = succeeded\n          this.performing = false\n          this.performed = true\n\n          if (this.succeeded) {\n            resolve(result)\n          } else {\n            reject(result)\n          }\n        })\n      })\n    }\n\n    return this.promise\n  }\n\n  perform(callback) {\n    return callback(false)\n  }\n\n  release() {\n    this.promise?.cancel?.()\n    this.promise = null\n    this.performing = null\n    this.performed = null\n    this.succeeded = null\n  }\n}\n\nOperation.proxyMethod(\"getPromise().then\")\nOperation.proxyMethod(\"getPromise().catch\")\n", "import BasicObject from \"trix/core/basic_object\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\n\nexport default class ObjectView extends BasicObject {\n  constructor(object, options = {}) {\n    super(...arguments)\n    this.object = object\n    this.options = options\n    this.childViews = []\n    this.rootView = this\n  }\n\n  getNodes() {\n    if (!this.nodes) { this.nodes = this.createNodes() }\n    return this.nodes.map((node) => node.cloneNode(true))\n  }\n\n  invalidate() {\n    this.nodes = null\n    this.childViews = []\n    return this.parentView?.invalidate()\n  }\n\n  invalidateViewForObject(object) {\n    return this.findViewForObject(object)?.invalidate()\n  }\n\n  findOrCreateCachedChildView(viewClass, object, options) {\n    let view = this.getCachedViewForObject(object)\n    if (view) {\n      this.recordChildView(view)\n    } else {\n      view = this.createChildView(...arguments)\n      this.cacheViewForObject(view, object)\n    }\n    return view\n  }\n\n  createChildView(viewClass, object, options = {}) {\n    if (object instanceof ObjectGroup) {\n      options.viewClass = viewClass\n      viewClass = ObjectGroupView\n    }\n\n    const view = new viewClass(object, options)\n    return this.recordChildView(view)\n  }\n\n  recordChildView(view) {\n    view.parentView = this\n    view.rootView = this.rootView\n    this.childViews.push(view)\n    return view\n  }\n\n  getAllChildViews() {\n    let views = []\n\n    this.childViews.forEach((childView) => {\n      views.push(childView)\n      views = views.concat(childView.getAllChildViews())\n    })\n\n    return views\n  }\n\n  findElement() {\n    return this.findElementForObject(this.object)\n  }\n\n  findElementForObject(object) {\n    const id = object?.id\n    if (id) {\n      return this.rootView.element.querySelector(`[data-trix-id='${id}']`)\n    }\n  }\n\n  findViewForObject(object) {\n    for (const view of this.getAllChildViews()) {\n      if (view.object === object) {\n        return view\n      }\n    }\n  }\n\n  getViewCache() {\n    if (this.rootView === this) {\n      if (this.isViewCachingEnabled()) {\n        if (!this.viewCache) { this.viewCache = {} }\n        return this.viewCache\n      }\n    } else {\n      return this.rootView.getViewCache()\n    }\n  }\n\n  isViewCachingEnabled() {\n    return this.shouldCacheViews !== false\n  }\n\n  enableViewCaching() {\n    this.shouldCacheViews = true\n  }\n\n  disableViewCaching() {\n    this.shouldCacheViews = false\n  }\n\n  getCachedViewForObject(object) {\n    return this.getViewCache()?.[object.getCacheKey()]\n  }\n\n  cacheViewForObject(view, object) {\n    const cache = this.getViewCache()\n    if (cache) {\n      cache[object.getCacheKey()] = view\n    }\n  }\n\n  garbageCollectCachedViews() {\n    const cache = this.getViewCache()\n    if (cache) {\n      const views = this.getAllChildViews().concat(this)\n      const objectKeys = views.map((view) => view.object.getCacheKey())\n      for (const key in cache) {\n        if (!objectKeys.includes(key)) {\n          delete cache[key]\n        }\n      }\n    }\n  }\n}\n\nexport class ObjectGroupView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.objectGroup = this.object\n    this.viewClass = this.options.viewClass\n    delete this.options.viewClass\n  }\n\n  getChildViews() {\n    if (!this.childViews.length) {\n      Array.from(this.objectGroup.getObjects()).forEach((object) => {\n        this.findOrCreateCachedChildView(this.viewClass, object, this.options)\n      })\n    }\n    return this.childViews\n  }\n\n  createNodes() {\n    const element = this.createContainerElement()\n\n    this.getChildViews().forEach((view) => {\n      Array.from(view.getNodes()).forEach((node) => {\n        element.appendChild(node)\n      })\n    })\n\n    return [ element ]\n  }\n\n  createContainerElement(depth = this.objectGroup.getDepth()) {\n    return this.getChildViews()[0].createContainerElement(depth)\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { nodeIsAttachmentElement, removeNode, tagName, walkTree } from \"trix/core/helpers\"\nimport DOMPurify from \"dompurify\"\nimport * as config from \"trix/config\"\n\nDOMPurify.addHook(\"uponSanitizeAttribute\", function (node, data) {\n  const allowedAttributePattern = /^data-trix-/\n  if (allowedAttributePattern.test(data.attrName)) {\n    data.forceKeepAttr = true\n  }\n})\n\nconst DEFAULT_ALLOWED_ATTRIBUTES = \"style href src width height language class\".split(\" \")\nconst DEFAULT_FORBIDDEN_PROTOCOLS = \"javascript:\".split(\" \")\nconst DEFAULT_FORBIDDEN_ELEMENTS = \"script iframe form noscript\".split(\" \")\n\nexport default class HTMLSanitizer extends BasicObject {\n  static setHTML(element, html) {\n    const sanitizedElement = new this(html).sanitize()\n    const sanitizedHtml = sanitizedElement.getHTML ? sanitizedElement.getHTML() : sanitizedElement.outerHTML\n    element.innerHTML = sanitizedHtml\n  }\n\n  static sanitize(html, options) {\n    const sanitizer = new this(html, options)\n    sanitizer.sanitize()\n    return sanitizer\n  }\n\n  constructor(html, { allowedAttributes, forbiddenProtocols, forbiddenElements } = {}) {\n    super(...arguments)\n    this.allowedAttributes = allowedAttributes || DEFAULT_ALLOWED_ATTRIBUTES\n    this.forbiddenProtocols = forbiddenProtocols || DEFAULT_FORBIDDEN_PROTOCOLS\n    this.forbiddenElements = forbiddenElements || DEFAULT_FORBIDDEN_ELEMENTS\n    this.body = createBodyElementForHTML(html)\n  }\n\n  sanitize() {\n    this.sanitizeElements()\n    this.normalizeListElementNesting()\n    DOMPurify.setConfig(config.dompurify)\n    this.body = DOMPurify.sanitize(this.body)\n\n    return this.body\n  }\n\n  getHTML() {\n    return this.body.innerHTML\n  }\n\n  getBody() {\n    return this.body\n  }\n\n  // Private\n\n  sanitizeElements() {\n    const walker = walkTree(this.body)\n    const nodesToRemove = []\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (this.elementIsRemovable(node)) {\n            nodesToRemove.push(node)\n          } else {\n            this.sanitizeElement(node)\n          }\n          break\n        case Node.COMMENT_NODE:\n          nodesToRemove.push(node)\n          break\n      }\n    }\n\n    nodesToRemove.forEach((node) => removeNode(node))\n\n    return this.body\n  }\n\n  sanitizeElement(element) {\n    if (element.hasAttribute(\"href\")) {\n      if (this.forbiddenProtocols.includes(element.protocol)) {\n        element.removeAttribute(\"href\")\n      }\n    }\n\n    Array.from(element.attributes).forEach(({ name }) => {\n      if (!this.allowedAttributes.includes(name) && name.indexOf(\"data-trix\") !== 0) {\n        element.removeAttribute(name)\n      }\n    })\n\n    return element\n  }\n\n  normalizeListElementNesting() {\n    Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach((listElement) => {\n      const previousElement = listElement.previousElementSibling\n      if (previousElement) {\n        if (tagName(previousElement) === \"li\") {\n          previousElement.appendChild(listElement)\n        }\n      }\n    })\n\n    return this.body\n  }\n\n  elementIsRemovable(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    return this.elementIsForbidden(element) || this.elementIsntSerializable(element)\n  }\n\n  elementIsForbidden(element) {\n    return this.forbiddenElements.includes(tagName(element))\n  }\n\n  elementIsntSerializable(element) {\n    return element.getAttribute(\"data-trix-serialize\") === \"false\" && !nodeIsAttachmentElement(element)\n  }\n}\n\nconst createBodyElementForHTML = function(html = \"\") {\n  // Remove everything after </html>\n  html = html.replace(/<\\/html[^>]*>[^]*$/i, \"</html>\")\n  const doc = document.implementation.createHTMLDocument(\"\")\n  doc.documentElement.innerHTML = html\n\n  Array.from(doc.head.querySelectorAll(\"style\")).forEach((element) => {\n    doc.body.appendChild(element)\n  })\n\n  return doc.body\n}\n", "import * as config from \"trix/config\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { copyObject, makeElement } from \"trix/core/helpers\"\nimport ObjectView from \"trix/views/object_view\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nconst { css } = config\n\nexport default class AttachmentView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.attachment = this.object\n    this.attachment.uploadProgressDelegate = this\n    this.attachmentPiece = this.options.piece\n  }\n\n  createContentNodes() {\n    return []\n  }\n\n  createNodes() {\n    let innerElement\n    const figure = innerElement = makeElement({\n      tagName: \"figure\",\n      className: this.getClassName(),\n      data: this.getData(),\n      editable: false,\n    })\n\n    const href = this.getHref()\n    if (href) {\n      innerElement = makeElement({ tagName: \"a\", editable: false, attributes: { href, tabindex: -1 } })\n      figure.appendChild(innerElement)\n    }\n\n    if (this.attachment.hasContent()) {\n      HTMLSanitizer.setHTML(innerElement, this.attachment.getContent())\n    } else {\n      this.createContentNodes().forEach((node) => {\n        innerElement.appendChild(node)\n      })\n    }\n\n    innerElement.appendChild(this.createCaptionElement())\n\n    if (this.attachment.isPending()) {\n      this.progressElement = makeElement({\n        tagName: \"progress\",\n        attributes: {\n          class: css.attachmentProgress,\n          value: this.attachment.getUploadProgress(),\n          max: 100,\n        },\n        data: {\n          trixMutable: true,\n          trixStoreKey: [ \"progressElement\", this.attachment.id ].join(\"/\"),\n        },\n      })\n\n      figure.appendChild(this.progressElement)\n    }\n\n    return [ createCursorTarget(\"left\"), figure, createCursorTarget(\"right\") ]\n  }\n\n  createCaptionElement() {\n    const figcaption = makeElement({ tagName: \"figcaption\", className: css.attachmentCaption })\n    const caption = this.attachmentPiece.getCaption()\n    if (caption) {\n      figcaption.classList.add(`${css.attachmentCaption}--edited`)\n      figcaption.textContent = caption\n    } else {\n      let name, size\n      const captionConfig = this.getCaptionConfig()\n      if (captionConfig.name) {\n        name = this.attachment.getFilename()\n      }\n      if (captionConfig.size) {\n        size = this.attachment.getFormattedFilesize()\n      }\n\n      if (name) {\n        const nameElement = makeElement({ tagName: \"span\", className: css.attachmentName, textContent: name })\n        figcaption.appendChild(nameElement)\n      }\n\n      if (size) {\n        if (name) {\n          figcaption.appendChild(document.createTextNode(\" \"))\n        }\n        const sizeElement = makeElement({ tagName: \"span\", className: css.attachmentSize, textContent: size })\n        figcaption.appendChild(sizeElement)\n      }\n    }\n\n    return figcaption\n  }\n\n  getClassName() {\n    const names = [ css.attachment, `${css.attachment}--${this.attachment.getType()}` ]\n    const extension = this.attachment.getExtension()\n    if (extension) {\n      names.push(`${css.attachment}--${extension}`)\n    }\n    return names.join(\" \")\n  }\n\n  getData() {\n    const data = {\n      trixAttachment: JSON.stringify(this.attachment),\n      trixContentType: this.attachment.getContentType(),\n      trixId: this.attachment.id,\n    }\n\n    const { attributes } = this.attachmentPiece\n    if (!attributes.isEmpty()) {\n      data.trixAttributes = JSON.stringify(attributes)\n    }\n\n    if (this.attachment.isPending()) {\n      data.trixSerialize = false\n    }\n\n    return data\n  }\n\n  getHref() {\n    if (!htmlContainsTagName(this.attachment.getContent(), \"a\")) {\n      return this.attachment.getHref()\n    }\n  }\n\n  getCaptionConfig() {\n    const type = this.attachment.getType()\n    const captionConfig = copyObject(config.attachments[type]?.caption)\n    if (type === \"file\") {\n      captionConfig.name = true\n    }\n    return captionConfig\n  }\n\n  findProgressElement() {\n    return this.findElement()?.querySelector(\"progress\")\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeUploadProgress() {\n    const value = this.attachment.getUploadProgress()\n    const progressElement = this.findProgressElement()\n    if (progressElement) {\n      progressElement.value = value\n    }\n  }\n}\n\nconst createCursorTarget = (name) =>\n  makeElement({\n    tagName: \"span\",\n    textContent: ZERO_WIDTH_SPACE,\n    data: {\n      trixCursorTarget: name,\n      trixSerialize: false,\n    },\n  })\n\nconst htmlContainsTagName = function(html, tagName) {\n  const div = makeElement(\"div\")\n  HTMLSanitizer.setHTML(div, html || \"\")\n  return div.querySelector(tagName)\n}\n", "import * as config from \"trix/config\"\nimport { makeElement } from \"trix/core/helpers\"\n\nimport AttachmentView from \"trix/views/attachment_view\"\n\nexport default class PreviewableAttachmentView extends AttachmentView {\n  constructor() {\n    super(...arguments)\n    this.attachment.previewDelegate = this\n  }\n\n  createContentNodes() {\n    this.image = makeElement({\n      tagName: \"img\",\n      attributes: {\n        src: \"\",\n      },\n      data: {\n        trixMutable: true,\n      },\n    })\n\n    this.refresh(this.image)\n    return [ this.image ]\n  }\n\n  createCaptionElement() {\n    const figcaption = super.createCaptionElement(...arguments)\n    if (!figcaption.textContent) {\n      figcaption.setAttribute(\"data-trix-placeholder\", config.lang.captionPlaceholder)\n    }\n    return figcaption\n  }\n\n  refresh(image) {\n    if (!image) { image = this.findElement()?.querySelector(\"img\") }\n    if (image) {\n      return this.updateAttributesForImage(image)\n    }\n  }\n\n  updateAttributesForImage(image) {\n    const url = this.attachment.getURL()\n    const previewURL = this.attachment.getPreviewURL()\n    image.src = previewURL || url\n\n    if (previewURL === url) {\n      image.removeAttribute(\"data-trix-serialized-attributes\")\n    } else {\n      const serializedAttributes = JSON.stringify({ src: url })\n      image.setAttribute(\"data-trix-serialized-attributes\", serializedAttributes)\n    }\n\n    const width = this.attachment.getWidth()\n    const height = this.attachment.getHeight()\n\n    if (width != null) {\n      image.width = width\n    }\n    if (height != null) {\n      image.height = height\n    }\n\n    const storeKey = [ \"imageElement\", this.attachment.id, image.src, image.width, image.height ].join(\"/\")\n    image.dataset.trixStoreKey = storeKey\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes() {\n    this.refresh(this.image)\n    return this.refresh()\n  }\n}\n", "/* eslint-disable\n    no-useless-escape,\n    no-var,\n*/\nimport { NON_BREAKING_SPACE } from \"trix/constants\"\n\nimport ObjectView from \"trix/views/object_view\"\nimport AttachmentView from \"trix/views/attachment_view\"\nimport PreviewableAttachmentView from \"trix/views/previewable_attachment_view\"\n\nimport { findInnerElement, getTextConfig, makeElement } from \"trix/core/helpers\"\n\nexport default class PieceView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.piece = this.object\n    this.attributes = this.piece.getAttributes()\n    this.textConfig = this.options.textConfig\n    this.context = this.options.context\n\n    if (this.piece.attachment) {\n      this.attachment = this.piece.attachment\n    } else {\n      this.string = this.piece.toString()\n    }\n  }\n\n  createNodes() {\n    let nodes = this.attachment ? this.createAttachmentNodes() : this.createStringNodes()\n    const element = this.createElement()\n    if (element) {\n      const innerElement = findInnerElement(element)\n      Array.from(nodes).forEach((node) => {\n        innerElement.appendChild(node)\n      })\n      nodes = [ element ]\n    }\n    return nodes\n  }\n\n  createAttachmentNodes() {\n    const constructor = this.attachment.isPreviewable() ? PreviewableAttachmentView : AttachmentView\n\n    const view = this.createChildView(constructor, this.piece.attachment, { piece: this.piece })\n    return view.getNodes()\n  }\n\n  createStringNodes() {\n    if (this.textConfig?.plaintext) {\n      return [ document.createTextNode(this.string) ]\n    } else {\n      const nodes = []\n      const iterable = this.string.split(\"\\n\")\n      for (let index = 0; index < iterable.length; index++) {\n        const substring = iterable[index]\n        if (index > 0) {\n          const element = makeElement(\"br\")\n          nodes.push(element)\n        }\n\n        if (substring.length) {\n          const node = document.createTextNode(this.preserveSpaces(substring))\n          nodes.push(node)\n        }\n      }\n      return nodes\n    }\n  }\n\n  createElement() {\n    let element, key, value\n    const styles = {}\n\n    for (key in this.attributes) {\n      value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.tagName) {\n          var innerElement\n          const pendingElement = makeElement(config.tagName)\n\n          if (innerElement) {\n            innerElement.appendChild(pendingElement)\n            innerElement = pendingElement\n          } else {\n            element = innerElement = pendingElement\n          }\n        }\n\n        if (config.styleProperty) {\n          styles[config.styleProperty] = value\n        }\n\n        if (config.style) {\n          for (key in config.style) {\n            value = config.style[key]\n            styles[key] = value\n          }\n        }\n      }\n    }\n\n    if (Object.keys(styles).length) {\n      if (!element) { element = makeElement(\"span\") }\n      for (key in styles) {\n        value = styles[key]\n        element.style[key] = value\n      }\n    }\n    return element\n  }\n\n  createContainerElement() {\n    for (const key in this.attributes) {\n      const value = this.attributes[key]\n      const config = getTextConfig(key)\n      if (config) {\n        if (config.groupTagName) {\n          const attributes = {}\n          attributes[key] = value\n          return makeElement(config.groupTagName, attributes)\n        }\n      }\n    }\n  }\n\n  preserveSpaces(string) {\n    if (this.context.isLast) {\n      string = string.replace(/\\ $/, NON_BREAKING_SPACE)\n    }\n\n    string = string\n      .replace(/(\\S)\\ {3}(\\S)/g, `$1 ${NON_BREAKING_SPACE} $2`)\n      .replace(/\\ {2}/g, `${NON_BREAKING_SPACE} `)\n      .replace(/\\ {2}/g, ` ${NON_BREAKING_SPACE}`)\n\n    if (this.context.isFirst || this.context.followsWhitespace) {\n      string = string.replace(/^\\ /, NON_BREAKING_SPACE)\n    }\n\n    return string\n  }\n}\n", "/* eslint-disable\n    no-var,\n*/\nimport ObjectView from \"trix/views/object_view\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport PieceView from \"trix/views/piece_view\"\n\nexport default class TextView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.text = this.object\n    this.textConfig = this.options.textConfig\n  }\n\n  createNodes() {\n    const nodes = []\n    const pieces = ObjectGroup.groupObjects(this.getPieces())\n    const lastIndex = pieces.length - 1\n\n    for (let index = 0; index < pieces.length; index++) {\n      const piece = pieces[index]\n      const context = {}\n      if (index === 0) {\n        context.isFirst = true\n      }\n      if (index === lastIndex) {\n        context.isLast = true\n      }\n      if (endsWithWhitespace(previousPiece)) {\n        context.followsWhitespace = true\n      }\n\n      const view = this.findOrCreateCachedChildView(PieceView, piece, { textConfig: this.textConfig, context })\n      nodes.push(...Array.from(view.getNodes() || []))\n\n      var previousPiece = piece\n    }\n    return nodes\n  }\n\n  getPieces() {\n    return Array.from(this.text.getPieces()).filter((piece) => !piece.hasAttribute(\"blockBreak\"))\n  }\n}\n\nconst endsWithWhitespace = (piece) => /\\s$/.test(piece?.toString())\n", "import * as config from \"trix/config\"\nimport ObjectView from \"trix/views/object_view\"\nimport TextView from \"trix/views/text_view\"\n\nimport { getBlockConfig, makeElement } from \"trix/core/helpers\"\nconst { css } = config\n\nexport default class BlockView extends ObjectView {\n  constructor() {\n    super(...arguments)\n    this.block = this.object\n    this.attributes = this.block.getAttributes()\n  }\n\n  createNodes() {\n    const comment = document.createComment(\"block\")\n    const nodes = [ comment ]\n    if (this.block.isEmpty()) {\n      nodes.push(makeElement(\"br\"))\n    } else {\n      const textConfig = getBlockConfig(this.block.getLastAttribute())?.text\n      const textView = this.findOrCreateCachedChildView(TextView, this.block.text, { textConfig })\n      nodes.push(...Array.from(textView.getNodes() || []))\n      if (this.shouldAddExtraNewlineElement()) {\n        nodes.push(makeElement(\"br\"))\n      }\n    }\n\n    if (this.attributes.length) {\n      return nodes\n    } else {\n      let attributes\n      const { tagName } = config.blockAttributes.default\n      if (this.block.isRTL()) {\n        attributes = { dir: \"rtl\" }\n      }\n\n      const element = makeElement({ tagName, attributes })\n      nodes.forEach((node) => element.appendChild(node))\n      return [ element ]\n    }\n  }\n\n  createContainerElement(depth) {\n    const attributes = {}\n    let className\n    const attributeName = this.attributes[depth]\n\n    const { tagName, htmlAttributes = [] } = getBlockConfig(attributeName)\n\n    if (depth === 0 && this.block.isRTL()) {\n      Object.assign(attributes, { dir: \"rtl\" })\n    }\n\n    if (attributeName === \"attachmentGallery\") {\n      const size = this.block.getBlockBreakPosition()\n      className = `${css.attachmentGallery} ${css.attachmentGallery}--${size}`\n    }\n\n    Object.entries(this.block.htmlAttributes).forEach(([ name, value ]) => {\n      if (htmlAttributes.includes(name)) {\n        attributes[name] = value\n      }\n    })\n\n    return makeElement({ tagName, className, attributes })\n  }\n\n  // A single <br> at the end of a block element has no visual representation\n  // so add an extra one.\n  shouldAddExtraNewlineElement() {\n    return /\\n\\n$/.test(this.block.toString())\n  }\n}\n", "import { makeElement } from \"trix/core/helpers\"\n\nimport ElementStore from \"trix/core/collections/element_store\"\nimport ObjectGroup from \"trix/core/collections/object_group\"\nimport ObjectView from \"trix/views/object_view\"\nimport BlockView from \"trix/views/block_view\"\n\nimport { defer } from \"trix/core/helpers\"\n\nexport default class DocumentView extends ObjectView {\n  static render(document) {\n    const element = makeElement(\"div\")\n    const view = new this(document, { element })\n    view.render()\n    view.sync()\n    return element\n  }\n\n  constructor() {\n    super(...arguments)\n    this.element = this.options.element\n    this.elementStore = new ElementStore()\n    this.setDocument(this.object)\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = this.object = document\n    }\n  }\n\n  render() {\n    this.childViews = []\n\n    this.shadowElement = makeElement(\"div\")\n\n    if (!this.document.isEmpty()) {\n      const objects = ObjectGroup.groupObjects(this.document.getBlocks(), { asTree: true })\n\n      Array.from(objects).forEach((object) => {\n        const view = this.findOrCreateCachedChildView(BlockView, object)\n        Array.from(view.getNodes()).map((node) => this.shadowElement.appendChild(node))\n      })\n    }\n  }\n\n  isSynced() {\n    return elementsHaveEqualHTML(this.shadowElement, this.element)\n  }\n\n  sync() {\n    const fragment = this.createDocumentFragmentForSync()\n    while (this.element.lastChild) {\n      this.element.removeChild(this.element.lastChild)\n    }\n    this.element.appendChild(fragment)\n    return this.didSync()\n  }\n\n  // Private\n\n  didSync() {\n    this.elementStore.reset(findStoredElements(this.element))\n    return defer(() => this.garbageCollectCachedViews())\n  }\n\n  createDocumentFragmentForSync() {\n    const fragment = document.createDocumentFragment()\n\n    Array.from(this.shadowElement.childNodes).forEach((node) => {\n      fragment.appendChild(node.cloneNode(true))\n    })\n\n    Array.from(findStoredElements(fragment)).forEach((element) => {\n      const storedElement = this.elementStore.remove(element)\n      if (storedElement) {\n        element.parentNode.replaceChild(storedElement, element)\n      }\n    })\n\n    return fragment\n  }\n}\n\nconst findStoredElements = (element) => element.querySelectorAll(\"[data-trix-store-key]\")\n\nconst elementsHaveEqualHTML = (element, otherElement) =>\n  ignoreSpaces(element.innerHTML) === ignoreSpaces(otherElement.innerHTML)\n\nconst ignoreSpaces = (html) => html.replace(/&nbsp;/g, \" \")\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Piece extends TrixObject {\n  static types = {}\n\n  static registerType(type, constructor) {\n    constructor.type = type\n    this.types[type] = constructor\n  }\n\n  static fromJSON(pieceJSON) {\n    const constructor = this.types[pieceJSON.type]\n    if (constructor) {\n      return constructor.fromJSON(pieceJSON)\n    }\n  }\n\n  constructor(value, attributes = {}) {\n    super(...arguments)\n    this.attributes = Hash.box(attributes)\n  }\n\n  copyWithAttributes(attributes) {\n    return new this.constructor(this.getValue(), attributes)\n  }\n\n  copyWithAdditionalAttributes(attributes) {\n    return this.copyWithAttributes(this.attributes.merge(attributes))\n  }\n\n  copyWithoutAttribute(attribute) {\n    return this.copyWithAttributes(this.attributes.remove(attribute))\n  }\n\n  copy() {\n    return this.copyWithAttributes(this.attributes)\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  getAttributesHash() {\n    return this.attributes\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  hasSameStringValueAsPiece(piece) {\n    return piece && this.toString() === piece.toString()\n  }\n\n  hasSameAttributesAsPiece(piece) {\n    return piece && (this.attributes === piece.attributes || this.attributes.isEqualTo(piece.attributes))\n  }\n\n  isBlockBreak() {\n    return false\n  }\n\n  isEqualTo(piece) {\n    return (\n      super.isEqualTo(...arguments) ||\n      this.hasSameConstructorAs(piece) &&\n        this.hasSameStringValueAsPiece(piece) &&\n        this.hasSameAttributesAsPiece(piece)\n    )\n  }\n\n  isEmpty() {\n    return this.length === 0\n  }\n\n  isSerializable() {\n    return true\n  }\n\n  toJSON() {\n    return {\n      type: this.constructor.type,\n      attributes: this.getAttributes(),\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      type: this.constructor.type,\n      attributes: this.attributes.inspect(),\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped() {\n    return this.hasAttribute(\"href\")\n  }\n\n  canBeGroupedWith(piece) {\n    return this.getAttribute(\"href\") === piece.getAttribute(\"href\")\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.length\n  }\n\n  canBeConsolidatedWith(piece) {\n    return false\n  }\n}\n", "import Operation from \"trix/core/utilities/operation\"\n\nexport default class ImagePreloadOperation extends Operation {\n  constructor(url) {\n    super(...arguments)\n    this.url = url\n  }\n\n  perform(callback) {\n    const image = new Image()\n\n    image.onload = () => {\n      image.width = this.width = image.naturalWidth\n      image.height = this.height = image.naturalHeight\n      return callback(true, image)\n    }\n\n    image.onerror = () => callback(false)\n\n    image.src = this.url\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Hash from \"trix/core/collections/hash\"\nimport ImagePreloadOperation from \"trix/operations/image_preload_operation\"\n\nexport default class Attachment extends TrixObject {\n  static previewablePattern = /^image(\\/(gif|png|webp|jpe?g)|$)/\n\n  static attachmentForFile(file) {\n    const attributes = this.attributesForFile(file)\n    const attachment = new this(attributes)\n    attachment.setFile(file)\n    return attachment\n  }\n\n  static attributesForFile(file) {\n    return new Hash({\n      filename: file.name,\n      filesize: file.size,\n      contentType: file.type,\n    })\n  }\n\n  static fromJSON(attachmentJSON) {\n    return new this(attachmentJSON)\n  }\n\n  constructor(attributes = {}) {\n    super(attributes)\n    this.releaseFile = this.releaseFile.bind(this)\n    this.attributes = Hash.box(attributes)\n    this.didChangeAttributes()\n  }\n\n  getAttribute(attribute) {\n    return this.attributes.get(attribute)\n  }\n\n  hasAttribute(attribute) {\n    return this.attributes.has(attribute)\n  }\n\n  getAttributes() {\n    return this.attributes.toObject()\n  }\n\n  setAttributes(attributes = {}) {\n    const newAttributes = this.attributes.merge(attributes)\n    if (!this.attributes.isEqualTo(newAttributes)) {\n      this.attributes = newAttributes\n      this.didChangeAttributes()\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangeAttributes?.(this)\n    }\n  }\n\n  didChangeAttributes() {\n    if (this.isPreviewable()) {\n      return this.preloadURL()\n    }\n  }\n\n  isPending() {\n    return this.file != null && !(this.getURL() || this.getHref())\n  }\n\n  isPreviewable() {\n    if (this.attributes.has(\"previewable\")) {\n      return this.attributes.get(\"previewable\")\n    } else {\n      return Attachment.previewablePattern.test(this.getContentType())\n    }\n  }\n\n  getType() {\n    if (this.hasContent()) {\n      return \"content\"\n    } else if (this.isPreviewable()) {\n      return \"preview\"\n    } else {\n      return \"file\"\n    }\n  }\n\n  getURL() {\n    return this.attributes.get(\"url\")\n  }\n\n  getHref() {\n    return this.attributes.get(\"href\")\n  }\n\n  getFilename() {\n    return this.attributes.get(\"filename\") || \"\"\n  }\n\n  getFilesize() {\n    return this.attributes.get(\"filesize\")\n  }\n\n  getFormattedFilesize() {\n    const filesize = this.attributes.get(\"filesize\")\n    if (typeof filesize === \"number\") {\n      return config.fileSize.formatter(filesize)\n    } else {\n      return \"\"\n    }\n  }\n\n  getExtension() {\n    return this.getFilename()\n      .match(/\\.(\\w+)$/)?.[1]\n      .toLowerCase()\n  }\n\n  getContentType() {\n    return this.attributes.get(\"contentType\")\n  }\n\n  hasContent() {\n    return this.attributes.has(\"content\")\n  }\n\n  getContent() {\n    return this.attributes.get(\"content\")\n  }\n\n  getWidth() {\n    return this.attributes.get(\"width\")\n  }\n\n  getHeight() {\n    return this.attributes.get(\"height\")\n  }\n\n  getFile() {\n    return this.file\n  }\n\n  setFile(file) {\n    this.file = file\n    if (this.isPreviewable()) {\n      return this.preloadFile()\n    }\n  }\n\n  releaseFile() {\n    this.releasePreloadedFile()\n    this.file = null\n  }\n\n  getUploadProgress() {\n    return this.uploadProgress != null ? this.uploadProgress : 0\n  }\n\n  setUploadProgress(value) {\n    if (this.uploadProgress !== value) {\n      this.uploadProgress = value\n      return this.uploadProgressDelegate?.attachmentDidChangeUploadProgress?.(this)\n    }\n  }\n\n  toJSON() {\n    return this.getAttributes()\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attributes.getCacheKey(), this.getPreviewURL() ].join(\"/\")\n  }\n\n  // Previewable\n\n  getPreviewURL() {\n    return this.previewURL || this.preloadingURL\n  }\n\n  setPreviewURL(url) {\n    if (url !== this.getPreviewURL()) {\n      this.previewURL = url\n      this.previewDelegate?.attachmentDidChangeAttributes?.(this)\n      return this.delegate?.attachmentDidChangePreviewURL?.(this)\n    }\n  }\n\n  preloadURL() {\n    return this.preload(this.getURL(), this.releaseFile)\n  }\n\n  preloadFile() {\n    if (this.file) {\n      this.fileObjectURL = URL.createObjectURL(this.file)\n      return this.preload(this.fileObjectURL)\n    }\n  }\n\n  releasePreloadedFile() {\n    if (this.fileObjectURL) {\n      URL.revokeObjectURL(this.fileObjectURL)\n      this.fileObjectURL = null\n    }\n  }\n\n  preload(url, callback) {\n    if (url && url !== this.getPreviewURL()) {\n      this.preloadingURL = url\n      const operation = new ImagePreloadOperation(url)\n      return operation\n        .then(({ width, height }) => {\n          if (!this.getWidth() || !this.getHeight()) {\n            this.setAttributes({ width, height })\n          }\n          this.preloadingURL = null\n          this.setPreviewURL(url)\n          return callback?.()\n        })\n        .catch(() => {\n          this.preloadingURL = null\n          return callback?.()\n        })\n    }\n  }\n}\n", "import { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport Attachment from \"trix/models/attachment\"\nimport Piece from \"trix/models/piece\"\n\nexport default class AttachmentPiece extends Piece {\n  static permittedAttributes = [ \"caption\", \"presentation\" ]\n\n  static fromJSON(pieceJSON) {\n    return new this(Attachment.fromJSON(pieceJSON.attachment), pieceJSON.attributes)\n  }\n\n  constructor(attachment) {\n    super(...arguments)\n    this.attachment = attachment\n    this.length = 1\n    this.ensureAttachmentExclusivelyHasAttribute(\"href\")\n    if (!this.attachment.hasContent()) {\n      this.removeProhibitedAttributes()\n    }\n  }\n\n  ensureAttachmentExclusivelyHasAttribute(attribute) {\n    if (this.hasAttribute(attribute)) {\n      if (!this.attachment.hasAttribute(attribute)) {\n        this.attachment.setAttributes(this.attributes.slice([ attribute ]))\n      }\n      this.attributes = this.attributes.remove(attribute)\n    }\n  }\n\n  removeProhibitedAttributes() {\n    const attributes = this.attributes.slice(AttachmentPiece.permittedAttributes)\n    if (!attributes.isEqualTo(this.attributes)) {\n      this.attributes = attributes\n    }\n  }\n\n  getValue() {\n    return this.attachment\n  }\n\n  isSerializable() {\n    return !this.attachment.isPending()\n  }\n\n  getCaption() {\n    return this.attributes.get(\"caption\") || \"\"\n  }\n\n  isEqualTo(piece) {\n    return super.isEqualTo(piece) && this.attachment.id === piece?.attachment?.id\n  }\n\n  toString() {\n    return OBJECT_REPLACEMENT_CHARACTER\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.attachment = this.attachment\n    return json\n  }\n\n  getCacheKey() {\n    return [ super.getCacheKey(...arguments), this.attachment.getCacheKey() ].join(\"/\")\n  }\n\n  toConsole() {\n    return JSON.stringify(this.toString())\n  }\n}\n\nPiece.registerType(\"attachment\", AttachmentPiece)\n", "import Piece from \"trix/models/piece\"\n\nimport { normalizeNewlines } from \"trix/core/helpers\"\n\nexport default class StringPiece extends Piece {\n  static fromJSON(pieceJSON) {\n    return new this(pieceJSON.string, pieceJSON.attributes)\n  }\n\n  constructor(string) {\n    super(...arguments)\n    this.string = normalizeNewlines(string)\n    this.length = this.string.length\n  }\n\n  getValue() {\n    return this.string\n  }\n\n  toString() {\n    return this.string.toString()\n  }\n\n  isBlockBreak() {\n    return this.toString() === \"\\n\" && this.getAttribute(\"blockBreak\") === true\n  }\n\n  toJSON() {\n    const result = super.toJSON(...arguments)\n    result.string = this.string\n    return result\n  }\n\n  // Splittable\n\n  canBeConsolidatedWith(piece) {\n    return piece && this.hasSameConstructorAs(piece) && this.hasSameAttributesAsPiece(piece)\n  }\n\n  consolidateWith(piece) {\n    return new this.constructor(this.toString() + piece.toString(), this.attributes)\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.length) {\n      left = this\n      right = null\n    } else {\n      left = new this.constructor(this.string.slice(0, offset), this.attributes)\n      right = new this.constructor(this.string.slice(offset), this.attributes)\n    }\n    return [ left, right ]\n  }\n\n  toConsole() {\n    let { string } = this\n    if (string.length > 15) {\n      string = string.slice(0, 14) + \"…\"\n    }\n    return JSON.stringify(string.toString())\n  }\n}\n\nPiece.registerType(\"string\", StringPiece)\n", "/* eslint-disable\n    prefer-const,\n*/\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { spliceArray } from \"trix/core/helpers\"\n\nexport default class SplittableList extends TrixObject {\n  static box(objects) {\n    if (objects instanceof this) {\n      return objects\n    } else {\n      return new this(objects)\n    }\n  }\n\n  constructor(objects = []) {\n    super(...arguments)\n    this.objects = objects.slice(0)\n    this.length = this.objects.length\n  }\n\n  indexOf(object) {\n    return this.objects.indexOf(object)\n  }\n\n  splice(...args) {\n    return new this.constructor(spliceArray(this.objects, ...args))\n  }\n\n  eachObject(callback) {\n    return this.objects.map((object, index) => callback(object, index))\n  }\n\n  insertObjectAtIndex(object, index) {\n    return this.splice(index, 0, object)\n  }\n\n  insertSplittableListAtIndex(splittableList, index) {\n    return this.splice(index, 0, ...splittableList.objects)\n  }\n\n  insertSplittableListAtPosition(splittableList, position) {\n    const [ objects, index ] = this.splitObjectAtPosition(position)\n    return new this.constructor(objects).insertSplittableListAtIndex(splittableList, index)\n  }\n\n  editObjectAtIndex(index, callback) {\n    return this.replaceObjectAtIndex(callback(this.objects[index]), index)\n  }\n\n  replaceObjectAtIndex(object, index) {\n    return this.splice(index, 1, object)\n  }\n\n  removeObjectAtIndex(index) {\n    return this.splice(index, 1)\n  }\n\n  getObjectAtIndex(index) {\n    return this.objects[index]\n  }\n\n  getSplittableListInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects.slice(leftIndex, rightIndex + 1))\n  }\n\n  selectSplittableList(test) {\n    const objects = this.objects.filter((object) => test(object))\n    return new this.constructor(objects)\n  }\n\n  removeObjectsInRange(range) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    return new this.constructor(objects).splice(leftIndex, rightIndex - leftIndex + 1)\n  }\n\n  transformObjectsInRange(range, transform) {\n    const [ objects, leftIndex, rightIndex ] = this.splitObjectsAtRange(range)\n    const transformedObjects = objects.map((object, index) =>\n      leftIndex <= index && index <= rightIndex ? transform(object) : object\n    )\n    return new this.constructor(transformedObjects)\n  }\n\n  splitObjectsAtRange(range) {\n    let rightOuterIndex\n    let [ objects, leftInnerIndex, offset ] = this.splitObjectAtPosition(startOfRange(range))\n    ;[ objects, rightOuterIndex ] = new this.constructor(objects).splitObjectAtPosition(endOfRange(range) + offset)\n\n    return [ objects, leftInnerIndex, rightOuterIndex - 1 ]\n  }\n\n  getObjectAtPosition(position) {\n    const { index } = this.findIndexAndOffsetAtPosition(position)\n    return this.objects[index]\n  }\n\n  splitObjectAtPosition(position) {\n    let splitIndex, splitOffset\n    const { index, offset } = this.findIndexAndOffsetAtPosition(position)\n    const objects = this.objects.slice(0)\n    if (index != null) {\n      if (offset === 0) {\n        splitIndex = index\n        splitOffset = 0\n      } else {\n        const object = this.getObjectAtIndex(index)\n        const [ leftObject, rightObject ] = object.splitAtOffset(offset)\n        objects.splice(index, 1, leftObject, rightObject)\n        splitIndex = index + 1\n        splitOffset = leftObject.getLength() - offset\n      }\n    } else {\n      splitIndex = objects.length\n      splitOffset = 0\n    }\n\n    return [ objects, splitIndex, splitOffset ]\n  }\n\n  consolidate() {\n    const objects = []\n    let pendingObject = this.objects[0]\n\n    this.objects.slice(1).forEach((object) => {\n      if (pendingObject.canBeConsolidatedWith?.(object)) {\n        pendingObject = pendingObject.consolidateWith(object)\n      } else {\n        objects.push(pendingObject)\n        pendingObject = object\n      }\n    })\n\n    if (pendingObject) {\n      objects.push(pendingObject)\n    }\n\n    return new this.constructor(objects)\n  }\n\n  consolidateFromIndexToIndex(startIndex, endIndex) {\n    const objects = this.objects.slice(0)\n    const objectsInRange = objects.slice(startIndex, endIndex + 1)\n    const consolidatedInRange = new this.constructor(objectsInRange).consolidate().toArray()\n    return this.splice(startIndex, objectsInRange.length, ...consolidatedInRange)\n  }\n\n  findIndexAndOffsetAtPosition(position) {\n    let index\n    let currentPosition = 0\n    for (index = 0; index < this.objects.length; index++) {\n      const object = this.objects[index]\n      const nextPosition = currentPosition + object.getLength()\n      if (currentPosition <= position && position < nextPosition) {\n        return { index, offset: position - currentPosition }\n      }\n      currentPosition = nextPosition\n    }\n    return { index: null, offset: null }\n  }\n\n  findPositionAtIndexAndOffset(index, offset) {\n    let position = 0\n    for (let currentIndex = 0; currentIndex < this.objects.length; currentIndex++) {\n      const object = this.objects[currentIndex]\n      if (currentIndex < index) {\n        position += object.getLength()\n      } else if (currentIndex === index) {\n        position += offset\n        break\n      }\n    }\n    return position\n  }\n\n  getEndPosition() {\n    if (this.endPosition == null) {\n      this.endPosition = 0\n      this.objects.forEach((object) => this.endPosition += object.getLength())\n    }\n\n    return this.endPosition\n  }\n\n  toString() {\n    return this.objects.join(\"\")\n  }\n\n  toArray() {\n    return this.objects.slice(0)\n  }\n\n  toJSON() {\n    return this.toArray()\n  }\n\n  isEqualTo(splittableList) {\n    return super.isEqualTo(...arguments) || objectArraysAreEqual(this.objects, splittableList?.objects)\n  }\n\n  contentsForInspection() {\n    return {\n      objects: `[${this.objects.map((object) => object.inspect()).join(\", \")}]`,\n    }\n  }\n}\n\nconst objectArraysAreEqual = function(left, right = []) {\n  if (left.length !== right.length) {\n    return false\n  }\n  let result = true\n  for (let index = 0; index < left.length; index++) {\n    const object = left[index]\n    if (result && !object.isEqualTo(right[index])) {\n      result = false\n    }\n  }\n  return result\n}\n\nconst startOfRange = (range) => range[0]\n\nconst endOfRange = (range) => range[1]\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport { getDirection } from \"trix/core/helpers\"\n\nimport Piece from \"trix/models/piece\"\nimport AttachmentPiece from \"trix/models/attachment_piece\"\nimport StringPiece from \"trix/models/string_piece\"\nimport SplittableList from \"trix/models/splittable_list\"\n\nimport Hash from \"trix/core/collections/hash\"\n\nexport default class Text extends TrixObject {\n  static textForAttachmentWithAttributes(attachment, attributes) {\n    const piece = new AttachmentPiece(attachment, attributes)\n    return new this([ piece ])\n  }\n\n  static textForStringWithAttributes(string, attributes) {\n    const piece = new StringPiece(string, attributes)\n    return new this([ piece ])\n  }\n\n  static fromJSON(textJSON) {\n    const pieces = Array.from(textJSON).map((pieceJSON) => Piece.fromJSON(pieceJSON))\n    return new this(pieces)\n  }\n\n  constructor(pieces = []) {\n    super(...arguments)\n    const notEmpty = pieces.filter((piece) => !piece.isEmpty())\n    this.pieceList = new SplittableList(notEmpty)\n  }\n\n  copy() {\n    return this.copyWithPieceList(this.pieceList)\n  }\n\n  copyWithPieceList(pieceList) {\n    return new this.constructor(pieceList.consolidate().toArray())\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const pieces = this.getPieces().map((piece) => objectMap.find(piece) || piece)\n    return new this.constructor(pieces)\n  }\n\n  appendText(text) {\n    return this.insertTextAtPosition(text, this.getLength())\n  }\n\n  insertTextAtPosition(text, position) {\n    return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(text.pieceList, position))\n  }\n\n  removeTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.removeObjectsInRange(range))\n  }\n\n  replaceTextAtRange(text, range) {\n    return this.removeTextAtRange(range).insertTextAtPosition(text, range[0])\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    if (range[0] <= position && position <= range[1]) return\n    const text = this.getTextAtRange(range)\n    const length = text.getLength()\n    if (range[0] < position) {\n      position -= length\n    }\n    return this.removeTextAtRange(range).insertTextAtPosition(text, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    const attributes = {}\n    attributes[attribute] = value\n    return this.addAttributesAtRange(attributes, range)\n  }\n\n  addAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAdditionalAttributes(attributes))\n    )\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithoutAttribute(attribute))\n    )\n  }\n\n  setAttributesAtRange(attributes, range) {\n    return this.copyWithPieceList(\n      this.pieceList.transformObjectsInRange(range, (piece) => piece.copyWithAttributes(attributes))\n    )\n  }\n\n  getAttributesAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)?.getAttributes() || {}\n  }\n\n  getCommonAttributes() {\n    const objects = Array.from(this.pieceList.toArray()).map((piece) => piece.getAttributes())\n    return Hash.fromCommonAttributesOfObjects(objects).toObject()\n  }\n\n  getCommonAttributesAtRange(range) {\n    return this.getTextAtRange(range).getCommonAttributes() || {}\n  }\n\n  getExpandedRangeForAttributeAtOffset(attributeName, offset) {\n    let right\n    let left = right = offset\n    const length = this.getLength()\n\n    while (left > 0 && this.getCommonAttributesAtRange([ left - 1, right ])[attributeName]) {\n      left--\n    }\n    while (right < length && this.getCommonAttributesAtRange([ offset, right + 1 ])[attributeName]) {\n      right++\n    }\n\n    return [ left, right ]\n  }\n\n  getTextAtRange(range) {\n    return this.copyWithPieceList(this.pieceList.getSplittableListInRange(range))\n  }\n\n  getStringAtRange(range) {\n    return this.pieceList.getSplittableListInRange(range).toString()\n  }\n\n  getStringAtPosition(position) {\n    return this.getStringAtRange([ position, position + 1 ])\n  }\n\n  startsWithString(string) {\n    return this.getStringAtRange([ 0, string.length ]) === string\n  }\n\n  endsWithString(string) {\n    const length = this.getLength()\n    return this.getStringAtRange([ length - string.length, length ]) === string\n  }\n\n  getAttachmentPieces() {\n    return this.pieceList.toArray().filter((piece) => !!piece.attachment)\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getAttachmentAndPositionById(attachmentId) {\n    let position = 0\n    for (const piece of this.pieceList.toArray()) {\n      if (piece.attachment?.id === attachmentId) {\n        return { attachment: piece.attachment, position }\n      }\n      position += piece.length\n    }\n    return { attachment: null, position: null }\n  }\n\n  getAttachmentById(attachmentId) {\n    const { attachment } = this.getAttachmentAndPositionById(attachmentId)\n    return attachment\n  }\n\n  getRangeOfAttachment(attachment) {\n    const attachmentAndPosition = this.getAttachmentAndPositionById(attachment.id)\n    const position = attachmentAndPosition.position\n    attachment = attachmentAndPosition.attachment\n    if (attachment) {\n      return [ position, position + 1 ]\n    }\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    if (range) {\n      return this.addAttributesAtRange(attributes, range)\n    } else {\n      return this\n    }\n  }\n\n  getLength() {\n    return this.pieceList.getEndPosition()\n  }\n\n  isEmpty() {\n    return this.getLength() === 0\n  }\n\n  isEqualTo(text) {\n    return super.isEqualTo(text) || text?.pieceList?.isEqualTo(this.pieceList)\n  }\n\n  isBlockBreak() {\n    return this.getLength() === 1 && this.pieceList.getObjectAtIndex(0).isBlockBreak()\n  }\n\n  eachPiece(callback) {\n    return this.pieceList.eachObject(callback)\n  }\n\n  getPieces() {\n    return this.pieceList.toArray()\n  }\n\n  getPieceAtPosition(position) {\n    return this.pieceList.getObjectAtPosition(position)\n  }\n\n  contentsForInspection() {\n    return { pieceList: this.pieceList.inspect() }\n  }\n\n  toSerializableText() {\n    const pieceList = this.pieceList.selectSplittableList((piece) => piece.isSerializable())\n    return this.copyWithPieceList(pieceList)\n  }\n\n  toString() {\n    return this.pieceList.toString()\n  }\n\n  toJSON() {\n    return this.pieceList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.pieceList.toArray().map((piece) => JSON.parse(piece.toConsole())))\n  }\n\n  // BIDI\n\n  getDirection() {\n    return getDirection(this.toString())\n  }\n\n  isRTL() {\n    return this.getDirection() === \"rtl\"\n  }\n}\n", "import TrixObject from \"trix/core/object\" // Don't override window.Object\nimport Text from \"trix/models/text\"\n\nimport {\n  arraysAreEqual,\n  getBlockConfig,\n  getListAttributeNames,\n  objectsAreEqual,\n  spliceArray,\n} from \"trix/core/helpers\"\n\nexport default class Block extends TrixObject {\n  static fromJSON(blockJSON) {\n    const text = Text.fromJSON(blockJSON.text)\n    return new this(text, blockJSON.attributes, blockJSON.htmlAttributes)\n  }\n\n  constructor(text, attributes, htmlAttributes) {\n    super(...arguments)\n    this.text = applyBlockBreakToText(text || new Text())\n    this.attributes = attributes || []\n    this.htmlAttributes = htmlAttributes || {}\n  }\n\n  isEmpty() {\n    return this.text.isBlockBreak()\n  }\n\n  isEqualTo(block) {\n    if (super.isEqualTo(block)) return true\n\n    return this.text.isEqualTo(block?.text) && arraysAreEqual(this.attributes, block?.attributes) && objectsAreEqual(this.htmlAttributes, block?.htmlAttributes)\n  }\n\n  copyWithText(text) {\n    return new Block(text, this.attributes, this.htmlAttributes)\n  }\n\n  copyWithoutText() {\n    return this.copyWithText(null)\n  }\n\n  copyWithAttributes(attributes) {\n    return new Block(this.text, attributes, this.htmlAttributes)\n  }\n\n  copyWithoutAttributes() {\n    return this.copyWithAttributes(null)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const mappedText = objectMap.find(this.text)\n    if (mappedText) {\n      return this.copyWithText(mappedText)\n    } else {\n      return this.copyWithText(this.text.copyUsingObjectMap(objectMap))\n    }\n  }\n\n  addAttribute(attribute) {\n    const attributes = this.attributes.concat(expandAttribute(attribute))\n    return this.copyWithAttributes(attributes)\n  }\n\n  addHTMLAttribute(attribute, value) {\n    const htmlAttributes = Object.assign({}, this.htmlAttributes, { [attribute]: value })\n    return new Block(this.text, this.attributes, htmlAttributes)\n  }\n\n  removeAttribute(attribute) {\n    const { listAttribute } = getBlockConfig(attribute)\n    const attributes = removeLastValue(removeLastValue(this.attributes, attribute), listAttribute)\n    return this.copyWithAttributes(attributes)\n  }\n\n  removeLastAttribute() {\n    return this.removeAttribute(this.getLastAttribute())\n  }\n\n  getLastAttribute() {\n    return getLastElement(this.attributes)\n  }\n\n  getAttributes() {\n    return this.attributes.slice(0)\n  }\n\n  getAttributeLevel() {\n    return this.attributes.length\n  }\n\n  getAttributeAtLevel(level) {\n    return this.attributes[level - 1]\n  }\n\n  hasAttribute(attributeName) {\n    return this.attributes.includes(attributeName)\n  }\n\n  hasAttributes() {\n    return this.getAttributeLevel() > 0\n  }\n\n  getLastNestableAttribute() {\n    return getLastElement(this.getNestableAttributes())\n  }\n\n  getNestableAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).nestable)\n  }\n\n  getNestingLevel() {\n    return this.getNestableAttributes().length\n  }\n\n  decreaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      return this.removeAttribute(attribute)\n    } else {\n      return this\n    }\n  }\n\n  increaseNestingLevel() {\n    const attribute = this.getLastNestableAttribute()\n    if (attribute) {\n      const index = this.attributes.lastIndexOf(attribute)\n      const attributes = spliceArray(this.attributes, index + 1, 0, ...expandAttribute(attribute))\n      return this.copyWithAttributes(attributes)\n    } else {\n      return this\n    }\n  }\n\n  getListItemAttributes() {\n    return this.attributes.filter((attribute) => getBlockConfig(attribute).listAttribute)\n  }\n\n  isListItem() {\n    return getBlockConfig(this.getLastAttribute())?.listAttribute\n  }\n\n  isTerminalBlock() {\n    return getBlockConfig(this.getLastAttribute())?.terminal\n  }\n\n  breaksOnReturn() {\n    return getBlockConfig(this.getLastAttribute())?.breakOnReturn\n  }\n\n  findLineBreakInDirectionFromPosition(direction, position) {\n    const string = this.toString()\n    let result\n    switch (direction) {\n      case \"forward\":\n        result = string.indexOf(\"\\n\", position)\n        break\n      case \"backward\":\n        result = string.slice(0, position).lastIndexOf(\"\\n\")\n    }\n\n    if (result !== -1) {\n      return result\n    }\n  }\n\n  contentsForInspection() {\n    return {\n      text: this.text.inspect(),\n      attributes: this.attributes,\n    }\n  }\n\n  toString() {\n    return this.text.toString()\n  }\n\n  toJSON() {\n    return {\n      text: this.text,\n      attributes: this.attributes,\n      htmlAttributes: this.htmlAttributes,\n    }\n  }\n\n  // BIDI\n\n  getDirection() {\n    return this.text.getDirection()\n  }\n\n  isRTL() {\n    return this.text.isRTL()\n  }\n\n  // Splittable\n\n  getLength() {\n    return this.text.getLength()\n  }\n\n  canBeConsolidatedWith(block) {\n    return !this.hasAttributes() && !block.hasAttributes() && this.getDirection() === block.getDirection()\n  }\n\n  consolidateWith(block) {\n    const newlineText = Text.textForStringWithAttributes(\"\\n\")\n    const text = this.getTextWithoutBlockBreak().appendText(newlineText)\n    return this.copyWithText(text.appendText(block.text))\n  }\n\n  splitAtOffset(offset) {\n    let left, right\n    if (offset === 0) {\n      left = null\n      right = this\n    } else if (offset === this.getLength()) {\n      left = this\n      right = null\n    } else {\n      left = this.copyWithText(this.text.getTextAtRange([ 0, offset ]))\n      right = this.copyWithText(this.text.getTextAtRange([ offset, this.getLength() ]))\n    }\n    return [ left, right ]\n  }\n\n  getBlockBreakPosition() {\n    return this.text.getLength() - 1\n  }\n\n  getTextWithoutBlockBreak() {\n    if (textEndsInBlockBreak(this.text)) {\n      return this.text.getTextAtRange([ 0, this.getBlockBreakPosition() ])\n    } else {\n      return this.text.copy()\n    }\n  }\n\n  // Grouping\n\n  canBeGrouped(depth) {\n    return this.attributes[depth]\n  }\n\n  canBeGroupedWith(otherBlock, depth) {\n    const otherAttributes = otherBlock.getAttributes()\n    const otherAttribute = otherAttributes[depth]\n    const attribute = this.attributes[depth]\n\n    return (\n      attribute === otherAttribute &&\n      !(getBlockConfig(attribute).group === false && !getListAttributeNames().includes(otherAttributes[depth + 1])) &&\n      (this.getDirection() === otherBlock.getDirection() || otherBlock.isEmpty())\n    )\n  }\n}\n\n// Block breaks\n\nconst applyBlockBreakToText = function(text) {\n  text = unmarkExistingInnerBlockBreaksInText(text)\n  text = addBlockBreakToText(text)\n  return text\n}\n\nconst unmarkExistingInnerBlockBreaksInText = function(text) {\n  let modified = false\n  const pieces = text.getPieces()\n\n  let innerPieces = pieces.slice(0, pieces.length - 1)\n  const lastPiece = pieces[pieces.length - 1]\n\n  if (!lastPiece) return text\n\n  innerPieces = innerPieces.map((piece) => {\n    if (piece.isBlockBreak()) {\n      modified = true\n      return unmarkBlockBreakPiece(piece)\n    } else {\n      return piece\n    }\n  })\n\n  if (modified) {\n    return new Text([ ...innerPieces, lastPiece ])\n  } else {\n    return text\n  }\n}\n\nconst blockBreakText = Text.textForStringWithAttributes(\"\\n\", { blockBreak: true })\n\nconst addBlockBreakToText = function(text) {\n  if (textEndsInBlockBreak(text)) {\n    return text\n  } else {\n    return text.appendText(blockBreakText)\n  }\n}\n\nconst textEndsInBlockBreak = function(text) {\n  const length = text.getLength()\n  if (length === 0) {\n    return false\n  }\n  const endText = text.getTextAtRange([ length - 1, length ])\n  return endText.isBlockBreak()\n}\n\nconst unmarkBlockBreakPiece = (piece) => piece.copyWithoutAttribute(\"blockBreak\")\n\n// Attributes\n\nconst expandAttribute = function(attribute) {\n  const { listAttribute } = getBlockConfig(attribute)\n  if (listAttribute) {\n    return [ listAttribute, attribute ]\n  } else {\n    return [ attribute ]\n  }\n}\n\n// Array helpers\n\nconst getLastElement = (array) => array.slice(-1)[0]\n\nconst removeLastValue = function(array, value) {\n  const index = array.lastIndexOf(value)\n  if (index === -1) {\n    return array\n  } else {\n    return spliceArray(array, index, 1)\n  }\n}\n", "import * as config from \"trix/config\"\nimport TrixObject from \"trix/core/object\" // Don't override window.Object\n\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport SplittableList from \"trix/models/splittable_list\"\nimport Hash from \"trix/core/collections/hash\"\nimport ObjectMap from \"trix/core/collections/object_map\"\n\nimport { arraysAreEqual, getBlockConfig, normalizeRange, rangeIsCollapsed } from \"trix/core/helpers\"\n\nexport default class Document extends TrixObject {\n  static fromJSON(documentJSON) {\n    const blocks = Array.from(documentJSON).map((blockJSON) => Block.fromJSON(blockJSON))\n    return new this(blocks)\n  }\n\n  static fromString(string, textAttributes) {\n    const text = Text.textForStringWithAttributes(string, textAttributes)\n    return new this([ new Block(text) ])\n  }\n\n  constructor(blocks = []) {\n    super(...arguments)\n    if (blocks.length === 0) {\n      blocks = [ new Block() ]\n    }\n    this.blockList = SplittableList.box(blocks)\n  }\n\n  isEmpty() {\n    const block = this.getBlockAtIndex(0)\n    return this.blockList.length === 1 && block.isEmpty() && !block.hasAttributes()\n  }\n\n  copy(options = {}) {\n    const blocks = options.consolidateBlocks ? this.blockList.consolidate().toArray() : this.blockList.toArray()\n\n    return new this.constructor(blocks)\n  }\n\n  copyUsingObjectsFromDocument(sourceDocument) {\n    const objectMap = new ObjectMap(sourceDocument.getObjects())\n    return this.copyUsingObjectMap(objectMap)\n  }\n\n  copyUsingObjectMap(objectMap) {\n    const blocks = this.getBlocks().map((block) => {\n      const mappedBlock = objectMap.find(block)\n      return mappedBlock || block.copyUsingObjectMap(objectMap)\n    })\n    return new this.constructor(blocks)\n  }\n\n  copyWithBaseBlockAttributes(blockAttributes = []) {\n    const blocks = this.getBlocks().map((block) => {\n      const attributes = blockAttributes.concat(block.getAttributes())\n      return block.copyWithAttributes(attributes)\n    })\n\n    return new this.constructor(blocks)\n  }\n\n  replaceBlock(oldBlock, newBlock) {\n    const index = this.blockList.indexOf(oldBlock)\n    if (index === -1) {\n      return this\n    }\n    return new this.constructor(this.blockList.replaceObjectAtIndex(newBlock, index))\n  }\n\n  insertDocumentAtRange(document, range) {\n    const { blockList } = document\n    range = normalizeRange(range)\n    let [ position ] = range\n    const { index, offset } = this.locationFromPosition(position)\n\n    let result = this\n    const block = this.getBlockAtPosition(position)\n\n    if (rangeIsCollapsed(range) && block.isEmpty() && !block.hasAttributes()) {\n      result = new this.constructor(result.blockList.removeObjectAtIndex(index))\n    } else if (block.getBlockBreakPosition() === offset) {\n      position++\n    }\n\n    result = result.removeTextAtRange(range)\n    return new this.constructor(result.blockList.insertSplittableListAtPosition(blockList, position))\n  }\n\n  mergeDocumentAtRange(document, range) {\n    let formattedDocument, result\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const blockAttributes = this.getBlockAtIndex(startLocation.index).getAttributes()\n    const baseBlockAttributes = document.getBaseBlockAttributes()\n    const trailingBlockAttributes = blockAttributes.slice(-baseBlockAttributes.length)\n\n    if (arraysAreEqual(baseBlockAttributes, trailingBlockAttributes)) {\n      const leadingBlockAttributes = blockAttributes.slice(0, -baseBlockAttributes.length)\n      formattedDocument = document.copyWithBaseBlockAttributes(leadingBlockAttributes)\n    } else {\n      formattedDocument = document.copy({ consolidateBlocks: true }).copyWithBaseBlockAttributes(blockAttributes)\n    }\n\n    const blockCount = formattedDocument.getBlockCount()\n    const firstBlock = formattedDocument.getBlockAtIndex(0)\n\n    if (arraysAreEqual(blockAttributes, firstBlock.getAttributes())) {\n      const firstText = firstBlock.getTextWithoutBlockBreak()\n      result = this.insertTextAtRange(firstText, range)\n\n      if (blockCount > 1) {\n        formattedDocument = new this.constructor(formattedDocument.getBlocks().slice(1))\n        const position = startPosition + firstText.getLength()\n        result = result.insertDocumentAtRange(formattedDocument, position)\n      }\n    } else {\n      result = this.insertDocumentAtRange(formattedDocument, range)\n    }\n\n    return result\n  }\n\n  insertTextAtRange(text, range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { index, offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    return new this.constructor(\n      document.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(block.text.insertTextAtPosition(text, offset))\n      )\n    )\n  }\n\n  removeTextAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ leftPosition, rightPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this\n    }\n    const [ leftLocation, rightLocation ] = Array.from(this.locationRangeFromRange(range))\n\n    const leftIndex = leftLocation.index\n    const leftOffset = leftLocation.offset\n    const leftBlock = this.getBlockAtIndex(leftIndex)\n\n    const rightIndex = rightLocation.index\n    const rightOffset = rightLocation.offset\n    const rightBlock = this.getBlockAtIndex(rightIndex)\n\n    const removeRightNewline =\n      rightPosition - leftPosition === 1 &&\n      leftBlock.getBlockBreakPosition() === leftOffset &&\n      rightBlock.getBlockBreakPosition() !== rightOffset &&\n      rightBlock.text.getStringAtPosition(rightOffset) === \"\\n\"\n\n    if (removeRightNewline) {\n      blocks = this.blockList.editObjectAtIndex(rightIndex, (block) =>\n        block.copyWithText(block.text.removeTextAtRange([ rightOffset, rightOffset + 1 ]))\n      )\n    } else {\n      let block\n      const leftText = leftBlock.text.getTextAtRange([ 0, leftOffset ])\n      const rightText = rightBlock.text.getTextAtRange([ rightOffset, rightBlock.getLength() ])\n      const text = leftText.appendText(rightText)\n\n      const removingLeftBlock = leftIndex !== rightIndex && leftOffset === 0\n      const useRightBlock = removingLeftBlock && leftBlock.getAttributeLevel() >= rightBlock.getAttributeLevel()\n\n      if (useRightBlock) {\n        block = rightBlock.copyWithText(text)\n      } else {\n        block = leftBlock.copyWithText(text)\n      }\n\n      const affectedBlockCount = rightIndex + 1 - leftIndex\n      blocks = this.blockList.splice(leftIndex, affectedBlockCount, block)\n    }\n\n    return new this.constructor(blocks)\n  }\n\n  moveTextFromRangeToPosition(range, position) {\n    let text\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    if (startPosition <= position && position <= endPosition) {\n      return this\n    }\n\n    let document = this.getDocumentAtRange(range)\n    let result = this.removeTextAtRange(range)\n\n    const movingRightward = startPosition < position\n    if (movingRightward) {\n      position -= document.getLength()\n    }\n\n    const [ firstBlock, ...blocks ] = document.getBlocks()\n    if (blocks.length === 0) {\n      text = firstBlock.getTextWithoutBlockBreak()\n      if (movingRightward) {\n        position += 1\n      }\n    } else {\n      text = firstBlock.text\n    }\n\n    result = result.insertTextAtRange(text, position)\n    if (blocks.length === 0) {\n      return result\n    }\n\n    document = new this.constructor(blocks)\n    position += text.getLength()\n\n    return result.insertDocumentAtRange(document, position)\n  }\n\n  addAttributeAtRange(attribute, value, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(\n      range,\n      (block, textRange, index) =>\n        blockList = blockList.editObjectAtIndex(index, function() {\n          if (getBlockConfig(attribute)) {\n            return block.addAttribute(attribute, value)\n          } else {\n            if (textRange[0] === textRange[1]) {\n              return block\n            } else {\n              return block.copyWithText(block.text.addAttributeAtRange(attribute, value, textRange))\n            }\n          }\n        })\n    )\n    return new this.constructor(blockList)\n  }\n\n  addAttribute(attribute, value) {\n    let { blockList } = this\n    this.eachBlock(\n      (block, index) => blockList = blockList.editObjectAtIndex(index, () => block.addAttribute(attribute, value))\n    )\n    return new this.constructor(blockList)\n  }\n\n  removeAttributeAtRange(attribute, range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (getBlockConfig(attribute)) {\n        blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(attribute))\n      } else if (textRange[0] !== textRange[1]) {\n        blockList = blockList.editObjectAtIndex(index, () =>\n          block.copyWithText(block.text.removeAttributeAtRange(attribute, textRange))\n        )\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    const [ startPosition ] = Array.from(range)\n    const { index } = this.locationFromPosition(startPosition)\n    const text = this.getTextAtIndex(index)\n\n    return new this.constructor(\n      this.blockList.editObjectAtIndex(index, (block) =>\n        block.copyWithText(text.updateAttributesForAttachment(attributes, attachment))\n      )\n    )\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.removeAttributeAtRange(attribute, range)\n  }\n\n  setHTMLAttributeAtPosition(position, name, value) {\n    const block = this.getBlockAtPosition(position)\n    const updatedBlock = block.addHTMLAttribute(name, value)\n    return this.replaceBlock(block, updatedBlock)\n  }\n\n  insertBlockBreakAtRange(range) {\n    let blocks\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    const { offset } = this.locationFromPosition(startPosition)\n\n    const document = this.removeTextAtRange(range)\n    if (offset === 0) {\n      blocks = [ new Block() ]\n    }\n    return new this.constructor(\n      document.blockList.insertSplittableListAtPosition(new SplittableList(blocks), startPosition)\n    )\n  }\n\n  applyBlockAttributeAtRange(attributeName, value, range) {\n    const expanded = this.expandRangeToLineBreaksAndSplitBlocks(range)\n    let document = expanded.document\n    range = expanded.range\n    const blockConfig = getBlockConfig(attributeName)\n\n    if (blockConfig.listAttribute) {\n      document = document.removeLastListAttributeAtRange(range, { exceptAttributeName: attributeName })\n      const converted = document.convertLineBreaksToBlockBreaksInRange(range)\n      document = converted.document\n      range = converted.range\n    } else if (blockConfig.exclusive) {\n      document = document.removeBlockAttributesAtRange(range)\n    } else if (blockConfig.terminal) {\n      document = document.removeLastTerminalAttributeAtRange(range)\n    } else {\n      document = document.consolidateBlocksAtRange(range)\n    }\n\n    return document.addAttributeAtRange(attributeName, value, range)\n  }\n\n  removeLastListAttributeAtRange(range, options = {}) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).listAttribute) {\n        return\n      }\n      if (lastAttributeName === options.exceptAttributeName) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeLastTerminalAttributeAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      const lastAttributeName = block.getLastAttribute()\n      if (!lastAttributeName) {\n        return\n      }\n      if (!getBlockConfig(lastAttributeName).terminal) {\n        return\n      }\n      blockList = blockList.editObjectAtIndex(index, () => block.removeAttribute(lastAttributeName))\n    })\n    return new this.constructor(blockList)\n  }\n\n  removeBlockAttributesAtRange(range) {\n    let { blockList } = this\n    this.eachBlockAtRange(range, function(block, textRange, index) {\n      if (block.hasAttributes()) {\n        blockList = blockList.editObjectAtIndex(index, () => block.copyWithoutAttributes())\n      }\n    })\n    return new this.constructor(blockList)\n  }\n\n  expandRangeToLineBreaksAndSplitBlocks(range) {\n    let position\n    range = normalizeRange(range)\n    let [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    let document = this\n\n    const startBlock = document.getBlockAtIndex(startLocation.index)\n    startLocation.offset = startBlock.findLineBreakInDirectionFromPosition(\"backward\", startLocation.offset)\n    if (startLocation.offset != null) {\n      position = document.positionFromLocation(startLocation)\n      document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      endLocation.index += 1\n      endLocation.offset -= document.getBlockAtIndex(startLocation.index).getLength()\n      startLocation.index += 1\n    }\n    startLocation.offset = 0\n\n    if (endLocation.offset === 0 && endLocation.index > startLocation.index) {\n      endLocation.index -= 1\n      endLocation.offset = document.getBlockAtIndex(endLocation.index).getBlockBreakPosition()\n    } else {\n      const endBlock = document.getBlockAtIndex(endLocation.index)\n      if (endBlock.text.getStringAtRange([ endLocation.offset - 1, endLocation.offset ]) === \"\\n\") {\n        endLocation.offset -= 1\n      } else {\n        endLocation.offset = endBlock.findLineBreakInDirectionFromPosition(\"forward\", endLocation.offset)\n      }\n      if (endLocation.offset !== endBlock.getBlockBreakPosition()) {\n        position = document.positionFromLocation(endLocation)\n        document = document.insertBlockBreakAtRange([ position, position + 1 ])\n      }\n    }\n\n    startPosition = document.positionFromLocation(startLocation)\n    endPosition = document.positionFromLocation(endLocation)\n    range = normalizeRange([ startPosition, endPosition ])\n\n    return { document, range }\n  }\n\n  convertLineBreaksToBlockBreaksInRange(range) {\n    range = normalizeRange(range)\n    let [ position ] = range\n    const string = this.getStringAtRange(range).slice(0, -1)\n    let document = this\n\n    string.replace(/.*?\\n/g, function(match) {\n      position += match.length\n      document = document.insertBlockBreakAtRange([ position - 1, position ])\n    })\n\n    return { document, range }\n  }\n\n  consolidateBlocksAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startIndex = this.locationFromPosition(startPosition).index\n    const endIndex = this.locationFromPosition(endPosition).index\n    return new this.constructor(this.blockList.consolidateFromIndexToIndex(startIndex, endIndex))\n  }\n\n  getDocumentAtRange(range) {\n    range = normalizeRange(range)\n    const blocks = this.blockList.getSplittableListInRange(range).toArray()\n    return new this.constructor(blocks)\n  }\n\n  getStringAtRange(range) {\n    let endIndex\n    const array = range = normalizeRange(range),\n      endPosition = array[array.length - 1]\n    if (endPosition !== this.getLength()) {\n      endIndex = -1\n    }\n    return this.getDocumentAtRange(range).toString().slice(0, endIndex)\n  }\n\n  getBlockAtIndex(index) {\n    return this.blockList.getObjectAtIndex(index)\n  }\n\n  getBlockAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getBlockAtIndex(index)\n  }\n\n  getTextAtIndex(index) {\n    return this.getBlockAtIndex(index)?.text\n  }\n\n  getTextAtPosition(position) {\n    const { index } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index)\n  }\n\n  getPieceAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getPieceAtPosition(offset)\n  }\n\n  getCharacterAtPosition(position) {\n    const { index, offset } = this.locationFromPosition(position)\n    return this.getTextAtIndex(index).getStringAtRange([ offset, offset + 1 ])\n  }\n\n  getLength() {\n    return this.blockList.getEndPosition()\n  }\n\n  getBlocks() {\n    return this.blockList.toArray()\n  }\n\n  getBlockCount() {\n    return this.blockList.length\n  }\n\n  getEditCount() {\n    return this.editCount\n  }\n\n  eachBlock(callback) {\n    return this.blockList.eachObject(callback)\n  }\n\n  eachBlockAtRange(range, callback) {\n    let block, textRange\n    range = normalizeRange(range)\n    const [ startPosition, endPosition ] = range\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n\n    if (startLocation.index === endLocation.index) {\n      block = this.getBlockAtIndex(startLocation.index)\n      textRange = [ startLocation.offset, endLocation.offset ]\n      return callback(block, textRange, startLocation.index)\n    } else {\n      for (let index = startLocation.index; index <= endLocation.index; index++) {\n        block = this.getBlockAtIndex(index)\n        if (block) {\n          switch (index) {\n            case startLocation.index:\n              textRange = [ startLocation.offset, block.text.getLength() ]\n              break\n            case endLocation.index:\n              textRange = [ 0, endLocation.offset ]\n              break\n            default:\n              textRange = [ 0, block.text.getLength() ]\n          }\n          callback(block, textRange, index)\n        }\n      }\n    }\n  }\n\n  getCommonAttributesAtRange(range) {\n    range = normalizeRange(range)\n    const [ startPosition ] = range\n    if (rangeIsCollapsed(range)) {\n      return this.getCommonAttributesAtPosition(startPosition)\n    } else {\n      const textAttributes = []\n      const blockAttributes = []\n\n      this.eachBlockAtRange(range, function(block, textRange) {\n        if (textRange[0] !== textRange[1]) {\n          textAttributes.push(block.text.getCommonAttributesAtRange(textRange))\n          return blockAttributes.push(attributesForBlock(block))\n        }\n      })\n\n      return Hash.fromCommonAttributesOfObjects(textAttributes)\n        .merge(Hash.fromCommonAttributesOfObjects(blockAttributes))\n        .toObject()\n    }\n  }\n\n  getCommonAttributesAtPosition(position) {\n    let key, value\n    const { index, offset } = this.locationFromPosition(position)\n    const block = this.getBlockAtIndex(index)\n    if (!block) {\n      return {}\n    }\n\n    const commonAttributes = attributesForBlock(block)\n    const attributes = block.text.getAttributesAtPosition(offset)\n    const attributesLeft = block.text.getAttributesAtPosition(offset - 1)\n    const inheritableAttributes = Object.keys(config.textAttributes).filter((key) => {\n      return config.textAttributes[key].inheritable\n    })\n\n    for (key in attributesLeft) {\n      value = attributesLeft[key]\n      if (value === attributes[key] || inheritableAttributes.includes(key)) {\n        commonAttributes[key] = value\n      }\n    }\n\n    return commonAttributes\n  }\n\n  getRangeOfCommonAttributeAtPosition(attributeName, position) {\n    const { index, offset } = this.locationFromPosition(position)\n    const text = this.getTextAtIndex(index)\n    const [ startOffset, endOffset ] = Array.from(text.getExpandedRangeForAttributeAtOffset(attributeName, offset))\n\n    const start = this.positionFromLocation({ index, offset: startOffset })\n    const end = this.positionFromLocation({ index, offset: endOffset })\n    return normalizeRange([ start, end ])\n  }\n\n  getBaseBlockAttributes() {\n    let baseBlockAttributes = this.getBlockAtIndex(0).getAttributes()\n\n    for (let blockIndex = 1; blockIndex < this.getBlockCount(); blockIndex++) {\n      const blockAttributes = this.getBlockAtIndex(blockIndex).getAttributes()\n      const lastAttributeIndex = Math.min(baseBlockAttributes.length, blockAttributes.length)\n\n      baseBlockAttributes = (() => {\n        const result = []\n        for (let index = 0; index < lastAttributeIndex; index++) {\n          if (blockAttributes[index] !== baseBlockAttributes[index]) {\n            break\n          }\n          result.push(blockAttributes[index])\n        }\n        return result\n      })()\n    }\n\n    return baseBlockAttributes\n  }\n\n  getAttachmentById(attachmentId) {\n    for (const attachment of this.getAttachments()) {\n      if (attachment.id === attachmentId) {\n        return attachment\n      }\n    }\n  }\n\n  getAttachmentPieces() {\n    let attachmentPieces = []\n    this.blockList.eachObject(({ text }) => attachmentPieces = attachmentPieces.concat(text.getAttachmentPieces()))\n    return attachmentPieces\n  }\n\n  getAttachments() {\n    return this.getAttachmentPieces().map((piece) => piece.attachment)\n  }\n\n  getRangeOfAttachment(attachment) {\n    let position = 0\n    const iterable = this.blockList.toArray()\n    for (let index = 0; index < iterable.length; index++) {\n      const { text } = iterable[index]\n      const textRange = text.getRangeOfAttachment(attachment)\n      if (textRange) {\n        return normalizeRange([ position + textRange[0], position + textRange[1] ])\n      }\n      position += text.getLength()\n    }\n  }\n\n  getLocationRangeOfAttachment(attachment) {\n    const range = this.getRangeOfAttachment(attachment)\n    return this.locationRangeFromRange(range)\n  }\n\n  getAttachmentPieceForAttachment(attachment) {\n    for (const piece of this.getAttachmentPieces()) {\n      if (piece.attachment === attachment) {\n        return piece\n      }\n    }\n  }\n\n  findRangesForBlockAttribute(attributeName) {\n    let position = 0\n    const ranges = []\n\n    this.getBlocks().forEach((block) => {\n      const length = block.getLength()\n      if (block.hasAttribute(attributeName)) {\n        ranges.push([ position, position + length ])\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  findRangesForTextAttribute(attributeName, { withValue } = {}) {\n    let position = 0\n    let range = []\n    const ranges = []\n\n    const match = function(piece) {\n      if (withValue) {\n        return piece.getAttribute(attributeName) === withValue\n      } else {\n        return piece.hasAttribute(attributeName)\n      }\n    }\n\n    this.getPieces().forEach((piece) => {\n      const length = piece.getLength()\n      if (match(piece)) {\n        if (range[1] === position) {\n          range[1] = position + length\n        } else {\n          ranges.push(range = [ position, position + length ])\n        }\n      }\n      position += length\n    })\n\n    return ranges\n  }\n\n  locationFromPosition(position) {\n    const location = this.blockList.findIndexAndOffsetAtPosition(Math.max(0, position))\n    if (location.index != null) {\n      return location\n    } else {\n      const blocks = this.getBlocks()\n      return { index: blocks.length - 1, offset: blocks[blocks.length - 1].getLength() }\n    }\n  }\n\n  positionFromLocation(location) {\n    return this.blockList.findPositionAtIndexAndOffset(location.index, location.offset)\n  }\n\n  locationRangeFromPosition(position) {\n    return normalizeRange(this.locationFromPosition(position))\n  }\n\n  locationRangeFromRange(range) {\n    range = normalizeRange(range)\n    if (!range) return\n\n    const [ startPosition, endPosition ] = Array.from(range)\n    const startLocation = this.locationFromPosition(startPosition)\n    const endLocation = this.locationFromPosition(endPosition)\n    return normalizeRange([ startLocation, endLocation ])\n  }\n\n  rangeFromLocationRange(locationRange) {\n    let rightPosition\n    locationRange = normalizeRange(locationRange)\n    const leftPosition = this.positionFromLocation(locationRange[0])\n    if (!rangeIsCollapsed(locationRange)) {\n      rightPosition = this.positionFromLocation(locationRange[1])\n    }\n    return normalizeRange([ leftPosition, rightPosition ])\n  }\n\n  isEqualTo(document) {\n    return this.blockList.isEqualTo(document?.blockList)\n  }\n\n  getTexts() {\n    return this.getBlocks().map((block) => block.text)\n  }\n\n  getPieces() {\n    const pieces = []\n\n    Array.from(this.getTexts()).forEach((text) => {\n      pieces.push(...Array.from(text.getPieces() || []))\n    })\n\n    return pieces\n  }\n\n  getObjects() {\n    return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())\n  }\n\n  toSerializableDocument() {\n    const blocks = []\n    this.blockList.eachObject((block) => blocks.push(block.copyWithText(block.text.toSerializableText())))\n    return new this.constructor(blocks)\n  }\n\n  toString() {\n    return this.blockList.toString()\n  }\n\n  toJSON() {\n    return this.blockList.toJSON()\n  }\n\n  toConsole() {\n    return JSON.stringify(this.blockList.toArray().map((block) => JSON.parse(block.text.toConsole())))\n  }\n}\n\nconst attributesForBlock = function(block) {\n  const attributes = {}\n  const attributeName = block.getLastAttribute()\n  if (attributeName) {\n    attributes[attributeName] = true\n  }\n  return attributes\n}\n", "/* eslint-disable\n    no-case-declarations,\n    no-irregular-whitespace,\n*/\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\nimport Document from \"trix/models/document\"\nimport HTMLSanitizer from \"trix/models/html_sanitizer\"\n\nimport {\n  arraysAreEqual,\n  breakableWhitespacePattern,\n  elementContainsNode,\n  findClosestElementFromNode,\n  getBlockTagNames,\n  makeElement,\n  nodeIsAttachmentElement,\n  normalizeSpaces,\n  removeNode,\n  squishBreakableWhitespace,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nconst pieceForString = (string, attributes = {}) => {\n  const type = \"string\"\n  string = normalizeSpaces(string)\n  return { string, attributes, type }\n}\n\nconst pieceForAttachment = (attachment, attributes = {}) => {\n  const type = \"attachment\"\n  return { attachment, attributes, type }\n}\n\nconst blockForAttributes = (attributes = {}, htmlAttributes = {}) => {\n  const text = []\n  return { text, attributes, htmlAttributes }\n}\n\nconst parseTrixDataAttribute = (element, name) => {\n  try {\n    return JSON.parse(element.getAttribute(`data-trix-${name}`))\n  } catch (error) {\n    return {}\n  }\n}\n\nconst getImageDimensions = (element) => {\n  const width = element.getAttribute(\"width\")\n  const height = element.getAttribute(\"height\")\n  const dimensions = {}\n  if (width) {\n    dimensions.width = parseInt(width, 10)\n  }\n  if (height) {\n    dimensions.height = parseInt(height, 10)\n  }\n  return dimensions\n}\n\nexport default class HTMLParser extends BasicObject {\n  static parse(html, options) {\n    const parser = new this(html, options)\n    parser.parse()\n    return parser\n  }\n\n  constructor(html, { referenceElement } = {}) {\n    super(...arguments)\n    this.html = html\n    this.referenceElement = referenceElement\n    this.blocks = []\n    this.blockElements = []\n    this.processedElements = []\n  }\n\n  getDocument() {\n    return Document.fromJSON(this.blocks)\n  }\n\n  // HTML parsing\n\n  parse() {\n    try {\n      this.createHiddenContainer()\n      HTMLSanitizer.setHTML(this.containerElement, this.html)\n      const walker = walkTree(this.containerElement, { usingFilter: nodeFilter })\n      while (walker.nextNode()) {\n        this.processNode(walker.currentNode)\n      }\n      return this.translateBlockElementMarginsToNewlines()\n    } finally {\n      this.removeHiddenContainer()\n    }\n  }\n\n  createHiddenContainer() {\n    if (this.referenceElement) {\n      this.containerElement = this.referenceElement.cloneNode(false)\n      this.containerElement.removeAttribute(\"id\")\n      this.containerElement.setAttribute(\"data-trix-internal\", \"\")\n      this.containerElement.style.display = \"none\"\n      return this.referenceElement.parentNode.insertBefore(this.containerElement, this.referenceElement.nextSibling)\n    } else {\n      this.containerElement = makeElement({ tagName: \"div\", style: { display: \"none\" } })\n      return document.body.appendChild(this.containerElement)\n    }\n  }\n\n  removeHiddenContainer() {\n    return removeNode(this.containerElement)\n  }\n\n  processNode(node) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        if (!this.isInsignificantTextNode(node)) {\n          this.appendBlockForTextNode(node)\n          return this.processTextNode(node)\n        }\n        break\n      case Node.ELEMENT_NODE:\n        this.appendBlockForElement(node)\n        return this.processElement(node)\n    }\n  }\n\n  appendBlockForTextNode(node) {\n    const element = node.parentNode\n    if (element === this.currentBlockElement && this.isBlockElement(node.previousSibling)) {\n      return this.appendStringWithAttributes(\"\\n\")\n    } else if (element === this.containerElement || this.isBlockElement(element)) {\n      const attributes = this.getBlockAttributes(element)\n      const htmlAttributes = this.getBlockHTMLAttributes(element)\n      if (!arraysAreEqual(attributes, this.currentBlock?.attributes)) {\n        this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n        this.currentBlockElement = element\n      }\n    }\n  }\n\n  appendBlockForElement(element) {\n    const elementIsBlockElement = this.isBlockElement(element)\n    const currentBlockContainsElement = elementContainsNode(this.currentBlockElement, element)\n\n    if (elementIsBlockElement && !this.isBlockElement(element.firstChild)) {\n      if (!this.isInsignificantTextNode(element.firstChild) || !this.isBlockElement(element.firstElementChild)) {\n        const attributes = this.getBlockAttributes(element)\n        const htmlAttributes = this.getBlockHTMLAttributes(element)\n        if (element.firstChild) {\n          if (!(currentBlockContainsElement && arraysAreEqual(attributes, this.currentBlock.attributes))) {\n            this.currentBlock = this.appendBlockForAttributesWithElement(attributes, element, htmlAttributes)\n            this.currentBlockElement = element\n          } else {\n            return this.appendStringWithAttributes(\"\\n\")\n          }\n        }\n      }\n    } else if (this.currentBlockElement && !currentBlockContainsElement && !elementIsBlockElement) {\n      const parentBlockElement = this.findParentBlockElement(element)\n      if (parentBlockElement) {\n        return this.appendBlockForElement(parentBlockElement)\n      } else {\n        this.currentBlock = this.appendEmptyBlock()\n        this.currentBlockElement = null\n      }\n    }\n  }\n\n  findParentBlockElement(element) {\n    let { parentElement } = element\n    while (parentElement && parentElement !== this.containerElement) {\n      if (this.isBlockElement(parentElement) && this.blockElements.includes(parentElement)) {\n        return parentElement\n      } else {\n        parentElement = parentElement.parentElement\n      }\n    }\n    return null\n  }\n\n  processTextNode(node) {\n    let string = node.data\n    if (!elementCanDisplayPreformattedText(node.parentNode)) {\n      string = squishBreakableWhitespace(string)\n      if (stringEndsWithWhitespace(node.previousSibling?.textContent)) {\n        string = leftTrimBreakableWhitespace(string)\n      }\n    }\n    return this.appendStringWithAttributes(string, this.getTextAttributes(node.parentNode))\n  }\n\n  processElement(element) {\n    let attributes\n    if (nodeIsAttachmentElement(element)) {\n      attributes = parseTrixDataAttribute(element, \"attachment\")\n      if (Object.keys(attributes).length) {\n        const textAttributes = this.getTextAttributes(element)\n        this.appendAttachmentWithAttributes(attributes, textAttributes)\n        // We have everything we need so avoid processing inner nodes\n        element.innerHTML = \"\"\n      }\n      return this.processedElements.push(element)\n    } else {\n      switch (tagName(element)) {\n        case \"br\":\n          if (!this.isExtraBR(element) && !this.isBlockElement(element.nextSibling)) {\n            this.appendStringWithAttributes(\"\\n\", this.getTextAttributes(element))\n          }\n          return this.processedElements.push(element)\n        case \"img\":\n          attributes = { url: element.getAttribute(\"src\"), contentType: \"image\" }\n          const object = getImageDimensions(element)\n          for (const key in object) {\n            const value = object[key]\n            attributes[key] = value\n          }\n          this.appendAttachmentWithAttributes(attributes, this.getTextAttributes(element))\n          return this.processedElements.push(element)\n        case \"tr\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableRowSeparator)\n          }\n          break\n        case \"td\":\n          if (this.needsTableSeparator(element)) {\n            return this.appendStringWithAttributes(config.parser.tableCellSeparator)\n          }\n          break\n      }\n    }\n  }\n\n  // Document construction\n\n  appendBlockForAttributesWithElement(attributes, element, htmlAttributes = {}) {\n    this.blockElements.push(element)\n    const block = blockForAttributes(attributes, htmlAttributes)\n    this.blocks.push(block)\n    return block\n  }\n\n  appendEmptyBlock() {\n    return this.appendBlockForAttributesWithElement([], null)\n  }\n\n  appendStringWithAttributes(string, attributes) {\n    return this.appendPiece(pieceForString(string, attributes))\n  }\n\n  appendAttachmentWithAttributes(attachment, attributes) {\n    return this.appendPiece(pieceForAttachment(attachment, attributes))\n  }\n\n  appendPiece(piece) {\n    if (this.blocks.length === 0) {\n      this.appendEmptyBlock()\n    }\n    return this.blocks[this.blocks.length - 1].text.push(piece)\n  }\n\n  appendStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[text.length - 1]\n\n    if (piece?.type === \"string\") {\n      piece.string += string\n    } else {\n      return text.push(pieceForString(string))\n    }\n  }\n\n  prependStringToTextAtIndex(string, index) {\n    const { text } = this.blocks[index]\n    const piece = text[0]\n\n    if (piece?.type === \"string\") {\n      piece.string = string + piece.string\n    } else {\n      return text.unshift(pieceForString(string))\n    }\n  }\n\n  // Attribute parsing\n\n  getTextAttributes(element) {\n    let value\n    const attributes = {}\n    for (const attribute in config.textAttributes) {\n      const configAttr = config.textAttributes[attribute]\n      if (\n        configAttr.tagName &&\n        findClosestElementFromNode(element, {\n          matchingSelector: configAttr.tagName,\n          untilNode: this.containerElement,\n        })\n      ) {\n        attributes[attribute] = true\n      } else if (configAttr.parser) {\n        value = configAttr.parser(element)\n        if (value) {\n          let attributeInheritedFromBlock = false\n          for (const blockElement of this.findBlockElementAncestors(element)) {\n            if (configAttr.parser(blockElement) === value) {\n              attributeInheritedFromBlock = true\n              break\n            }\n          }\n          if (!attributeInheritedFromBlock) {\n            attributes[attribute] = value\n          }\n        }\n      } else if (configAttr.styleProperty) {\n        value = element.style[configAttr.styleProperty]\n        if (value) {\n          attributes[attribute] = value\n        }\n      }\n    }\n\n    if (nodeIsAttachmentElement(element)) {\n      const object = parseTrixDataAttribute(element, \"attributes\")\n      for (const key in object) {\n        value = object[key]\n        attributes[key] = value\n      }\n    }\n\n    return attributes\n  }\n\n  getBlockAttributes(element) {\n    const attributes = []\n    while (element && element !== this.containerElement) {\n      for (const attribute in config.blockAttributes) {\n        const attrConfig = config.blockAttributes[attribute]\n        if (attrConfig.parse !== false) {\n          if (tagName(element) === attrConfig.tagName) {\n            if (attrConfig.test?.(element) || !attrConfig.test) {\n              attributes.push(attribute)\n              if (attrConfig.listAttribute) {\n                attributes.push(attrConfig.listAttribute)\n              }\n            }\n          }\n        }\n      }\n      element = element.parentNode\n    }\n    return attributes.reverse()\n  }\n\n  getBlockHTMLAttributes(element) {\n    const attributes = {}\n    const blockConfig = Object.values(config.blockAttributes).find(settings => settings.tagName === tagName(element))\n    const allowedAttributes = blockConfig?.htmlAttributes || []\n\n    allowedAttributes.forEach((attribute) => {\n      if (element.hasAttribute(attribute)) {\n        attributes[attribute] = element.getAttribute(attribute)\n      }\n    })\n\n    return attributes\n  }\n\n  findBlockElementAncestors(element) {\n    const ancestors = []\n    while (element && element !== this.containerElement) {\n      const tag = tagName(element)\n      if (getBlockTagNames().includes(tag)) {\n        ancestors.push(element)\n      }\n      element = element.parentNode\n    }\n    return ancestors\n  }\n\n  // Element inspection\n\n  isBlockElement(element) {\n    if (element?.nodeType !== Node.ELEMENT_NODE) return\n    if (nodeIsAttachmentElement(element)) return\n    if (findClosestElementFromNode(element, { matchingSelector: \"td\", untilNode: this.containerElement })) return\n\n    return getBlockTagNames().includes(tagName(element)) ||\n      window.getComputedStyle(element).display === \"block\"\n  }\n\n  isInsignificantTextNode(node) {\n    if (node?.nodeType !== Node.TEXT_NODE) return\n    if (!stringIsAllBreakableWhitespace(node.data)) return\n    const { parentNode, previousSibling, nextSibling } = node\n    if (nodeEndsWithNonWhitespace(parentNode.previousSibling) && !this.isBlockElement(parentNode.previousSibling)) return\n    if (elementCanDisplayPreformattedText(parentNode)) return\n    return !previousSibling || this.isBlockElement(previousSibling) || !nextSibling || this.isBlockElement(nextSibling)\n  }\n\n  isExtraBR(element) {\n    return tagName(element) === \"br\" && this.isBlockElement(element.parentNode) && element.parentNode.lastChild === element\n  }\n\n  needsTableSeparator(element) {\n    if (config.parser.removeBlankTableCells) {\n      const content = element.previousSibling?.textContent\n      return content && /\\S/.test(content)\n    } else {\n      return element.previousSibling\n    }\n  }\n\n  // Margin translation\n\n  translateBlockElementMarginsToNewlines() {\n    const defaultMargin = this.getMarginOfDefaultBlockElement()\n\n    for (let index = 0; index < this.blocks.length; index++) {\n      const margin = this.getMarginOfBlockElementAtIndex(index)\n      if (margin) {\n        if (margin.top > defaultMargin.top * 2) {\n          this.prependStringToTextAtIndex(\"\\n\", index)\n        }\n\n        if (margin.bottom > defaultMargin.bottom * 2) {\n          this.appendStringToTextAtIndex(\"\\n\", index)\n        }\n      }\n    }\n  }\n\n  getMarginOfBlockElementAtIndex(index) {\n    const element = this.blockElements[index]\n    if (element) {\n      if (element.textContent) {\n        if (!getBlockTagNames().includes(tagName(element)) && !this.processedElements.includes(element)) {\n          return getBlockElementMargin(element)\n        }\n      }\n    }\n  }\n\n  getMarginOfDefaultBlockElement() {\n    const element = makeElement(config.blockAttributes.default.tagName)\n    this.containerElement.appendChild(element)\n    return getBlockElementMargin(element)\n  }\n}\n\n// Helpers\n\nconst elementCanDisplayPreformattedText = function(element) {\n  const { whiteSpace } = window.getComputedStyle(element)\n  return [ \"pre\", \"pre-wrap\", \"pre-line\" ].includes(whiteSpace)\n}\n\nconst nodeEndsWithNonWhitespace = (node) => node && !stringEndsWithWhitespace(node.textContent)\n\nconst getBlockElementMargin = function(element) {\n  const style = window.getComputedStyle(element)\n  if (style.display === \"block\") {\n    return { top: parseInt(style.marginTop), bottom: parseInt(style.marginBottom) }\n  }\n}\n\nconst nodeFilter = function(node) {\n  if (tagName(node) === \"style\") {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\n// Whitespace\n\nconst leftTrimBreakableWhitespace = (string) => string.replace(new RegExp(`^${breakableWhitespacePattern.source}+`), \"\")\n\nconst stringIsAllBreakableWhitespace = (string) => new RegExp(`^${breakableWhitespacePattern.source}*$`).test(string)\n\nconst stringEndsWithWhitespace = (string) => /\\s$/.test(string)\n", "/* eslint-disable\n    no-empty,\n*/\nimport { removeNode } from \"trix/core/helpers\"\n\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nconst unserializableElementSelector = \"[data-trix-serialize=false]\"\nconst unserializableAttributeNames = [\n  \"contenteditable\",\n  \"data-trix-id\",\n  \"data-trix-store-key\",\n  \"data-trix-mutable\",\n  \"data-trix-placeholder\",\n  \"tabindex\",\n]\nconst serializedAttributesAttribute = \"data-trix-serialized-attributes\"\nconst serializedAttributesSelector = `[${serializedAttributesAttribute}]`\n\nconst blockCommentPattern = new RegExp(\"<!--block-->\", \"g\")\n\nconst serializers = {\n  \"application/json\": function(serializable) {\n    let document\n    if (serializable instanceof Document) {\n      document = serializable\n    } else if (serializable instanceof HTMLElement) {\n      document = HTMLParser.parse(serializable.innerHTML).getDocument()\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    return document.toSerializableDocument().toJSONString()\n  },\n\n  \"text/html\": function(serializable) {\n    let element\n    if (serializable instanceof Document) {\n      element = DocumentView.render(serializable)\n    } else if (serializable instanceof HTMLElement) {\n      element = serializable.cloneNode(true)\n    } else {\n      throw new Error(\"unserializable object\")\n    }\n\n    // Remove unserializable elements\n    Array.from(element.querySelectorAll(unserializableElementSelector)).forEach((el) => {\n      removeNode(el)\n    })\n\n    // Remove unserializable attributes\n    unserializableAttributeNames.forEach((attribute) => {\n      Array.from(element.querySelectorAll(`[${attribute}]`)).forEach((el) => {\n        el.removeAttribute(attribute)\n      })\n    })\n\n    // Rewrite elements with serialized attribute overrides\n    Array.from(element.querySelectorAll(serializedAttributesSelector)).forEach((el) => {\n      try {\n        const attributes = JSON.parse(el.getAttribute(serializedAttributesAttribute))\n        el.removeAttribute(serializedAttributesAttribute)\n        for (const name in attributes) {\n          const value = attributes[name]\n          el.setAttribute(name, value)\n        }\n      } catch (error) {}\n    })\n\n    return element.innerHTML.replace(blockCommentPattern, \"\")\n  },\n}\n\nconst deserializers = {\n  \"application/json\": function(string) {\n    return Document.fromJSONString(string)\n  },\n\n  \"text/html\": function(string) {\n    return HTMLParser.parse(string).getDocument()\n  },\n}\n\nexport const serializeToContentType = function(serializable, contentType) {\n  const serializer = serializers[contentType]\n  if (serializer) {\n    return serializer(serializable)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n\nexport const deserializeFromContentType = function(string, contentType) {\n  const deserializer = deserializers[contentType]\n  if (deserializer) {\n    return deserializer(string)\n  } else {\n    throw new Error(`unknown content type: ${contentType}`)\n  }\n}\n", "import \"trix/models/attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class ManagedAttachment extends BasicObject {\n  constructor(attachmentManager, attachment) {\n    super(...arguments)\n    this.attachmentManager = attachmentManager\n    this.attachment = attachment\n    this.id = this.attachment.id\n    this.file = this.attachment.file\n  }\n\n  remove() {\n    return this.attachmentManager.requestRemovalOfAttachment(this.attachment)\n  }\n}\n\nManagedAttachment.proxyMethod(\"attachment.getAttribute\")\nManagedAttachment.proxyMethod(\"attachment.hasAttribute\")\nManagedAttachment.proxyMethod(\"attachment.setAttribute\")\nManagedAttachment.proxyMethod(\"attachment.getAttributes\")\nManagedAttachment.proxyMethod(\"attachment.setAttributes\")\nManagedAttachment.proxyMethod(\"attachment.isPending\")\nManagedAttachment.proxyMethod(\"attachment.isPreviewable\")\nManagedAttachment.proxyMethod(\"attachment.getURL\")\nManagedAttachment.proxyMethod(\"attachment.getHref\")\nManagedAttachment.proxyMethod(\"attachment.getFilename\")\nManagedAttachment.proxyMethod(\"attachment.getFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getFormattedFilesize\")\nManagedAttachment.proxyMethod(\"attachment.getExtension\")\nManagedAttachment.proxyMethod(\"attachment.getContentType\")\nManagedAttachment.proxyMethod(\"attachment.getFile\")\nManagedAttachment.proxyMethod(\"attachment.setFile\")\nManagedAttachment.proxyMethod(\"attachment.releaseFile\")\nManagedAttachment.proxyMethod(\"attachment.getUploadProgress\")\nManagedAttachment.proxyMethod(\"attachment.setUploadProgress\")\n\n", "import ManagedAttachment from \"trix/models/managed_attachment\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class AttachmentManager extends BasicObject {\n  constructor(attachments = []) {\n    super(...arguments)\n    this.managedAttachments = {}\n    Array.from(attachments).forEach((attachment) => {\n      this.manageAttachment(attachment)\n    })\n  }\n\n  getAttachments() {\n    const result = []\n    for (const id in this.managedAttachments) {\n      const attachment = this.managedAttachments[id]\n      result.push(attachment)\n    }\n    return result\n  }\n\n  manageAttachment(attachment) {\n    if (!this.managedAttachments[attachment.id]) {\n      this.managedAttachments[attachment.id] = new ManagedAttachment(this, attachment)\n    }\n    return this.managedAttachments[attachment.id]\n  }\n\n  attachmentIsManaged(attachment) {\n    return attachment.id in this.managedAttachments\n  }\n\n  requestRemovalOfAttachment(attachment) {\n    if (this.attachmentIsManaged(attachment)) {\n      return this.delegate?.attachmentManagerDidRequestRemovalOfAttachment?.(attachment)\n    }\n  }\n\n  unmanageAttachment(attachment) {\n    const managedAttachment = this.managedAttachments[attachment.id]\n    delete this.managedAttachments[attachment.id]\n    return managedAttachment\n  }\n}\n", "export default class LineBreakInsertion {\n  constructor(composition) {\n    this.composition = composition\n    this.document = this.composition.document\n    const selectedRange = this.composition.getSelectedRange()\n    this.startPosition = selectedRange[0]\n    this.endPosition = selectedRange[1]\n\n    this.startLocation = this.document.locationFromPosition(this.startPosition)\n    this.endLocation = this.document.locationFromPosition(this.endPosition)\n\n    this.block = this.document.getBlockAtIndex(this.endLocation.index)\n    this.breaksOnReturn = this.block.breaksOnReturn()\n    this.previousCharacter = this.block.text.getStringAtPosition(this.endLocation.offset - 1)\n    this.nextCharacter = this.block.text.getStringAtPosition(this.endLocation.offset)\n  }\n\n  shouldInsertBlockBreak() {\n    if (this.block.hasAttributes() && this.block.isListItem() && !this.block.isEmpty()) {\n      return this.startLocation.offset !== 0\n    } else {\n      return this.breaksOnReturn && this.nextCharacter !== \"\\n\"\n    }\n  }\n\n  shouldBreakFormattedBlock() {\n    return (\n      this.block.hasAttributes() &&\n      !this.block.isListItem() &&\n      (this.breaksOnReturn && this.nextCharacter === \"\\n\" || this.previousCharacter === \"\\n\")\n    )\n  }\n\n  shouldDecreaseListLevel() {\n    return this.block.hasAttributes() && this.block.isListItem() && this.block.isEmpty()\n  }\n\n  shouldPrependListItem() {\n    return this.block.isListItem() && this.startLocation.offset === 0 && !this.block.isEmpty()\n  }\n\n  shouldRemoveLastBlockAttribute() {\n    return this.block.hasAttributes() && !this.block.isListItem() && this.block.isEmpty()\n  }\n}\n", "import * as config from \"trix/config\"\nimport { OBJECT_REPLACEMENT_CHARACTER } from \"trix/constants\"\n\nimport BasicObject from \"trix/core/basic_object\"\nimport Text from \"trix/models/text\"\nimport Block from \"trix/models/block\"\nimport Attachment from \"trix/models/attachment\"\nimport Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\nimport LineBreakInsertion from \"trix/models/line_break_insertion\"\n\nimport {\n  arrayStartsWith,\n  extend,\n  getAllAttributeNames,\n  getBlockConfig,\n  getTextConfig,\n  normalizeRange,\n  objectsAreEqual,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  summarizeArrayChange,\n} from \"trix/core/helpers\"\n\nconst PLACEHOLDER = \" \"\n\nexport default class Composition extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.document = new Document()\n    this.attachments = []\n    this.currentAttributes = {}\n    this.revision = 0\n  }\n\n  setDocument(document) {\n    if (!document.isEqualTo(this.document)) {\n      this.document = document\n      this.refreshAttachments()\n      this.revision++\n      return this.delegate?.compositionDidChangeDocument?.(document)\n    }\n  }\n\n  // Snapshots\n\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.getSelectedRange(),\n    }\n  }\n\n  loadSnapshot({ document, selectedRange }) {\n    this.delegate?.compositionWillLoadSnapshot?.()\n    this.setDocument(document != null ? document : new Document())\n    this.setSelection(selectedRange != null ? selectedRange : [ 0, 0 ])\n    return this.delegate?.compositionDidLoadSnapshot?.()\n  }\n\n  // Responder protocol\n\n  insertText(text, { updatePosition } = { updatePosition: true }) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertTextAtRange(text, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + text.getLength()\n\n    if (updatePosition) {\n      this.setSelection(endPosition)\n    }\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertBlock(block = new Block()) {\n    const document = new Document([ block ])\n    return this.insertDocument(document)\n  }\n\n  insertDocument(document = new Document()) {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength()\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertString(string, options) {\n    const attributes = this.getCurrentTextAttributes()\n    const text = Text.textForStringWithAttributes(string, attributes)\n    return this.insertText(text, options)\n  }\n\n  insertBlockBreak() {\n    const selectedRange = this.getSelectedRange()\n    this.setDocument(this.document.insertBlockBreakAtRange(selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  insertLineBreak() {\n    const insertion = new LineBreakInsertion(this)\n\n    if (insertion.shouldDecreaseListLevel()) {\n      this.decreaseListLevel()\n      return this.setSelection(insertion.startPosition)\n    } else if (insertion.shouldPrependListItem()) {\n      const document = new Document([ insertion.block.copyWithoutText() ])\n      return this.insertDocument(document)\n    } else if (insertion.shouldInsertBlockBreak()) {\n      return this.insertBlockBreak()\n    } else if (insertion.shouldRemoveLastBlockAttribute()) {\n      return this.removeLastBlockAttribute()\n    } else if (insertion.shouldBreakFormattedBlock()) {\n      return this.breakFormattedBlock(insertion)\n    } else {\n      return this.insertString(\"\\n\")\n    }\n  }\n\n  insertHTML(html) {\n    const document = HTMLParser.parse(html).getDocument()\n    const selectedRange = this.getSelectedRange()\n\n    this.setDocument(this.document.mergeDocumentAtRange(document, selectedRange))\n\n    const startPosition = selectedRange[0]\n    const endPosition = startPosition + document.getLength() - 1\n\n    this.setSelection(endPosition)\n    return this.notifyDelegateOfInsertionAtRange([ startPosition, endPosition ])\n  }\n\n  replaceHTML(html) {\n    const document = HTMLParser.parse(html).getDocument().copyUsingObjectsFromDocument(this.document)\n    const locationRange = this.getLocationRange({ strict: false })\n    const selectedRange = this.document.rangeFromLocationRange(locationRange)\n    this.setDocument(document)\n    return this.setSelection(selectedRange)\n  }\n\n  insertFile(file) {\n    return this.insertFiles([ file ])\n  }\n\n  insertFiles(files) {\n    const attachments = []\n\n    Array.from(files).forEach((file) => {\n      if (this.delegate?.compositionShouldAcceptFile(file)) {\n        const attachment = Attachment.attachmentForFile(file)\n        attachments.push(attachment)\n      }\n    })\n\n    return this.insertAttachments(attachments)\n  }\n\n  insertAttachment(attachment) {\n    return this.insertAttachments([ attachment ])\n  }\n\n  insertAttachments(attachments) {\n    let text = new Text()\n\n    Array.from(attachments).forEach((attachment) => {\n      const type = attachment.getType()\n      const presentation = config.attachments[type]?.presentation\n\n      const attributes = this.getCurrentTextAttributes()\n      if (presentation) {\n        attributes.presentation = presentation\n      }\n\n      const attachmentText = Text.textForAttachmentWithAttributes(attachment, attributes)\n      text = text.appendText(attachmentText)\n    })\n\n    return this.insertText(text)\n  }\n\n  shouldManageDeletingInDirection(direction) {\n    const locationRange = this.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      if (direction === \"backward\" && locationRange[0].offset === 0) {\n        return true\n      }\n      if (this.shouldManageMovingCursorInDirection(direction)) {\n        return true\n      }\n    } else {\n      if (locationRange[0].index !== locationRange[1].index) {\n        return true\n      }\n    }\n    return false\n  }\n\n  deleteInDirection(direction, { length } = {}) {\n    let attachment, deletingIntoPreviousBlock, selectionSpansBlocks\n    const locationRange = this.getLocationRange()\n    let range = this.getSelectedRange()\n    const selectionIsCollapsed = rangeIsCollapsed(range)\n\n    if (selectionIsCollapsed) {\n      deletingIntoPreviousBlock = direction === \"backward\" && locationRange[0].offset === 0\n    } else {\n      selectionSpansBlocks = locationRange[0].index !== locationRange[1].index\n    }\n\n    if (deletingIntoPreviousBlock) {\n      if (this.canDecreaseBlockAttributeLevel()) {\n        const block = this.getBlock()\n\n        if (block.isListItem()) {\n          this.decreaseListLevel()\n        } else {\n          this.decreaseBlockAttributeLevel()\n        }\n\n        this.setSelection(range[0])\n        if (block.isEmpty()) {\n          return false\n        }\n      }\n    }\n\n    if (selectionIsCollapsed) {\n      range = this.getExpandedRangeInDirection(direction, { length })\n      if (direction === \"backward\") {\n        attachment = this.getAttachmentAtRange(range)\n      }\n    }\n\n    if (attachment) {\n      this.editAttachment(attachment)\n      return false\n    } else {\n      this.setDocument(this.document.removeTextAtRange(range))\n      this.setSelection(range[0])\n      if (deletingIntoPreviousBlock || selectionSpansBlocks) {\n        return false\n      }\n    }\n  }\n\n  moveTextFromRange(range) {\n    const [ position ] = Array.from(this.getSelectedRange())\n    this.setDocument(this.document.moveTextFromRangeToPosition(range, position))\n    return this.setSelection(position)\n  }\n\n  removeAttachment(attachment) {\n    const range = this.document.getRangeOfAttachment(attachment)\n    if (range) {\n      this.stopEditingAttachment()\n      this.setDocument(this.document.removeTextAtRange(range))\n      return this.setSelection(range[0])\n    }\n  }\n\n  removeLastBlockAttribute() {\n    const [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    const block = this.document.getBlockAtPosition(endPosition)\n    this.removeCurrentAttribute(block.getLastAttribute())\n    return this.setSelection(startPosition)\n  }\n\n  insertPlaceholder() {\n    this.placeholderPosition = this.getPosition()\n    return this.insertString(PLACEHOLDER)\n  }\n\n  selectPlaceholder() {\n    if (this.placeholderPosition != null) {\n      this.setSelectedRange([ this.placeholderPosition, this.placeholderPosition + PLACEHOLDER.length ])\n      return this.getSelectedRange()\n    }\n  }\n\n  forgetPlaceholder() {\n    this.placeholderPosition = null\n  }\n\n  // Current attributes\n\n  hasCurrentAttribute(attributeName) {\n    const value = this.currentAttributes[attributeName]\n    return value != null && value !== false\n  }\n\n  toggleCurrentAttribute(attributeName) {\n    const value = !this.currentAttributes[attributeName]\n    if (value) {\n      return this.setCurrentAttribute(attributeName, value)\n    } else {\n      return this.removeCurrentAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      return this.canSetCurrentBlockAttribute(attributeName)\n    } else {\n      return this.canSetCurrentTextAttribute(attributeName)\n    }\n  }\n\n  canSetCurrentTextAttribute(attributeName) {\n    const document = this.getSelectedDocument()\n    if (!document) return\n    for (const attachment of Array.from(document.getAttachments())) {\n      if (!attachment.hasContent()) {\n        return false\n      }\n    }\n    return true\n  }\n\n  canSetCurrentBlockAttribute(attributeName) {\n    const block = this.getBlock()\n    if (!block) return\n    return !block.isTerminalBlock()\n  }\n\n  setCurrentAttribute(attributeName, value) {\n    if (getBlockConfig(attributeName)) {\n      return this.setBlockAttribute(attributeName, value)\n    } else {\n      this.setTextAttribute(attributeName, value)\n      this.currentAttributes[attributeName] = value\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  setHTMLAtributeAtPosition(position, attributeName, value) {\n    const block = this.document.getBlockAtPosition(position)\n    const allowedHTMLAttributes = getBlockConfig(block.getLastAttribute())?.htmlAttributes\n\n    if (block && allowedHTMLAttributes?.includes(attributeName)) {\n      const newDocument = this.document.setHTMLAttributeAtPosition(position, attributeName, value)\n      this.setDocument(newDocument)\n    }\n  }\n\n  setTextAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n\n    const [ startPosition, endPosition ] = Array.from(selectedRange)\n    if (startPosition === endPosition) {\n      if (attributeName === \"href\") {\n        const text = Text.textForStringWithAttributes(value, { href: value })\n        return this.insertText(text)\n      }\n    } else {\n      return this.setDocument(this.document.addAttributeAtRange(attributeName, value, selectedRange))\n    }\n  }\n\n  setBlockAttribute(attributeName, value) {\n    const selectedRange = this.getSelectedRange()\n    if (this.canSetCurrentAttribute(attributeName)) {\n      this.setDocument(this.document.applyBlockAttributeAtRange(attributeName, value, selectedRange))\n      return this.setSelection(selectedRange)\n    }\n  }\n\n  removeCurrentAttribute(attributeName) {\n    if (getBlockConfig(attributeName)) {\n      this.removeBlockAttribute(attributeName)\n      return this.updateCurrentAttributes()\n    } else {\n      this.removeTextAttribute(attributeName)\n      delete this.currentAttributes[attributeName]\n      return this.notifyDelegateOfCurrentAttributesChange()\n    }\n  }\n\n  removeTextAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  removeBlockAttribute(attributeName) {\n    const selectedRange = this.getSelectedRange()\n    if (!selectedRange) return\n    return this.setDocument(this.document.removeAttributeAtRange(attributeName, selectedRange))\n  }\n\n  canDecreaseNestingLevel() {\n    return this.getBlock()?.getNestingLevel() > 0\n  }\n\n  canIncreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    if (getBlockConfig(block.getLastNestableAttribute())?.listAttribute) {\n      const previousBlock = this.getPreviousBlock()\n      if (previousBlock) {\n        return arrayStartsWith(previousBlock.getListItemAttributes(), block.getListItemAttributes())\n      }\n    } else {\n      return block.getNestingLevel() > 0\n    }\n  }\n\n  decreaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.decreaseNestingLevel()))\n  }\n\n  increaseNestingLevel() {\n    const block = this.getBlock()\n    if (!block) return\n    return this.setDocument(this.document.replaceBlock(block, block.increaseNestingLevel()))\n  }\n\n  canDecreaseBlockAttributeLevel() {\n    return this.getBlock()?.getAttributeLevel() > 0\n  }\n\n  decreaseBlockAttributeLevel() {\n    const attribute = this.getBlock()?.getLastAttribute()\n    if (attribute) {\n      return this.removeCurrentAttribute(attribute)\n    }\n  }\n\n  decreaseListLevel() {\n    let [ startPosition ] = Array.from(this.getSelectedRange())\n    const { index } = this.document.locationFromPosition(startPosition)\n    let endIndex = index\n    const attributeLevel = this.getBlock().getAttributeLevel()\n\n    let block = this.document.getBlockAtIndex(endIndex + 1)\n    while (block) {\n      if (!block.isListItem() || block.getAttributeLevel() <= attributeLevel) {\n        break\n      }\n      endIndex++\n      block = this.document.getBlockAtIndex(endIndex + 1)\n    }\n\n    startPosition = this.document.positionFromLocation({ index, offset: 0 })\n    const endPosition = this.document.positionFromLocation({ index: endIndex, offset: 0 })\n    return this.setDocument(this.document.removeLastListAttributeAtRange([ startPosition, endPosition ]))\n  }\n\n  updateCurrentAttributes() {\n    const selectedRange = this.getSelectedRange({ ignoreLock: true })\n    if (selectedRange) {\n      const currentAttributes = this.document.getCommonAttributesAtRange(selectedRange)\n\n      Array.from(getAllAttributeNames()).forEach((attributeName) => {\n        if (!currentAttributes[attributeName]) {\n          if (!this.canSetCurrentAttribute(attributeName)) {\n            currentAttributes[attributeName] = false\n          }\n        }\n      })\n\n      if (!objectsAreEqual(currentAttributes, this.currentAttributes)) {\n        this.currentAttributes = currentAttributes\n        return this.notifyDelegateOfCurrentAttributesChange()\n      }\n    }\n  }\n\n  getCurrentAttributes() {\n    return extend.call({}, this.currentAttributes)\n  }\n\n  getCurrentTextAttributes() {\n    const attributes = {}\n    for (const key in this.currentAttributes) {\n      const value = this.currentAttributes[key]\n      if (value !== false) {\n        if (getTextConfig(key)) {\n          attributes[key] = value\n        }\n      }\n    }\n    return attributes\n  }\n\n  // Selection freezing\n\n  freezeSelection() {\n    return this.setCurrentAttribute(\"frozen\", true)\n  }\n\n  thawSelection() {\n    return this.removeCurrentAttribute(\"frozen\")\n  }\n\n  hasFrozenSelection() {\n    return this.hasCurrentAttribute(\"frozen\")\n  }\n\n  setSelection(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.delegate?.compositionDidRequestChangingSelectionToLocationRange(locationRange)\n  }\n\n  getSelectedRange() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.rangeFromLocationRange(locationRange)\n    }\n  }\n\n  setSelectedRange(selectedRange) {\n    const locationRange = this.document.locationRangeFromRange(selectedRange)\n    return this.getSelectionManager().setLocationRange(locationRange)\n  }\n\n  getPosition() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.positionFromLocation(locationRange[0])\n    }\n  }\n\n  getLocationRange(options) {\n    if (this.targetLocationRange) {\n      return this.targetLocationRange\n    } else {\n      return this.getSelectionManager().getLocationRange(options) || normalizeRange({ index: 0, offset: 0 })\n    }\n  }\n\n  withTargetLocationRange(locationRange, fn) {\n    let result\n    this.targetLocationRange = locationRange\n    try {\n      result = fn()\n    } finally {\n      this.targetLocationRange = null\n    }\n    return result\n  }\n\n  withTargetRange(range, fn) {\n    const locationRange = this.document.locationRangeFromRange(range)\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  withTargetDOMRange(domRange, fn) {\n    const locationRange = this.createLocationRangeFromDOMRange(domRange, { strict: false })\n    return this.withTargetLocationRange(locationRange, fn)\n  }\n\n  getExpandedRangeInDirection(direction, { length } = {}) {\n    let [ startPosition, endPosition ] = Array.from(this.getSelectedRange())\n    if (direction === \"backward\") {\n      if (length) {\n        startPosition -= length\n      } else {\n        startPosition = this.translateUTF16PositionFromOffset(startPosition, -1)\n      }\n    } else {\n      if (length) {\n        endPosition += length\n      } else {\n        endPosition = this.translateUTF16PositionFromOffset(endPosition, 1)\n      }\n    }\n    return normalizeRange([ startPosition, endPosition ])\n  }\n\n  shouldManageMovingCursorInDirection(direction) {\n    if (this.editingAttachment) {\n      return true\n    }\n    const range = this.getExpandedRangeInDirection(direction)\n    return this.getAttachmentAtRange(range) != null\n  }\n\n  moveCursorInDirection(direction) {\n    let canEditAttachment, range\n    if (this.editingAttachment) {\n      range = this.document.getRangeOfAttachment(this.editingAttachment)\n    } else {\n      const selectedRange = this.getSelectedRange()\n      range = this.getExpandedRangeInDirection(direction)\n      canEditAttachment = !rangesAreEqual(selectedRange, range)\n    }\n\n    if (direction === \"backward\") {\n      this.setSelectedRange(range[0])\n    } else {\n      this.setSelectedRange(range[1])\n    }\n\n    if (canEditAttachment) {\n      const attachment = this.getAttachmentAtRange(range)\n      if (attachment) {\n        return this.editAttachment(attachment)\n      }\n    }\n  }\n\n  expandSelectionInDirection(direction, { length } = {}) {\n    const range = this.getExpandedRangeInDirection(direction, { length })\n    return this.setSelectedRange(range)\n  }\n\n  expandSelectionForEditing() {\n    if (this.hasCurrentAttribute(\"href\")) {\n      return this.expandSelectionAroundCommonAttribute(\"href\")\n    }\n  }\n\n  expandSelectionAroundCommonAttribute(attributeName) {\n    const position = this.getPosition()\n    const range = this.document.getRangeOfCommonAttributeAtPosition(attributeName, position)\n    return this.setSelectedRange(range)\n  }\n\n  selectionContainsAttachments() {\n    return this.getSelectedAttachments()?.length > 0\n  }\n\n  selectionIsInCursorTarget() {\n    return this.editingAttachment || this.positionIsCursorTarget(this.getPosition())\n  }\n\n  positionIsCursorTarget(position) {\n    const location = this.document.locationFromPosition(position)\n    if (location) {\n      return this.locationIsCursorTarget(location)\n    }\n  }\n\n  positionIsBlockBreak(position) {\n    return this.document.getPieceAtPosition(position)?.isBlockBreak()\n  }\n\n  getSelectedDocument() {\n    const selectedRange = this.getSelectedRange()\n    if (selectedRange) {\n      return this.document.getDocumentAtRange(selectedRange)\n    }\n  }\n\n  getSelectedAttachments() {\n    return this.getSelectedDocument()?.getAttachments()\n  }\n\n  // Attachments\n\n  getAttachments() {\n    return this.attachments.slice(0)\n  }\n\n  refreshAttachments() {\n    const attachments = this.document.getAttachments()\n    const { added, removed } = summarizeArrayChange(this.attachments, attachments)\n    this.attachments = attachments\n\n    Array.from(removed).forEach((attachment) => {\n      attachment.delegate = null\n      this.delegate?.compositionDidRemoveAttachment?.(attachment)\n    })\n\n    return (() => {\n      const result = []\n\n      Array.from(added).forEach((attachment) => {\n        attachment.delegate = this\n        result.push(this.delegate?.compositionDidAddAttachment?.(attachment))\n      })\n\n      return result\n    })()\n  }\n\n  // Attachment delegate\n\n  attachmentDidChangeAttributes(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidEditAttachment?.(attachment)\n  }\n\n  attachmentDidChangePreviewURL(attachment) {\n    this.revision++\n    return this.delegate?.compositionDidChangeAttachmentPreviewURL?.(attachment)\n  }\n\n  // Attachment editing\n\n  editAttachment(attachment, options) {\n    if (attachment === this.editingAttachment) return\n    this.stopEditingAttachment()\n    this.editingAttachment = attachment\n    return this.delegate?.compositionDidStartEditingAttachment?.(this.editingAttachment, options)\n  }\n\n  stopEditingAttachment() {\n    if (!this.editingAttachment) return\n    this.delegate?.compositionDidStopEditingAttachment?.(this.editingAttachment)\n    this.editingAttachment = null\n  }\n\n  updateAttributesForAttachment(attributes, attachment) {\n    return this.setDocument(this.document.updateAttributesForAttachment(attributes, attachment))\n  }\n\n  removeAttributeForAttachment(attribute, attachment) {\n    return this.setDocument(this.document.removeAttributeForAttachment(attribute, attachment))\n  }\n\n  // Private\n\n  breakFormattedBlock(insertion) {\n    let { document } = insertion\n    const { block } = insertion\n    let position = insertion.startPosition\n    let range = [ position - 1, position ]\n\n    if (block.getBlockBreakPosition() === insertion.startLocation.offset) {\n      if (block.breaksOnReturn() && insertion.nextCharacter === \"\\n\") {\n        position += 1\n      } else {\n        document = document.removeTextAtRange(range)\n      }\n      range = [ position, position ]\n    } else if (insertion.nextCharacter === \"\\n\") {\n      if (insertion.previousCharacter === \"\\n\") {\n        range = [ position - 1, position + 1 ]\n      } else {\n        range = [ position, position + 1 ]\n        position += 1\n      }\n    } else if (insertion.startLocation.offset - 1 !== 0) {\n      position += 1\n    }\n\n    const newDocument = new Document([ block.removeLastAttribute().copyWithoutText() ])\n    this.setDocument(document.insertDocumentAtRange(newDocument, range))\n    return this.setSelection(position)\n  }\n\n  getPreviousBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      const { index } = locationRange[0]\n      if (index > 0) {\n        return this.document.getBlockAtIndex(index - 1)\n      }\n    }\n  }\n\n  getBlock() {\n    const locationRange = this.getLocationRange()\n    if (locationRange) {\n      return this.document.getBlockAtIndex(locationRange[0].index)\n    }\n  }\n\n  getAttachmentAtRange(range) {\n    const document = this.document.getDocumentAtRange(range)\n    if (document.toString() === `${OBJECT_REPLACEMENT_CHARACTER}\\n`) {\n      return document.getAttachments()[0]\n    }\n  }\n\n  notifyDelegateOfCurrentAttributesChange() {\n    return this.delegate?.compositionDidChangeCurrentAttributes?.(this.currentAttributes)\n  }\n\n  notifyDelegateOfInsertionAtRange(range) {\n    return this.delegate?.compositionDidPerformInsertionAtRange?.(range)\n  }\n\n  translateUTF16PositionFromOffset(position, offset) {\n    const utf16string = this.document.toUTF16String()\n    const utf16position = utf16string.offsetFromUCS2Offset(position)\n    return utf16string.offsetToUCS2Offset(utf16position + offset)\n  }\n}\n\nComposition.proxyMethod(\"getSelectionManager().getPointRange\")\nComposition.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\")\nComposition.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\")\nComposition.proxyMethod(\"getSelectionManager().locationIsCursorTarget\")\nComposition.proxyMethod(\"getSelectionManager().selectionIsExpanded\")\nComposition.proxyMethod(\"delegate?.getSelectionManager\")\n", "import BasicObject from \"trix/core/basic_object\"\n\nexport default class UndoManager extends BasicObject {\n  constructor(composition) {\n    super(...arguments)\n    this.composition = composition\n    this.undoEntries = []\n    this.redoEntries = []\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    const previousEntry = this.undoEntries.slice(-1)[0]\n\n    if (!consolidatable || !entryHasDescriptionAndContext(previousEntry, description, context)) {\n      const undoEntry = this.createEntry({ description, context })\n      this.undoEntries.push(undoEntry)\n      this.redoEntries = []\n    }\n  }\n\n  undo() {\n    const undoEntry = this.undoEntries.pop()\n    if (undoEntry) {\n      const redoEntry = this.createEntry(undoEntry)\n      this.redoEntries.push(redoEntry)\n      return this.composition.loadSnapshot(undoEntry.snapshot)\n    }\n  }\n\n  redo() {\n    const redoEntry = this.redoEntries.pop()\n    if (redoEntry) {\n      const undoEntry = this.createEntry(redoEntry)\n      this.undoEntries.push(undoEntry)\n      return this.composition.loadSnapshot(redoEntry.snapshot)\n    }\n  }\n\n  canUndo() {\n    return this.undoEntries.length > 0\n  }\n\n  canRedo() {\n    return this.redoEntries.length > 0\n  }\n\n  // Private\n\n  createEntry({ description, context } = {}) {\n    return {\n      description: description?.toString(),\n      context: JSON.stringify(context),\n      snapshot: this.composition.getSnapshot(),\n    }\n  }\n}\n\nconst entryHasDescriptionAndContext = (entry, description, context) =>\n  entry?.description === description?.toString() && entry?.context === JSON.stringify(context)\n", "const BLOCK_ATTRIBUTE_NAME = \"attachmentGallery\"\nconst TEXT_ATTRIBUTE_NAME = \"presentation\"\nconst TEXT_ATTRIBUTE_VALUE = \"gallery\"\n\nexport default class Filter {\n  constructor(snapshot) {\n    this.document = snapshot.document\n    this.selectedRange = snapshot.selectedRange\n  }\n\n  perform() {\n    this.removeBlockAttribute()\n    return this.applyBlockAttribute()\n  }\n\n  getSnapshot() {\n    return { document: this.document, selectedRange: this.selectedRange }\n  }\n\n  // Private\n\n  removeBlockAttribute() {\n    return this.findRangesOfBlocks().map((range) => this.document = this.document.removeAttributeAtRange(BLOCK_ATTRIBUTE_NAME, range))\n  }\n\n  applyBlockAttribute() {\n    let offset = 0\n\n    this.findRangesOfPieces().forEach((range) => {\n      if (range[1] - range[0] > 1) {\n        range[0] += offset\n        range[1] += offset\n\n        if (this.document.getCharacterAtPosition(range[1]) !== \"\\n\") {\n          this.document = this.document.insertBlockBreakAtRange(range[1])\n          if (range[1] < this.selectedRange[1]) {\n            this.moveSelectedRangeForward()\n          }\n          range[1]++\n          offset++\n        }\n\n        if (range[0] !== 0) {\n          if (this.document.getCharacterAtPosition(range[0] - 1) !== \"\\n\") {\n            this.document = this.document.insertBlockBreakAtRange(range[0])\n            if (range[0] < this.selectedRange[0]) {\n              this.moveSelectedRangeForward()\n            }\n            range[0]++\n            offset++\n          }\n        }\n\n        this.document = this.document.applyBlockAttributeAtRange(BLOCK_ATTRIBUTE_NAME, true, range)\n      }\n    })\n  }\n\n  findRangesOfBlocks() {\n    return this.document.findRangesForBlockAttribute(BLOCK_ATTRIBUTE_NAME)\n  }\n\n  findRangesOfPieces() {\n    return this.document.findRangesForTextAttribute(TEXT_ATTRIBUTE_NAME, { withValue: TEXT_ATTRIBUTE_VALUE })\n  }\n\n  moveSelectedRangeForward() {\n    this.selectedRange[0] += 1\n    this.selectedRange[1] += 1\n  }\n}\n", "import Filter from \"./filter\"\n\nexport const attachmentGalleryFilter = function(snapshot) {\n  const filter = new Filter(snapshot)\n  filter.perform()\n  return filter.getSnapshot()\n}\n\n", "import Document from \"trix/models/document\"\nimport HTMLParser from \"trix/models/html_parser\"\n\nimport UndoManager from \"trix/models/undo_manager\"\nimport { attachmentGalleryFilter } from \"trix/filters/attachment_gallery_filter\"\nconst DEFAULT_FILTERS = [ attachmentGalleryFilter ]\n\nexport default class Editor {\n  constructor(composition, selectionManager, element) {\n    this.insertFiles = this.insertFiles.bind(this)\n    this.composition = composition\n    this.selectionManager = selectionManager\n    this.element = element\n    this.undoManager = new UndoManager(this.composition)\n    this.filters = DEFAULT_FILTERS.slice(0)\n  }\n\n  loadDocument(document) {\n    return this.loadSnapshot({ document, selectedRange: [ 0, 0 ] })\n  }\n\n  loadHTML(html = \"\") {\n    const document = HTMLParser.parse(html, { referenceElement: this.element }).getDocument()\n    return this.loadDocument(document)\n  }\n\n  loadJSON({ document, selectedRange }) {\n    document = Document.fromJSON(document)\n    return this.loadSnapshot({ document, selectedRange })\n  }\n\n  loadSnapshot(snapshot) {\n    this.undoManager = new UndoManager(this.composition)\n    return this.composition.loadSnapshot(snapshot)\n  }\n\n  getDocument() {\n    return this.composition.document\n  }\n\n  getSelectedDocument() {\n    return this.composition.getSelectedDocument()\n  }\n\n  getSnapshot() {\n    return this.composition.getSnapshot()\n  }\n\n  toJSON() {\n    return this.getSnapshot()\n  }\n\n  // Document manipulation\n\n  deleteInDirection(direction) {\n    return this.composition.deleteInDirection(direction)\n  }\n\n  insertAttachment(attachment) {\n    return this.composition.insertAttachment(attachment)\n  }\n\n  insertAttachments(attachments) {\n    return this.composition.insertAttachments(attachments)\n  }\n\n  insertDocument(document) {\n    return this.composition.insertDocument(document)\n  }\n\n  insertFile(file) {\n    return this.composition.insertFile(file)\n  }\n\n  insertFiles(files) {\n    return this.composition.insertFiles(files)\n  }\n\n  insertHTML(html) {\n    return this.composition.insertHTML(html)\n  }\n\n  insertString(string) {\n    return this.composition.insertString(string)\n  }\n\n  insertText(text) {\n    return this.composition.insertText(text)\n  }\n\n  insertLineBreak() {\n    return this.composition.insertLineBreak()\n  }\n\n  // Selection\n\n  getSelectedRange() {\n    return this.composition.getSelectedRange()\n  }\n\n  getPosition() {\n    return this.composition.getPosition()\n  }\n\n  getClientRectAtPosition(position) {\n    const locationRange = this.getDocument().locationRangeFromRange([ position, position + 1 ])\n    return this.selectionManager.getClientRectAtLocationRange(locationRange)\n  }\n\n  expandSelectionInDirection(direction) {\n    return this.composition.expandSelectionInDirection(direction)\n  }\n\n  moveCursorInDirection(direction) {\n    return this.composition.moveCursorInDirection(direction)\n  }\n\n  setSelectedRange(selectedRange) {\n    return this.composition.setSelectedRange(selectedRange)\n  }\n\n  // Attributes\n\n  activateAttribute(name, value = true) {\n    return this.composition.setCurrentAttribute(name, value)\n  }\n\n  attributeIsActive(name) {\n    return this.composition.hasCurrentAttribute(name)\n  }\n\n  canActivateAttribute(name) {\n    return this.composition.canSetCurrentAttribute(name)\n  }\n\n  deactivateAttribute(name) {\n    return this.composition.removeCurrentAttribute(name)\n  }\n\n  // HTML attributes\n  setHTMLAtributeAtPosition(position, name, value) {\n    this.composition.setHTMLAtributeAtPosition(position, name, value)\n  }\n\n  // Nesting level\n\n  canDecreaseNestingLevel() {\n    return this.composition.canDecreaseNestingLevel()\n  }\n\n  canIncreaseNestingLevel() {\n    return this.composition.canIncreaseNestingLevel()\n  }\n\n  decreaseNestingLevel() {\n    if (this.canDecreaseNestingLevel()) {\n      return this.composition.decreaseNestingLevel()\n    }\n  }\n\n  increaseNestingLevel() {\n    if (this.canIncreaseNestingLevel()) {\n      return this.composition.increaseNestingLevel()\n    }\n  }\n\n  // Undo/redo\n\n  canRedo() {\n    return this.undoManager.canRedo()\n  }\n\n  canUndo() {\n    return this.undoManager.canUndo()\n  }\n\n  recordUndoEntry(description, { context, consolidatable } = {}) {\n    return this.undoManager.recordUndoEntry(description, { context, consolidatable })\n  }\n\n  redo() {\n    if (this.canRedo()) {\n      return this.undoManager.redo()\n    }\n  }\n\n  undo() {\n    if (this.canUndo()) {\n      return this.undoManager.undo()\n    }\n  }\n}\n", "/* eslint-disable\n    no-var,\n    prefer-const,\n*/\nimport {\n  elementContainsNode,\n  findChildIndexOfNode,\n  nodeIsAttachmentElement,\n  nodeIsBlockContainer,\n  nodeIsBlockStart,\n  nodeIsBlockStartComment,\n  nodeIsCursorTarget,\n  nodeIsEmptyTextNode,\n  nodeIsTextNode,\n  tagName,\n  walkTree,\n} from \"trix/core/helpers\"\n\nexport default class LocationMapper {\n  constructor(element) {\n    this.element = element\n  }\n\n  findLocationFromContainerAndOffset(container, offset, { strict } = { strict: true }) {\n    let childIndex = 0\n    let foundBlock = false\n    const location = { index: 0, offset: 0 }\n    const attachmentElement = this.findAttachmentElementParentForNode(container)\n\n    if (attachmentElement) {\n      container = attachmentElement.parentNode\n      offset = findChildIndexOfNode(attachmentElement)\n    }\n\n    const walker = walkTree(this.element, { usingFilter: rejectAttachmentContents })\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n\n      if (node === container && nodeIsTextNode(container)) {\n        if (!nodeIsCursorTarget(node)) {\n          location.offset += offset\n        }\n        break\n      } else {\n        if (node.parentNode === container) {\n          if (childIndex++ === offset) {\n            break\n          }\n        } else if (!elementContainsNode(container, node)) {\n          if (childIndex > 0) {\n            break\n          }\n        }\n\n        if (nodeIsBlockStart(node, { strict })) {\n          if (foundBlock) {\n            location.index++\n          }\n          location.offset = 0\n          foundBlock = true\n        } else {\n          location.offset += nodeLength(node)\n        }\n      }\n    }\n\n    return location\n  }\n\n  findContainerAndOffsetFromLocation(location) {\n    let container, offset\n    if (location.index === 0 && location.offset === 0) {\n      container = this.element\n      offset = 0\n\n      while (container.firstChild) {\n        container = container.firstChild\n        if (nodeIsBlockContainer(container)) {\n          offset = 1\n          break\n        }\n      }\n\n      return [ container, offset ]\n    }\n\n    let [ node, nodeOffset ] = this.findNodeAndOffsetFromLocation(location)\n    if (!node) return\n\n    if (nodeIsTextNode(node)) {\n      if (nodeLength(node) === 0) {\n        container = node.parentNode.parentNode\n        offset = findChildIndexOfNode(node.parentNode)\n        if (nodeIsCursorTarget(node, { name: \"right\" })) {\n          offset++\n        }\n      } else {\n        container = node\n        offset = location.offset - nodeOffset\n      }\n    } else {\n      container = node.parentNode\n\n      if (!nodeIsBlockStart(node.previousSibling)) {\n        if (!nodeIsBlockContainer(container)) {\n          while (node === container.lastChild) {\n            node = container\n            container = container.parentNode\n            if (nodeIsBlockContainer(container)) {\n              break\n            }\n          }\n        }\n      }\n\n      offset = findChildIndexOfNode(node)\n      if (location.offset !== 0) {\n        offset++\n      }\n    }\n\n    return [ container, offset ]\n  }\n\n  findNodeAndOffsetFromLocation(location) {\n    let node, nodeOffset\n    let offset = 0\n\n    for (const currentNode of this.getSignificantNodesForIndex(location.index)) {\n      const length = nodeLength(currentNode)\n\n      if (location.offset <= offset + length) {\n        if (nodeIsTextNode(currentNode)) {\n          node = currentNode\n          nodeOffset = offset\n          if (location.offset === nodeOffset && nodeIsCursorTarget(node)) {\n            break\n          }\n        } else if (!node) {\n          node = currentNode\n          nodeOffset = offset\n        }\n      }\n\n      offset += length\n      if (offset > location.offset) {\n        break\n      }\n    }\n\n    return [ node, nodeOffset ]\n  }\n\n  // Private\n\n  findAttachmentElementParentForNode(node) {\n    while (node && node !== this.element) {\n      if (nodeIsAttachmentElement(node)) {\n        return node\n      }\n      node = node.parentNode\n    }\n  }\n\n  getSignificantNodesForIndex(index) {\n    const nodes = []\n    const walker = walkTree(this.element, { usingFilter: acceptSignificantNodes })\n    let recordingNodes = false\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode\n      if (nodeIsBlockStartComment(node)) {\n        var blockIndex\n        if (blockIndex != null) {\n          blockIndex++\n        } else {\n          blockIndex = 0\n        }\n\n        if (blockIndex === index) {\n          recordingNodes = true\n        } else if (recordingNodes) {\n          break\n        }\n      } else if (recordingNodes) {\n        nodes.push(node)\n      }\n    }\n\n    return nodes\n  }\n}\n\nconst nodeLength = function(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    if (nodeIsCursorTarget(node)) {\n      return 0\n    } else {\n      const string = node.textContent\n      return string.length\n    }\n  } else if (tagName(node) === \"br\" || nodeIsAttachmentElement(node)) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nconst acceptSignificantNodes = function(node) {\n  if (rejectEmptyTextNodes(node) === NodeFilter.FILTER_ACCEPT) {\n    return rejectAttachmentContents(node)\n  } else {\n    return NodeFilter.FILTER_REJECT\n  }\n}\n\nconst rejectEmptyTextNodes = function(node) {\n  if (nodeIsEmptyTextNode(node)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n\nconst rejectAttachmentContents = function(node) {\n  if (nodeIsAttachmentElement(node.parentNode)) {\n    return NodeFilter.FILTER_REJECT\n  } else {\n    return NodeFilter.FILTER_ACCEPT\n  }\n}\n", "/* eslint-disable\n    id-length,\n    no-empty,\n*/\nimport { getDOMRange, setDOMRange } from \"trix/core/helpers\"\n\nexport default class PointMapper {\n  createDOMRangeFromPoint({ x, y }) {\n    let domRange\n    if (document.caretPositionFromPoint) {\n      const { offsetNode, offset } = document.caretPositionFromPoint(x, y)\n      domRange = document.createRange()\n      domRange.setStart(offsetNode, offset)\n      return domRange\n    } else if (document.caretRangeFromPoint) {\n      return document.caretRangeFromPoint(x, y)\n    } else if (document.body.createTextRange) {\n      const originalDOMRange = getDOMRange()\n      try {\n        // IE 11 throws \"Unspecified error\" when using moveToPoint\n        // during a drag-and-drop operation.\n        const textRange = document.body.createTextRange()\n        textRange.moveToPoint(x, y)\n        textRange.select()\n      } catch (error) {}\n      domRange = getDOMRange()\n      setDOMRange(originalDOMRange)\n      return domRange\n    }\n  }\n\n  getClientRectsForDOMRange(domRange) {\n    const array = Array.from(domRange.getClientRects())\n    const start = array[0]\n    const end = array[array.length - 1]\n\n    return [ start, end ]\n  }\n}\n", "/* eslint-disable\n*/\nimport BasicObject from \"trix/core/basic_object\"\n\nimport LocationMapper from \"trix/models/location_mapper\"\nimport PointMapper from \"trix/models/point_mapper\"\n\nimport {\n  elementContainsNode,\n  getDOMRange,\n  getDOMSelection,\n  handleEvent,\n  innerElementIsActive,\n  nodeIsCursorTarget,\n  normalizeRange,\n  rangeIsCollapsed,\n  rangesAreEqual,\n  setDOMRange,\n} from \"trix/core/helpers\"\n\nexport default class SelectionManager extends BasicObject {\n  constructor(element) {\n    super(...arguments)\n    this.didMouseDown = this.didMouseDown.bind(this)\n    this.selectionDidChange = this.selectionDidChange.bind(this)\n    this.element = element\n    this.locationMapper = new LocationMapper(this.element)\n    this.pointMapper = new PointMapper()\n    this.lockCount = 0\n    handleEvent(\"mousedown\", { onElement: this.element, withCallback: this.didMouseDown })\n  }\n\n  getLocationRange(options = {}) {\n    if (options.strict === false) {\n      return this.createLocationRangeFromDOMRange(getDOMRange())\n    } else if (options.ignoreLock) {\n      return this.currentLocationRange\n    } else if (this.lockedLocationRange) {\n      return this.lockedLocationRange\n    } else {\n      return this.currentLocationRange\n    }\n  }\n\n  setLocationRange(locationRange) {\n    if (this.lockedLocationRange) return\n    locationRange = normalizeRange(locationRange)\n\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      setDOMRange(domRange)\n      this.updateCurrentLocationRange(locationRange)\n    }\n  }\n\n  setLocationRangeFromPointRange(pointRange) {\n    pointRange = normalizeRange(pointRange)\n    const startLocation = this.getLocationAtPoint(pointRange[0])\n    const endLocation = this.getLocationAtPoint(pointRange[1])\n    this.setLocationRange([ startLocation, endLocation ])\n  }\n\n  getClientRectAtLocationRange(locationRange) {\n    const domRange = this.createDOMRangeFromLocationRange(locationRange)\n    if (domRange) {\n      return this.getClientRectsForDOMRange(domRange)[1]\n    }\n  }\n\n  locationIsCursorTarget(location) {\n    const node = Array.from(this.findNodeAndOffsetFromLocation(location))[0]\n    return nodeIsCursorTarget(node)\n  }\n\n  lock() {\n    if (this.lockCount++ === 0) {\n      this.updateCurrentLocationRange()\n      this.lockedLocationRange = this.getLocationRange()\n    }\n  }\n\n  unlock() {\n    if (--this.lockCount === 0) {\n      const { lockedLocationRange } = this\n      this.lockedLocationRange = null\n      if (lockedLocationRange != null) {\n        return this.setLocationRange(lockedLocationRange)\n      }\n    }\n  }\n\n  clearSelection() {\n    return getDOMSelection()?.removeAllRanges()\n  }\n\n  selectionIsCollapsed() {\n    return getDOMRange()?.collapsed === true\n  }\n\n  selectionIsExpanded() {\n    return !this.selectionIsCollapsed()\n  }\n\n  createLocationRangeFromDOMRange(domRange, options) {\n    if (domRange == null || !this.domRangeWithinElement(domRange)) return\n\n    const start = this.findLocationFromContainerAndOffset(domRange.startContainer, domRange.startOffset, options)\n    if (!start) return\n\n    const end = domRange.collapsed\n      ? undefined\n      : this.findLocationFromContainerAndOffset(domRange.endContainer, domRange.endOffset, options)\n\n    return normalizeRange([ start, end ])\n  }\n\n  didMouseDown() {\n    return this.pauseTemporarily()\n  }\n\n  pauseTemporarily() {\n    let resumeHandlers\n    this.paused = true\n\n    const resume = () => {\n      this.paused = false\n      clearTimeout(resumeTimeout)\n\n      Array.from(resumeHandlers).forEach((handler) => {\n        handler.destroy()\n      })\n\n      if (elementContainsNode(document, this.element)) {\n        return this.selectionDidChange()\n      }\n    }\n\n    const resumeTimeout = setTimeout(resume, 200)\n\n    resumeHandlers = [ \"mousemove\", \"keydown\" ].map((eventName) =>\n      handleEvent(eventName, { onElement: document, withCallback: resume })\n    )\n  }\n\n  selectionDidChange() {\n    if (!this.paused && !innerElementIsActive(this.element)) {\n      return this.updateCurrentLocationRange()\n    }\n  }\n\n  updateCurrentLocationRange(locationRange) {\n    if (locationRange != null ? locationRange : locationRange = this.createLocationRangeFromDOMRange(getDOMRange())) {\n      if (!rangesAreEqual(locationRange, this.currentLocationRange)) {\n        this.currentLocationRange = locationRange\n        return this.delegate?.locationRangeDidChange?.(this.currentLocationRange.slice(0))\n      }\n    }\n  }\n\n  createDOMRangeFromLocationRange(locationRange) {\n    const rangeStart = this.findContainerAndOffsetFromLocation(locationRange[0])\n    const rangeEnd = rangeIsCollapsed(locationRange)\n      ? rangeStart\n      : this.findContainerAndOffsetFromLocation(locationRange[1]) || rangeStart\n\n    if (rangeStart != null && rangeEnd != null) {\n      const domRange = document.createRange()\n      domRange.setStart(...Array.from(rangeStart || []))\n      domRange.setEnd(...Array.from(rangeEnd || []))\n      return domRange\n    }\n  }\n\n  getLocationAtPoint(point) {\n    const domRange = this.createDOMRangeFromPoint(point)\n    if (domRange) {\n      return this.createLocationRangeFromDOMRange(domRange)?.[0]\n    }\n  }\n\n  domRangeWithinElement(domRange) {\n    if (domRange.collapsed) {\n      return elementContainsNode(this.element, domRange.startContainer)\n    } else {\n      return (\n        elementContainsNode(this.element, domRange.startContainer) &&\n        elementContainsNode(this.element, domRange.endContainer)\n      )\n    }\n  }\n}\n\nSelectionManager.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\")\nSelectionManager.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\")\nSelectionManager.proxyMethod(\"pointMapper.createDOMRangeFromPoint\")\nSelectionManager.proxyMethod(\"pointMapper.getClientRectsForDOMRange\")\n\n", "import { removeNode } from \"trix/core/helpers\"\n\nimport * as config from \"trix/config\"\nimport BasicObject from \"trix/core/basic_object\"\n\nimport { defer, handleEvent, makeElement, tagName, triggerEvent } from \"trix/core/helpers\"\nconst { lang, css, keyNames } = config\n\nconst undoable = function(fn) {\n  return function() {\n    const commands = fn.apply(this, arguments)\n    commands.do()\n    if (!this.undos) {\n      this.undos = []\n    }\n    this.undos.push(commands.undo)\n  }\n}\n\nexport default class AttachmentEditorController extends BasicObject {\n  constructor(attachmentPiece, element, container, options = {}) {\n    super(...arguments)\n    this.didClickToolbar = this.didClickToolbar.bind(this)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didKeyDownCaption = this.didKeyDownCaption.bind(this)\n    this.didInputCaption = this.didInputCaption.bind(this)\n    this.didChangeCaption = this.didChangeCaption.bind(this)\n    this.didBlurCaption = this.didBlurCaption.bind(this)\n    this.attachmentPiece = attachmentPiece\n    this.element = element\n    this.container = container\n    this.options = options\n    this.attachment = this.attachmentPiece.attachment\n    if (tagName(this.element) === \"a\") {\n      this.element = this.element.firstChild\n    }\n    this.install()\n  }\n\n  install() {\n    this.makeElementMutable()\n    this.addToolbar()\n    if (this.attachment.isPreviewable()) {\n      this.installCaptionEditor()\n    }\n  }\n\n  uninstall() {\n    let undo = this.undos.pop()\n    this.savePendingCaption()\n    while (undo) {\n      undo()\n      undo = this.undos.pop()\n    }\n    this.delegate?.didUninstallAttachmentEditor(this)\n  }\n\n  // Private\n\n  savePendingCaption() {\n    if (this.pendingCaption != null) {\n      const caption = this.pendingCaption\n      this.pendingCaption = null\n      if (caption) {\n        this.delegate?.attachmentEditorDidRequestUpdatingAttributesForAttachment?.({ caption }, this.attachment)\n      } else {\n        this.delegate?.attachmentEditorDidRequestRemovingAttributeForAttachment?.(\"caption\", this.attachment)\n      }\n    }\n  }\n\n  // Installing and uninstalling\n\n  makeElementMutable = undoable(() => {\n    return {\n      do: () => {\n        this.element.dataset.trixMutable = true\n      },\n      undo: () => delete this.element.dataset.trixMutable,\n    }\n  })\n\n  addToolbar = undoable(() => {\n    // <div class=\"#{css.attachmentMetadataContainer}\" data-trix-mutable=\"true\">\n    //   <div class=\"trix-button-row\">\n    //     <span class=\"trix-button-group trix-button-group--actions\">\n    //       <button type=\"button\" class=\"trix-button trix-button--remove\" title=\"#{lang.remove}\" data-trix-action=\"remove\">#{lang.remove}</button>\n    //     </span>\n    //   </div>\n    // </div>\n    const element = makeElement({\n      tagName: \"div\",\n      className: css.attachmentToolbar,\n      data: { trixMutable: true },\n      childNodes: makeElement({\n        tagName: \"div\",\n        className: \"trix-button-row\",\n        childNodes: makeElement({\n          tagName: \"span\",\n          className: \"trix-button-group trix-button-group--actions\",\n          childNodes: makeElement({\n            tagName: \"button\",\n            className: \"trix-button trix-button--remove\",\n            textContent: lang.remove,\n            attributes: { title: lang.remove },\n            data: { trixAction: \"remove\" },\n          }),\n        }),\n      }),\n    })\n\n    if (this.attachment.isPreviewable()) {\n      // <div class=\"#{css.attachmentMetadataContainer}\">\n      //   <span class=\"#{css.attachmentMetadata}\">\n      //     <span class=\"#{css.attachmentName}\" title=\"#{name}\">#{name}</span>\n      //     <span class=\"#{css.attachmentSize}\">#{size}</span>\n      //   </span>\n      // </div>\n      element.appendChild(\n        makeElement({\n          tagName: \"div\",\n          className: css.attachmentMetadataContainer,\n          childNodes: makeElement({\n            tagName: \"span\",\n            className: css.attachmentMetadata,\n            childNodes: [\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentName,\n                textContent: this.attachment.getFilename(),\n                attributes: { title: this.attachment.getFilename() },\n              }),\n              makeElement({\n                tagName: \"span\",\n                className: css.attachmentSize,\n                textContent: this.attachment.getFormattedFilesize(),\n              }),\n            ],\n          }),\n        })\n      )\n    }\n\n    handleEvent(\"click\", { onElement: element, withCallback: this.didClickToolbar })\n    handleEvent(\"click\", {\n      onElement: element,\n      matchingSelector: \"[data-trix-action]\",\n      withCallback: this.didClickActionButton,\n    })\n\n    triggerEvent(\"trix-attachment-before-toolbar\", { onElement: this.element, attributes: { toolbar: element, attachment: this.attachment } })\n\n    return {\n      do: () => this.element.appendChild(element),\n      undo: () => removeNode(element),\n    }\n  })\n\n  installCaptionEditor = undoable(() => {\n    const textarea = makeElement({\n      tagName: \"textarea\",\n      className: css.attachmentCaptionEditor,\n      attributes: { placeholder: lang.captionPlaceholder },\n      data: { trixMutable: true },\n    })\n    textarea.value = this.attachmentPiece.getCaption()\n\n    const textareaClone = textarea.cloneNode()\n    textareaClone.classList.add(\"trix-autoresize-clone\")\n    textareaClone.tabIndex = -1\n\n    const autoresize = function() {\n      textareaClone.value = textarea.value\n      textarea.style.height = textareaClone.scrollHeight + \"px\"\n    }\n\n    handleEvent(\"input\", { onElement: textarea, withCallback: autoresize })\n    handleEvent(\"input\", { onElement: textarea, withCallback: this.didInputCaption })\n    handleEvent(\"keydown\", { onElement: textarea, withCallback: this.didKeyDownCaption })\n    handleEvent(\"change\", { onElement: textarea, withCallback: this.didChangeCaption })\n    handleEvent(\"blur\", { onElement: textarea, withCallback: this.didBlurCaption })\n\n    const figcaption = this.element.querySelector(\"figcaption\")\n    const editingFigcaption = figcaption.cloneNode()\n\n    return {\n      do: () => {\n        figcaption.style.display = \"none\"\n        editingFigcaption.appendChild(textarea)\n        editingFigcaption.appendChild(textareaClone)\n        editingFigcaption.classList.add(`${css.attachmentCaption}--editing`)\n        figcaption.parentElement.insertBefore(editingFigcaption, figcaption)\n        autoresize()\n        if (this.options.editCaption) {\n          return defer(() => textarea.focus())\n        }\n      },\n      undo() {\n        removeNode(editingFigcaption)\n        figcaption.style.display = null\n      },\n    }\n  })\n\n  // Event handlers\n\n  didClickToolbar(event) {\n    event.preventDefault()\n    return event.stopPropagation()\n  }\n\n  didClickActionButton(event) {\n    const action = event.target.getAttribute(\"data-trix-action\")\n    switch (action) {\n      case \"remove\":\n        return this.delegate?.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)\n    }\n  }\n\n  didKeyDownCaption(event) {\n    if (keyNames[event.keyCode] === \"return\") {\n      event.preventDefault()\n      this.savePendingCaption()\n      return this.delegate?.attachmentEditorDidRequestDeselectingAttachment?.(this.attachment)\n    }\n  }\n\n  didInputCaption(event) {\n    this.pendingCaption = event.target.value.replace(/\\s/g, \" \").trim()\n  }\n\n  didChangeCaption(event) {\n    return this.savePendingCaption()\n  }\n\n  didBlurCaption(event) {\n    return this.savePendingCaption()\n  }\n}\n", "import BasicObject from \"trix/core/basic_object\"\nimport DocumentView from \"trix/views/document_view\"\nimport AttachmentEditorController from \"trix/controllers/attachment_editor_controller\"\n\nimport { defer, findClosestElementFromNode, handleEvent, innerElementIsActive } from \"trix/core/helpers\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nexport default class CompositionController extends BasicObject {\n  constructor(element, composition) {\n    super(...arguments)\n    this.didFocus = this.didFocus.bind(this)\n    this.didBlur = this.didBlur.bind(this)\n    this.didClickAttachment = this.didClickAttachment.bind(this)\n\n    this.element = element\n    this.composition = composition\n    this.documentView = new DocumentView(this.composition.document, { element: this.element })\n\n    handleEvent(\"focus\", { onElement: this.element, withCallback: this.didFocus })\n    handleEvent(\"blur\", { onElement: this.element, withCallback: this.didBlur })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a[contenteditable=false]\",\n      preventDefault: true,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attachmentSelector,\n      withCallback: this.didClickAttachment,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: `a${attachmentSelector}`, preventDefault: true })\n  }\n\n  didFocus(event) {\n    const perform = () => {\n      if (!this.focused) {\n        this.focused = true\n        return this.delegate?.compositionControllerDidFocus?.()\n      }\n    }\n\n    return this.blurPromise?.then(perform) || perform()\n  }\n\n  didBlur(event) {\n    this.blurPromise = new Promise((resolve) => {\n      return defer(() => {\n        if (!innerElementIsActive(this.element)) {\n          this.focused = null\n          this.delegate?.compositionControllerDidBlur?.()\n        }\n        this.blurPromise = null\n        return resolve()\n      })\n    })\n  }\n\n  didClickAttachment(event, target) {\n    const attachment = this.findAttachmentForElement(target)\n    const editCaption = !!findClosestElementFromNode(event.target, { matchingSelector: \"figcaption\" })\n    return this.delegate?.compositionControllerDidSelectAttachment?.(attachment, { editCaption })\n  }\n\n  getSerializableElement() {\n    if (this.isEditingAttachment()) {\n      return this.documentView.shadowElement\n    } else {\n      return this.element\n    }\n  }\n\n  render() {\n    if (this.revision !== this.composition.revision) {\n      this.documentView.setDocument(this.composition.document)\n      this.documentView.render()\n      this.revision = this.composition.revision\n    }\n\n    if (this.canSyncDocumentView() && !this.documentView.isSynced()) {\n      this.delegate?.compositionControllerWillSyncDocumentView?.()\n      this.documentView.sync()\n      this.delegate?.compositionControllerDidSyncDocumentView?.()\n    }\n\n    return this.delegate?.compositionControllerDidRender?.()\n  }\n\n  rerenderViewForObject(object) {\n    this.invalidateViewForObject(object)\n    return this.render()\n  }\n\n  invalidateViewForObject(object) {\n    return this.documentView.invalidateViewForObject(object)\n  }\n\n  isViewCachingEnabled() {\n    return this.documentView.isViewCachingEnabled()\n  }\n\n  enableViewCaching() {\n    return this.documentView.enableViewCaching()\n  }\n\n  disableViewCaching() {\n    return this.documentView.disableViewCaching()\n  }\n\n  refreshViewCache() {\n    return this.documentView.garbageCollectCachedViews()\n  }\n\n  // Attachment editor management\n\n  isEditingAttachment() {\n    return !!this.attachmentEditor\n  }\n\n  installAttachmentEditorForAttachment(attachment, options) {\n    if (this.attachmentEditor?.attachment === attachment) return\n    const element = this.documentView.findElementForObject(attachment)\n    if (!element) return\n\n    this.uninstallAttachmentEditor()\n    const attachmentPiece = this.composition.document.getAttachmentPieceForAttachment(attachment)\n    this.attachmentEditor = new AttachmentEditorController(attachmentPiece, element, this.element, options)\n    this.attachmentEditor.delegate = this\n  }\n\n  uninstallAttachmentEditor() {\n    return this.attachmentEditor?.uninstall()\n  }\n\n  // Attachment controller delegate\n\n  didUninstallAttachmentEditor() {\n    this.attachmentEditor = null\n    return this.render()\n  }\n\n  attachmentEditorDidRequestUpdatingAttributesForAttachment(attributes, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.updateAttributesForAttachment(attributes, attachment)\n  }\n\n  attachmentEditorDidRequestRemovingAttributeForAttachment(attribute, attachment) {\n    this.delegate?.compositionControllerWillUpdateAttachment?.(attachment)\n    return this.composition.removeAttributeForAttachment(attribute, attachment)\n  }\n\n  attachmentEditorDidRequestRemovalOfAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestRemovalOfAttachment?.(attachment)\n  }\n\n  attachmentEditorDidRequestDeselectingAttachment(attachment) {\n    return this.delegate?.compositionControllerDidRequestDeselectingAttachment?.(attachment)\n  }\n\n  // Private\n\n  canSyncDocumentView() {\n    return !this.isEditingAttachment()\n  }\n\n  findAttachmentForElement(element) {\n    return this.composition.document.getAttachmentById(parseInt(element.dataset.trixId, 10))\n  }\n}\n", "import \"trix/views/object_view\"\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class Controller extends BasicObject {}\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport {\n  findClosestElementFromNode,\n  nodeIsBlockStartComment,\n  nodeIsEmptyTextNode,\n  normalizeSpaces,\n  summarizeStringChange,\n  tagName,\n} from \"trix/core/helpers\"\n\nconst mutableAttributeName = \"data-trix-mutable\"\nconst mutableSelector = `[${mutableAttributeName}]`\n\nconst options = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class MutationObserver extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didMutate = this.didMutate.bind(this)\n    this.element = element\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.start()\n  }\n\n  start() {\n    this.reset()\n    return this.observer.observe(this.element, options)\n  }\n\n  stop() {\n    return this.observer.disconnect()\n  }\n\n  didMutate(mutations) {\n    this.mutations.push(...Array.from(this.findSignificantMutations(mutations) || []))\n\n    if (this.mutations.length) {\n      this.delegate?.elementDidMutate?.(this.getMutationSummary())\n      return this.reset()\n    }\n  }\n\n  // Private\n\n  reset() {\n    this.mutations = []\n  }\n\n  findSignificantMutations(mutations) {\n    return mutations.filter((mutation) => {\n      return this.mutationIsSignificant(mutation)\n    })\n  }\n\n  mutationIsSignificant(mutation) {\n    if (this.nodeIsMutable(mutation.target)) {\n      return false\n    }\n    for (const node of Array.from(this.nodesModifiedByMutation(mutation))) {\n      if (this.nodeIsSignificant(node)) return true\n    }\n    return false\n  }\n\n  nodeIsSignificant(node) {\n    return node !== this.element && !this.nodeIsMutable(node) && !nodeIsEmptyTextNode(node)\n  }\n\n  nodeIsMutable(node) {\n    return findClosestElementFromNode(node, { matchingSelector: mutableSelector })\n  }\n\n  nodesModifiedByMutation(mutation) {\n    const nodes = []\n    switch (mutation.type) {\n      case \"attributes\":\n        if (mutation.attributeName !== mutableAttributeName) {\n          nodes.push(mutation.target)\n        }\n        break\n      case \"characterData\":\n        // Changes to text nodes should consider the parent element\n        nodes.push(mutation.target.parentNode)\n        nodes.push(mutation.target)\n        break\n      case \"childList\":\n        // Consider each added or removed node\n        nodes.push(...Array.from(mutation.addedNodes || []))\n        nodes.push(...Array.from(mutation.removedNodes || []))\n        break\n    }\n    return nodes\n  }\n\n  getMutationSummary() {\n    return this.getTextMutationSummary()\n  }\n\n  getTextMutationSummary() {\n    const { additions, deletions } = this.getTextChangesFromCharacterData()\n    const textChanges = this.getTextChangesFromChildList()\n\n    Array.from(textChanges.additions).forEach((addition) => {\n      if (!Array.from(additions).includes(addition)) {\n        additions.push(addition)\n      }\n    })\n\n    deletions.push(...Array.from(textChanges.deletions || []))\n\n    const summary = {}\n\n    const added = additions.join(\"\")\n    if (added) {\n      summary.textAdded = added\n    }\n\n    const deleted = deletions.join(\"\")\n    if (deleted) {\n      summary.textDeleted = deleted\n    }\n\n    return summary\n  }\n\n  getMutationsByType(type) {\n    return Array.from(this.mutations).filter((mutation) => mutation.type === type)\n  }\n\n  getTextChangesFromChildList() {\n    let textAdded, textRemoved\n    const addedNodes = []\n    const removedNodes = []\n\n    Array.from(this.getMutationsByType(\"childList\")).forEach((mutation) => {\n      addedNodes.push(...Array.from(mutation.addedNodes || []))\n      removedNodes.push(...Array.from(mutation.removedNodes || []))\n    })\n\n    const singleBlockCommentRemoved =\n      addedNodes.length === 0 && removedNodes.length === 1 && nodeIsBlockStartComment(removedNodes[0])\n\n    if (singleBlockCommentRemoved) {\n      textAdded = []\n      textRemoved = [ \"\\n\" ]\n    } else {\n      textAdded = getTextForNodes(addedNodes)\n      textRemoved = getTextForNodes(removedNodes)\n    }\n\n    const additions = textAdded.filter((text, index) => text !== textRemoved[index]).map(normalizeSpaces)\n    const deletions = textRemoved.filter((text, index) => text !== textAdded[index]).map(normalizeSpaces)\n\n    return { additions, deletions }\n  }\n\n  getTextChangesFromCharacterData() {\n    let added, removed\n    const characterMutations = this.getMutationsByType(\"characterData\")\n\n    if (characterMutations.length) {\n      const startMutation = characterMutations[0],\n        endMutation = characterMutations[characterMutations.length - 1]\n\n      const oldString = normalizeSpaces(startMutation.oldValue)\n      const newString = normalizeSpaces(endMutation.target.data)\n      const summarized = summarizeStringChange(oldString, newString)\n      added = summarized.added\n      removed = summarized.removed\n    }\n\n    return {\n      additions: added ? [ added ] : [],\n      deletions: removed ? [ removed ] : [],\n    }\n  }\n}\n\nconst getTextForNodes = function(nodes = []) {\n  const text = []\n  for (const node of Array.from(nodes)) {\n    switch (node.nodeType) {\n      case Node.TEXT_NODE:\n        text.push(node.data)\n        break\n      case Node.ELEMENT_NODE:\n        if (tagName(node) === \"br\") {\n          text.push(\"\\n\")\n        } else {\n          text.push(...Array.from(getTextForNodes(node.childNodes) || []))\n        }\n        break\n    }\n  }\n  return text\n}\n", "/* eslint-disable\n    no-empty,\n*/\nimport Operation from \"trix/core/utilities/operation\"\n\nexport default class FileVerificationOperation extends Operation {\n  constructor(file) {\n    super(...arguments)\n    this.file = file\n  }\n\n  perform(callback) {\n    const reader = new FileReader()\n\n    reader.onerror = () => callback(false)\n\n    reader.onload = () => {\n      reader.onerror = null\n      try {\n        reader.abort()\n      } catch (error) {}\n      return callback(true, this.file)\n    }\n\n    return reader.readAsArrayBuffer(this.file)\n  }\n}\n", "import * as config from \"trix/config\"\nimport { NON_BREAKING_SPACE, OBJECT_REPLACEMENT_CHARACTER, ZERO_WIDTH_SPACE } from \"trix/constants\"\n\n// Each software keyboard on Android emits its own set of events and some of them can be buggy.\n// This class detects when some buggy events are being emitted and lets know the input controller\n// that they should be ignored.\nexport default class FlakyAndroidKeyboardDetector {\n  constructor(element) {\n    this.element = element\n  }\n\n  shouldIgnore(event) {\n    if (!config.browser.samsungAndroid) return false\n\n    this.previousEvent = this.event\n    this.event = event\n\n    this.checkSamsungKeyboardBuggyModeStart()\n    this.checkSamsungKeyboardBuggyModeEnd()\n\n    return this.buggyMode\n  }\n\n  // private\n\n  // The Samsung keyboard on Android can enter a buggy state in which it emits a flurry of confused events that,\n  // if processed, corrupts the editor. The buggy mode always starts with an insertText event, right after a\n  // keydown event with for an \"Unidentified\" key, with the same text as the editor element, except for a few\n  // extra whitespace, or exotic utf8, characters.\n  checkSamsungKeyboardBuggyModeStart() {\n    if (this.insertingLongTextAfterUnidentifiedChar() && differsInWhitespace(this.element.innerText, this.event.data)) {\n      this.buggyMode = true\n      this.event.preventDefault()\n    }\n  }\n\n  // The flurry of buggy events are always insertText. If we see any other type, it means it's over.\n  checkSamsungKeyboardBuggyModeEnd() {\n    if (this.buggyMode && this.event.inputType !== \"insertText\") {\n      this.buggyMode = false\n    }\n  }\n\n  insertingLongTextAfterUnidentifiedChar() {\n    return this.isBeforeInputInsertText() && this.previousEventWasUnidentifiedKeydown() && this.event.data?.length > 50\n  }\n\n  isBeforeInputInsertText() {\n    return this.event.type === \"beforeinput\" && this.event.inputType === \"insertText\"\n  }\n\n  previousEventWasUnidentifiedKeydown() {\n    return this.previousEvent?.type === \"keydown\" && this.previousEvent?.key === \"Unidentified\"\n  }\n}\n\nconst differsInWhitespace = (text1, text2) => {\n  return normalize(text1) === normalize(text2)\n}\n\nconst whiteSpaceNormalizerRegexp = new RegExp(`(${OBJECT_REPLACEMENT_CHARACTER}|${ZERO_WIDTH_SPACE}|${NON_BREAKING_SPACE}|\\\\s)+`, \"g\")\nconst normalize = (text) => text.replace(whiteSpaceNormalizerRegexp, \" \").trim()\n", "import BasicObject from \"trix/core/basic_object\"\nimport MutationObserver from \"trix/observers/mutation_observer\"\nimport FileVerificationOperation from \"trix/operations/file_verification_operation\"\nimport FlakyAndroidKeyboardDetector from \"../models/flaky_android_keyboard_detector\"\n\nimport { handleEvent, innerElementIsActive } from \"trix/core/helpers\"\n\nexport default class InputController extends BasicObject {\n\n  static events = {}\n\n  constructor(element) {\n    super(...arguments)\n    this.element = element\n    this.mutationObserver = new MutationObserver(this.element)\n    this.mutationObserver.delegate = this\n    this.flakyKeyboardDetector = new FlakyAndroidKeyboardDetector(this.element)\n    for (const eventName in this.constructor.events) {\n      handleEvent(eventName, { onElement: this.element, withCallback: this.handlerFor(eventName) })\n    }\n  }\n\n  elementDidMutate(mutationSummary) {}\n\n  editorWillSyncDocumentView() {\n    return this.mutationObserver.stop()\n  }\n\n  editorDidSyncDocumentView() {\n    return this.mutationObserver.start()\n  }\n\n  requestRender() {\n    return this.delegate?.inputControllerDidRequestRender?.()\n  }\n\n  requestReparse() {\n    this.delegate?.inputControllerDidRequestReparse?.()\n    return this.requestRender()\n  }\n\n  attachFiles(files) {\n    const operations = Array.from(files).map((file) => new FileVerificationOperation(file))\n    return Promise.all(operations).then((files) => {\n      this.handleInput(function() {\n        this.delegate?.inputControllerWillAttachFiles()\n        this.responder?.insertFiles(files)\n        return this.requestRender()\n      })\n    })\n  }\n\n  // Private\n\n  handlerFor(eventName) {\n    return (event) => {\n      if (!event.defaultPrevented) {\n        this.handleInput(() => {\n          if (!innerElementIsActive(this.element)) {\n            if (this.flakyKeyboardDetector.shouldIgnore(event)) return\n\n            this.eventName = eventName\n            this.constructor.events[eventName].call(this, event)\n          }\n        })\n      }\n    }\n  }\n\n  handleInput(callback) {\n    try {\n      this.delegate?.inputControllerWillHandleInput()\n      callback.call(this)\n    } finally {\n      this.delegate?.inputControllerDidHandleInput()\n    }\n  }\n\n  createLinkHTML(href, text) {\n    const link = document.createElement(\"a\")\n    link.href = href\n    link.textContent = text ? text : href\n    return link.outerHTML\n  }\n}\n\n", "import * as config from \"trix/config\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\nimport BasicObject from \"trix/core/basic_object\"\nimport InputController from \"trix/controllers/input_controller\"\nimport DocumentView from \"trix/views/document_view\"\nimport Document from \"trix/models/document\"\n\nimport {\n  dataTransferIsPlainText,\n  dataTransferIsWritable,\n  keyEventIsKeyboardCommand,\n  makeElement,\n  objectsAreEqual,\n  removeNode,\n  squishBreakableWhitespace,\n} from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst { browser, keyNames } = config\nlet pastedFileCount = 0\n\nexport default class Level0InputController extends InputController {\n\n  static events = {\n    keydown(event) {\n      if (!this.isComposing()) {\n        this.resetInputSummary()\n      }\n      this.inputSummary.didInput = true\n\n      const keyName = keyNames[event.keyCode]\n      if (keyName) {\n        let context = this.keys\n\n        ;[ \"ctrl\", \"alt\", \"shift\", \"meta\" ].forEach((modifier) => {\n          if (event[`${modifier}Key`]) {\n            if (modifier === \"ctrl\") {\n              modifier = \"control\"\n            }\n            context = context?.[modifier]\n          }\n        })\n\n        if (context?.[keyName] != null) {\n          this.setInputSummary({ keyName })\n          selectionChangeObserver.reset()\n          context[keyName].call(this, event)\n        }\n      }\n\n      if (keyEventIsKeyboardCommand(event)) {\n        const character = String.fromCharCode(event.keyCode).toLowerCase()\n        if (character) {\n          const keys = [ \"alt\", \"shift\" ].map((modifier) => {\n            if (event[`${modifier}Key`]) {\n              return modifier\n            }\n          }).filter(key => key)\n          keys.push(character)\n          if (this.delegate?.inputControllerDidReceiveKeyboardCommand(keys)) {\n            event.preventDefault()\n          }\n        }\n      }\n    },\n\n    keypress(event) {\n      if (this.inputSummary.eventName != null) return\n      if (event.metaKey) return\n      if (event.ctrlKey && !event.altKey) return\n\n      const string = stringFromKeyEvent(event)\n      if (string) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(string)\n        return this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n      }\n    },\n\n    textInput(event) {\n      // Handle autocapitalization\n      const { data } = event\n      const { textAdded } = this.inputSummary\n      if (textAdded && textAdded !== data && textAdded.toUpperCase() === data) {\n        const range = this.getSelectedRange()\n        this.setSelectedRange([ range[0], range[1] + textAdded.length ])\n        this.responder?.insertString(data)\n        this.setInputSummary({ textAdded: data })\n        return this.setSelectedRange(range)\n      }\n    },\n\n    dragenter(event) {\n      event.preventDefault()\n    },\n\n    dragstart(event) {\n      this.serializeSelectionToDataTransfer(event.dataTransfer)\n      this.draggedRange = this.getSelectedRange()\n      return this.delegate?.inputControllerDidStartDrag?.()\n    },\n\n    dragover(event) {\n      if (this.draggedRange || this.canAcceptDataTransfer(event.dataTransfer)) {\n        event.preventDefault()\n        const draggingPoint = { x: event.clientX, y: event.clientY }\n        if (!objectsAreEqual(draggingPoint, this.draggingPoint)) {\n          this.draggingPoint = draggingPoint\n          return this.delegate?.inputControllerDidReceiveDragOverPoint?.(this.draggingPoint)\n        }\n      }\n    },\n\n    dragend(event) {\n      this.delegate?.inputControllerDidCancelDrag?.()\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    drop(event) {\n      event.preventDefault()\n      const files = event.dataTransfer?.files\n      const documentJSON = event.dataTransfer.getData(\"application/x-trix-document\")\n\n      const point = { x: event.clientX, y: event.clientY }\n      this.responder?.setLocationRangeFromPointRange(point)\n\n      if (files?.length) {\n        this.attachFiles(files)\n      } else if (this.draggedRange) {\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.draggedRange)\n        this.draggedRange = null\n        this.requestRender()\n      } else if (documentJSON) {\n        const document = Document.fromJSONString(documentJSON)\n        this.responder?.insertDocument(document)\n        this.requestRender()\n      }\n\n      this.draggedRange = null\n      this.draggingPoint = null\n    },\n\n    cut(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n\n        this.delegate?.inputControllerWillCutText()\n        this.deleteInDirection(\"backward\")\n        if (event.defaultPrevented) {\n          return this.requestRender()\n        }\n      }\n    },\n\n    copy(event) {\n      if (this.responder?.selectionIsExpanded()) {\n        if (this.serializeSelectionToDataTransfer(event.clipboardData)) {\n          event.preventDefault()\n        }\n      }\n    },\n\n    paste(event) {\n      const clipboard = event.clipboardData || event.testClipboardData\n      const paste = { clipboard }\n\n      if (!clipboard || pasteEventIsCrippledSafariHTMLPaste(event)) {\n        this.getPastedHTMLUsingHiddenElement((html) => {\n          paste.type = \"text/html\"\n          paste.html = html\n          this.delegate?.inputControllerWillPaste(paste)\n          this.responder?.insertHTML(paste.html)\n          this.requestRender()\n          return this.delegate?.inputControllerDidPaste(paste)\n        })\n        return\n      }\n\n      const href = clipboard.getData(\"URL\")\n      const html = clipboard.getData(\"text/html\")\n      const name = clipboard.getData(\"public.url-name\")\n\n      if (href) {\n        let string\n        paste.type = \"text/html\"\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (dataTransferIsPlainText(clipboard)) {\n        paste.type = \"text/plain\"\n        paste.string = clipboard.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.setInputSummary({ textAdded: paste.string, didDelete: this.selectionIsExpanded() })\n        this.responder?.insertString(paste.string)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (html) {\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.requestRender()\n        this.delegate?.inputControllerDidPaste(paste)\n      } else if (Array.from(clipboard.types).includes(\"Files\")) {\n        const file = clipboard.items?.[0]?.getAsFile?.()\n        if (file) {\n          const extension = extensionForFile(file)\n          if (!file.name && extension) {\n            file.name = `pasted-file-${++pastedFileCount}.${extension}`\n          }\n          paste.type = \"File\"\n          paste.file = file\n          this.delegate?.inputControllerWillAttachFiles()\n          this.responder?.insertFile(paste.file)\n          this.requestRender()\n          this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n\n      event.preventDefault()\n    },\n\n    compositionstart(event) {\n      return this.getCompositionInput().start(event.data)\n    },\n\n    compositionupdate(event) {\n      return this.getCompositionInput().update(event.data)\n    },\n\n    compositionend(event) {\n      return this.getCompositionInput().end(event.data)\n    },\n\n    beforeinput(event) {\n      this.inputSummary.didInput = true\n    },\n\n    input(event) {\n      this.inputSummary.didInput = true\n      return event.stopPropagation()\n    },\n  }\n\n  static keys = {\n    backspace(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"backward\", event)\n    },\n\n    delete(event) {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.deleteInDirection(\"forward\", event)\n    },\n\n    return(event) {\n      this.setInputSummary({ preferDocument: true })\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.responder?.insertLineBreak()\n    },\n\n    tab(event) {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.responder?.increaseNestingLevel()\n        this.requestRender()\n        event.preventDefault()\n      }\n    },\n\n    left(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    right(event) {\n      if (this.selectionIsInCursorTarget()) {\n        event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    control: {\n      d(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"forward\", event)\n      },\n\n      h(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        return this.deleteInDirection(\"backward\", event)\n      },\n\n      o(event) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\", { updatePosition: false })\n        return this.requestRender()\n      },\n    },\n\n    shift: {\n      return(event) {\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.insertString(\"\\n\")\n        this.requestRender()\n        event.preventDefault()\n      },\n\n      tab(event) {\n        if (this.responder?.canDecreaseNestingLevel()) {\n          this.responder?.decreaseNestingLevel()\n          this.requestRender()\n          event.preventDefault()\n        }\n      },\n\n      left(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"backward\")\n        }\n      },\n\n      right(event) {\n        if (this.selectionIsInCursorTarget()) {\n          event.preventDefault()\n          return this.expandSelectionInDirection(\"forward\")\n        }\n      },\n    },\n\n    alt: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n\n    meta: {\n      backspace(event) {\n        this.setInputSummary({ preferDocument: false })\n        return this.delegate?.inputControllerWillPerformTyping()\n      },\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.resetInputSummary()\n  }\n\n  setInputSummary(summary = {}) {\n    this.inputSummary.eventName = this.eventName\n    for (const key in summary) {\n      const value = summary[key]\n      this.inputSummary[key] = value\n    }\n    return this.inputSummary\n  }\n\n  resetInputSummary() {\n    this.inputSummary = {}\n  }\n\n  reset() {\n    this.resetInputSummary()\n    return selectionChangeObserver.reset()\n  }\n\n  // Mutation observer delegate\n\n  elementDidMutate(mutationSummary) {\n    if (this.isComposing()) {\n      return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n    } else {\n      return this.handleInput(function() {\n        if (this.mutationIsSignificant(mutationSummary)) {\n          if (this.mutationIsExpected(mutationSummary)) {\n            this.requestRender()\n          } else {\n            this.requestReparse()\n          }\n        }\n        return this.reset()\n      })\n    }\n  }\n\n  mutationIsExpected({ textAdded, textDeleted }) {\n    if (this.inputSummary.preferDocument) {\n      return true\n    }\n\n    const mutationAdditionMatchesSummary =\n      textAdded != null ? textAdded === this.inputSummary.textAdded : !this.inputSummary.textAdded\n    const mutationDeletionMatchesSummary =\n      textDeleted != null ? this.inputSummary.didDelete : !this.inputSummary.didDelete\n\n    const unexpectedNewlineAddition = [ \"\\n\", \" \\n\" ].includes(textAdded) && !mutationAdditionMatchesSummary\n    const unexpectedNewlineDeletion = textDeleted === \"\\n\" && !mutationDeletionMatchesSummary\n    const singleUnexpectedNewline =\n      unexpectedNewlineAddition && !unexpectedNewlineDeletion ||\n      unexpectedNewlineDeletion && !unexpectedNewlineAddition\n\n    if (singleUnexpectedNewline) {\n      const range = this.getSelectedRange()\n      if (range) {\n        const offset = unexpectedNewlineAddition ? textAdded.replace(/\\n$/, \"\").length || -1 : textAdded?.length || 1\n        if (this.responder?.positionIsBlockBreak(range[1] + offset)) {\n          return true\n        }\n      }\n    }\n\n    return mutationAdditionMatchesSummary && mutationDeletionMatchesSummary\n  }\n\n  mutationIsSignificant(mutationSummary) {\n    const textChanged = Object.keys(mutationSummary).length > 0\n    const composedEmptyString = this.compositionInput?.getEndData() === \"\"\n    return textChanged || !composedEmptyString\n  }\n\n  // Private\n\n  getCompositionInput() {\n    if (this.isComposing()) {\n      return this.compositionInput\n    } else {\n      this.compositionInput = new CompositionInput(this)\n    }\n  }\n\n  isComposing() {\n    return this.compositionInput && !this.compositionInput.isEnded()\n  }\n\n  deleteInDirection(direction, event) {\n    if (this.responder?.deleteInDirection(direction) === false) {\n      if (event) {\n        event.preventDefault()\n        return this.requestRender()\n      }\n    } else {\n      return this.setInputSummary({ didDelete: true })\n    }\n  }\n\n  serializeSelectionToDataTransfer(dataTransfer) {\n    if (!dataTransferIsWritable(dataTransfer)) return\n    const document = this.responder?.getSelectedDocument().toSerializableDocument()\n\n    dataTransfer.setData(\"application/x-trix-document\", JSON.stringify(document))\n    dataTransfer.setData(\"text/html\", DocumentView.render(document).innerHTML)\n    dataTransfer.setData(\"text/plain\", document.toString().replace(/\\n$/, \"\"))\n    return true\n  }\n\n  canAcceptDataTransfer(dataTransfer) {\n    const types = {}\n    Array.from(dataTransfer?.types || []).forEach((type) => {\n      types[type] = true\n    })\n    return types.Files || types[\"application/x-trix-document\"] || types[\"text/html\"] || types[\"text/plain\"]\n  }\n\n  getPastedHTMLUsingHiddenElement(callback) {\n    const selectedRange = this.getSelectedRange()\n\n    const style = {\n      position: \"absolute\",\n      left: `${window.pageXOffset}px`,\n      top: `${window.pageYOffset}px`,\n      opacity: 0,\n    }\n\n    const element = makeElement({ style, tagName: \"div\", editable: true })\n    document.body.appendChild(element)\n    element.focus()\n\n    return requestAnimationFrame(() => {\n      const html = element.innerHTML\n      removeNode(element)\n      this.setSelectedRange(selectedRange)\n      return callback(html)\n    })\n  }\n}\n\nLevel0InputController.proxyMethod(\"responder?.getSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.setSelectedRange\")\nLevel0InputController.proxyMethod(\"responder?.expandSelectionInDirection\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsInCursorTarget\")\nLevel0InputController.proxyMethod(\"responder?.selectionIsExpanded\")\n\nconst extensionForFile = (file) => file.type?.match(/\\/(\\w+)$/)?.[1]\n\nconst hasStringCodePointAt = !!\" \".codePointAt?.(0)\n\nconst stringFromKeyEvent = function(event) {\n  if (event.key && hasStringCodePointAt && event.key.codePointAt(0) === event.keyCode) {\n    return event.key\n  } else {\n    let code\n    if (event.which === null) {\n      code = event.keyCode\n    } else if (event.which !== 0 && event.charCode !== 0) {\n      code = event.charCode\n    }\n\n    if (code != null && keyNames[code] !== \"escape\") {\n      return UTF16String.fromCodepoints([ code ]).toString()\n    }\n  }\n}\n\nconst pasteEventIsCrippledSafariHTMLPaste = function(event) {\n  const paste = event.clipboardData\n  if (paste) {\n    if (paste.types.includes(\"text/html\")) {\n      // Answer is yes if there's any possibility of Paste and Match Style in Safari,\n      // which is nearly impossible to detect confidently: https://bugs.webkit.org/show_bug.cgi?id=174165\n      for (const type of paste.types) {\n        const hasPasteboardFlavor = /^CorePasteboardFlavorType/.test(type)\n        const hasReadableDynamicData = /^dyn\\./.test(type) && paste.getData(type)\n        const mightBePasteAndMatchStyle = hasPasteboardFlavor || hasReadableDynamicData\n        if (mightBePasteAndMatchStyle) {\n          return true\n        }\n      }\n      return false\n    } else {\n      const isExternalHTMLPaste = paste.types.includes(\"com.apple.webarchive\")\n      const isExternalRichTextPaste = paste.types.includes(\"com.apple.flat-rtfd\")\n      return isExternalHTMLPaste || isExternalRichTextPaste\n    }\n  }\n}\n\nclass CompositionInput extends BasicObject {\n  constructor(inputController) {\n    super(...arguments)\n    this.inputController = inputController\n    this.responder = this.inputController.responder\n    this.delegate = this.inputController.delegate\n    this.inputSummary = this.inputController.inputSummary\n    this.data = {}\n  }\n\n  start(data) {\n    this.data.start = data\n\n    if (this.isSignificant()) {\n      if (this.inputSummary.eventName === \"keypress\" && this.inputSummary.textAdded) {\n        this.responder?.deleteInDirection(\"left\")\n      }\n\n      if (!this.selectionIsExpanded()) {\n        this.insertPlaceholder()\n        this.requestRender()\n      }\n\n      this.range = this.responder?.getSelectedRange()\n    }\n  }\n\n  update(data) {\n    this.data.update = data\n\n    if (this.isSignificant()) {\n      const range = this.selectPlaceholder()\n      if (range) {\n        this.forgetPlaceholder()\n        this.range = range\n      }\n    }\n  }\n\n  end(data) {\n    this.data.end = data\n\n    if (this.isSignificant()) {\n      this.forgetPlaceholder()\n\n      if (this.canApplyToDocument()) {\n        this.setInputSummary({ preferDocument: true, didInput: false })\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.setSelectedRange(this.range)\n        this.responder?.insertString(this.data.end)\n        return this.responder?.setSelectedRange(this.range[0] + this.data.end.length)\n      } else if (this.data.start != null || this.data.update != null) {\n        this.requestReparse()\n        return this.inputController.reset()\n      }\n    } else {\n      return this.inputController.reset()\n    }\n  }\n\n  getEndData() {\n    return this.data.end\n  }\n\n  isEnded() {\n    return this.getEndData() != null\n  }\n\n  isSignificant() {\n    if (browser.composesExistingText) {\n      return this.inputSummary.didInput\n    } else {\n      return true\n    }\n  }\n\n  // Private\n\n  canApplyToDocument() {\n    return this.data.start?.length === 0 && this.data.end?.length > 0 && this.range\n  }\n}\n\nCompositionInput.proxyMethod(\"inputController.setInputSummary\")\nCompositionInput.proxyMethod(\"inputController.requestRender\")\nCompositionInput.proxyMethod(\"inputController.requestReparse\")\nCompositionInput.proxyMethod(\"responder?.selectionIsExpanded\")\nCompositionInput.proxyMethod(\"responder?.insertPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.selectPlaceholder\")\nCompositionInput.proxyMethod(\"responder?.forgetPlaceholder\")\n", "import { getAllAttributeNames, shouldRenderInmmediatelyToDealWithIOSDictation, squishBreakableWhitespace } from \"trix/core/helpers\"\nimport InputController from \"trix/controllers/input_controller\"\nimport * as config from \"trix/config\"\n\nimport { dataTransferIsMsOfficePaste, dataTransferIsPlainText, keyEventIsKeyboardCommand, objectsAreEqual } from \"trix/core/helpers\"\n\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nexport default class Level2InputController extends InputController {\n  constructor(...args) {\n    super(...args)\n    this.render = this.render.bind(this)\n  }\n\n  static events = {\n    keydown(event) {\n      if (keyEventIsKeyboardCommand(event)) {\n        const command = keyboardCommandFromKeyEvent(event)\n        if (this.delegate?.inputControllerDidReceiveKeyboardCommand(command)) {\n          event.preventDefault()\n        }\n      } else {\n        let name = event.key\n        if (event.altKey) {\n          name += \"+Alt\"\n        }\n        if (event.shiftKey) {\n          name += \"+Shift\"\n        }\n        const handler = this.constructor.keys[name]\n        if (handler) {\n          return this.withEvent(event, handler)\n        }\n      }\n    },\n\n    // Handle paste event to work around beforeinput.insertFromPaste browser bugs.\n    // Safe to remove each condition once fixed upstream.\n    paste(event) {\n      // https://bugs.webkit.org/show_bug.cgi?id=194921\n      let paste\n      const href = event.clipboardData?.getData(\"URL\")\n      if (pasteEventHasFilesOnly(event)) {\n        event.preventDefault()\n        return this.attachFiles(event.clipboardData.files)\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=934448\n      } else if (pasteEventHasPlainTextOnly(event)) {\n        event.preventDefault()\n        paste = {\n          type: \"text/plain\",\n          string: event.clipboardData.getData(\"text/plain\"),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertString(paste.string)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n\n        // https://bugs.webkit.org/show_bug.cgi?id=196702\n      } else if (href) {\n        event.preventDefault()\n        paste = {\n          type: \"text/html\",\n          html: this.createLinkHTML(href),\n        }\n        this.delegate?.inputControllerWillPaste(paste)\n        this.responder?.insertHTML(paste.html)\n        this.render()\n        return this.delegate?.inputControllerDidPaste(paste)\n      }\n    },\n\n    beforeinput(event) {\n      const handler = this.constructor.inputTypes[event.inputType]\n\n      const immmediateRender = shouldRenderInmmediatelyToDealWithIOSDictation(event)\n\n      if (handler) {\n        this.withEvent(event, handler)\n\n        if (!immmediateRender) {\n          this.scheduleRender()\n        }\n      }\n\n      if (immmediateRender) {\n        this.render()\n      }\n    },\n\n    input(event) {\n      selectionChangeObserver.reset()\n    },\n\n    dragstart(event) {\n      if (this.responder?.selectionContainsAttachments()) {\n        event.dataTransfer.setData(\"application/x-trix-dragging\", true)\n\n        this.dragging = {\n          range: this.responder?.getSelectedRange(),\n          point: pointFromEvent(event),\n        }\n      }\n    },\n\n    dragenter(event) {\n      if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    dragover(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        if (!objectsAreEqual(point, this.dragging.point)) {\n          this.dragging.point = point\n          return this.responder?.setLocationRangeFromPointRange(point)\n        }\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n      }\n    },\n\n    drop(event) {\n      if (this.dragging) {\n        event.preventDefault()\n        this.delegate?.inputControllerWillMoveText()\n        this.responder?.moveTextFromRange(this.dragging.range)\n        this.dragging = null\n        return this.scheduleRender()\n      } else if (dragEventHasFiles(event)) {\n        event.preventDefault()\n        const point = pointFromEvent(event)\n        this.responder?.setLocationRangeFromPointRange(point)\n        return this.attachFiles(event.dataTransfer.files)\n      }\n    },\n\n    dragend() {\n      if (this.dragging) {\n        this.responder?.setSelectedRange(this.dragging.range)\n        this.dragging = null\n      }\n    },\n\n    compositionend(event) {\n      if (this.composing) {\n        this.composing = false\n        if (!config.browser.recentAndroid) this.scheduleRender()\n      }\n    },\n  }\n\n  static keys = {\n    ArrowLeft() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"backward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"backward\")\n      }\n    },\n\n    ArrowRight() {\n      if (this.responder?.shouldManageMovingCursorInDirection(\"forward\")) {\n        this.event.preventDefault()\n        return this.responder?.moveCursorInDirection(\"forward\")\n      }\n    },\n\n    Backspace() {\n      if (this.responder?.shouldManageDeletingInDirection(\"backward\")) {\n        this.event.preventDefault()\n        this.delegate?.inputControllerWillPerformTyping()\n        this.responder?.deleteInDirection(\"backward\")\n        return this.render()\n      }\n    },\n\n    Tab() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.increaseNestingLevel()\n        return this.render()\n      }\n    },\n\n    \"Tab+Shift\"() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        this.event.preventDefault()\n        this.responder?.decreaseNestingLevel()\n        return this.render()\n      }\n    },\n  }\n\n  static inputTypes = {\n    deleteByComposition() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteByCut() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteByDrag() {\n      this.event.preventDefault()\n      return this.withTargetDOMRange(function() {\n        this.deleteByDragRange = this.responder?.getSelectedRange()\n      })\n    },\n\n    deleteCompositionText() {\n      return this.deleteInDirection(\"backward\", { recordUndoEntry: false })\n    },\n\n    deleteContent() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteContentForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteEntireSoftLine() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteHardLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteHardLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteSoftLineBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteSoftLineForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    deleteWordBackward() {\n      return this.deleteInDirection(\"backward\")\n    },\n\n    deleteWordForward() {\n      return this.deleteInDirection(\"forward\")\n    },\n\n    formatBackColor() {\n      return this.activateAttributeIfSupported(\"backgroundColor\", this.event.data)\n    },\n\n    formatBold() {\n      return this.toggleAttributeIfSupported(\"bold\")\n    },\n\n    formatFontColor() {\n      return this.activateAttributeIfSupported(\"color\", this.event.data)\n    },\n\n    formatFontName() {\n      return this.activateAttributeIfSupported(\"font\", this.event.data)\n    },\n\n    formatIndent() {\n      if (this.responder?.canIncreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.increaseNestingLevel()\n        })\n      }\n    },\n\n    formatItalic() {\n      return this.toggleAttributeIfSupported(\"italic\")\n    },\n\n    formatJustifyCenter() {\n      return this.toggleAttributeIfSupported(\"justifyCenter\")\n    },\n\n    formatJustifyFull() {\n      return this.toggleAttributeIfSupported(\"justifyFull\")\n    },\n\n    formatJustifyLeft() {\n      return this.toggleAttributeIfSupported(\"justifyLeft\")\n    },\n\n    formatJustifyRight() {\n      return this.toggleAttributeIfSupported(\"justifyRight\")\n    },\n\n    formatOutdent() {\n      if (this.responder?.canDecreaseNestingLevel()) {\n        return this.withTargetDOMRange(function() {\n          return this.responder?.decreaseNestingLevel()\n        })\n      }\n    },\n\n    formatRemove() {\n      this.withTargetDOMRange(function() {\n        for (const attributeName in this.responder?.getCurrentAttributes()) {\n          this.responder?.removeCurrentAttribute(attributeName)\n        }\n      })\n    },\n\n    formatSetBlockTextDirection() {\n      return this.activateAttributeIfSupported(\"blockDir\", this.event.data)\n    },\n\n    formatSetInlineTextDirection() {\n      return this.activateAttributeIfSupported(\"textDir\", this.event.data)\n    },\n\n    formatStrikeThrough() {\n      return this.toggleAttributeIfSupported(\"strike\")\n    },\n\n    formatSubscript() {\n      return this.toggleAttributeIfSupported(\"sub\")\n    },\n\n    formatSuperscript() {\n      return this.toggleAttributeIfSupported(\"sup\")\n    },\n\n    formatUnderline() {\n      return this.toggleAttributeIfSupported(\"underline\")\n    },\n\n    historyRedo() {\n      return this.delegate?.inputControllerWillPerformRedo()\n    },\n\n    historyUndo() {\n      return this.delegate?.inputControllerWillPerformUndo()\n    },\n\n    insertCompositionText() {\n      this.composing = true\n      return this.insertString(this.event.data)\n    },\n\n    insertFromComposition() {\n      this.composing = false\n      return this.insertString(this.event.data)\n    },\n\n    insertFromDrop() {\n      const range = this.deleteByDragRange\n      if (range) {\n        this.deleteByDragRange = null\n        this.delegate?.inputControllerWillMoveText()\n        return this.withTargetDOMRange(function() {\n          return this.responder?.moveTextFromRange(range)\n        })\n      }\n    },\n\n    insertFromPaste() {\n      const { dataTransfer } = this.event\n      const paste = { dataTransfer }\n\n      const href = dataTransfer.getData(\"URL\")\n      const html = dataTransfer.getData(\"text/html\")\n\n      if (href) {\n        let string\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        const name = dataTransfer.getData(\"public.url-name\")\n        if (name) {\n          string = squishBreakableWhitespace(name).trim()\n        } else {\n          string = href\n        }\n        paste.html = this.createLinkHTML(href, string)\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (dataTransferIsPlainText(dataTransfer)) {\n        paste.type = \"text/plain\"\n        paste.string = dataTransfer.getData(\"text/plain\")\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertString(paste.string)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (processableFilePaste(this.event)) {\n        paste.type = \"File\"\n        paste.file = dataTransfer.files[0]\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertFile(paste.file)\n        })\n\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      } else if (html) {\n        this.event.preventDefault()\n        paste.type = \"text/html\"\n        paste.html = html\n        this.delegate?.inputControllerWillPaste(paste)\n        this.withTargetDOMRange(function() {\n          return this.responder?.insertHTML(paste.html)\n        })\n        this.afterRender = () => {\n          return this.delegate?.inputControllerDidPaste(paste)\n        }\n      }\n    },\n\n    insertFromYank() {\n      return this.insertString(this.event.data)\n    },\n\n    insertLineBreak() {\n      return this.insertString(\"\\n\")\n    },\n\n    insertLink() {\n      return this.activateAttributeIfSupported(\"href\", this.event.data)\n    },\n\n    insertOrderedList() {\n      return this.toggleAttributeIfSupported(\"number\")\n    },\n\n    insertParagraph() {\n      this.delegate?.inputControllerWillPerformTyping()\n      return this.withTargetDOMRange(function() {\n        return this.responder?.insertLineBreak()\n      })\n    },\n\n    insertReplacementText() {\n      const replacement = this.event.dataTransfer.getData(\"text/plain\")\n      const domRange = this.event.getTargetRanges()[0]\n\n      this.withTargetDOMRange(domRange, () => {\n        this.insertString(replacement, { updatePosition: false })\n      })\n    },\n\n    insertText() {\n      return this.insertString(this.event.data || this.event.dataTransfer?.getData(\"text/plain\"))\n    },\n\n    insertTranspose() {\n      return this.insertString(this.event.data)\n    },\n\n    insertUnorderedList() {\n      return this.toggleAttributeIfSupported(\"bullet\")\n    },\n  }\n\n  elementDidMutate() {\n    if (this.scheduledRender) {\n      if (this.composing) {\n        return this.delegate?.inputControllerDidAllowUnhandledInput?.()\n      }\n    } else {\n      return this.reparse()\n    }\n  }\n\n  scheduleRender() {\n    return this.scheduledRender ? this.scheduledRender : this.scheduledRender = requestAnimationFrame(this.render)\n  }\n\n  render() {\n    cancelAnimationFrame(this.scheduledRender)\n    this.scheduledRender = null\n    if (!this.composing) {\n      this.delegate?.render()\n    }\n    this.afterRender?.()\n    this.afterRender = null\n  }\n\n  reparse() {\n    return this.delegate?.reparse()\n  }\n\n  // Responder helpers\n\n  insertString(string = \"\", options) {\n    this.delegate?.inputControllerWillPerformTyping()\n    return this.withTargetDOMRange(function() {\n      return this.responder?.insertString(string, options)\n    })\n  }\n\n  toggleAttributeIfSupported(attributeName) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.toggleCurrentAttribute(attributeName)\n      })\n    }\n  }\n\n  activateAttributeIfSupported(attributeName, value) {\n    if (getAllAttributeNames().includes(attributeName)) {\n      this.delegate?.inputControllerWillPerformFormatting(attributeName)\n      return this.withTargetDOMRange(function() {\n        return this.responder?.setCurrentAttribute(attributeName, value)\n      })\n    }\n  }\n\n  deleteInDirection(direction, { recordUndoEntry } = { recordUndoEntry: true }) {\n    if (recordUndoEntry) {\n      this.delegate?.inputControllerWillPerformTyping()\n    }\n    const perform = () => this.responder?.deleteInDirection(direction)\n    const domRange = this.getTargetDOMRange({ minLength: this.composing ? 1 : 2 })\n    if (domRange) {\n      return this.withTargetDOMRange(domRange, perform)\n    } else {\n      return perform()\n    }\n  }\n\n  // Selection helpers\n\n  withTargetDOMRange(domRange, fn) {\n    if (typeof domRange === \"function\") {\n      fn = domRange\n      domRange = this.getTargetDOMRange()\n    }\n    if (domRange) {\n      return this.responder?.withTargetDOMRange(domRange, fn.bind(this))\n    } else {\n      selectionChangeObserver.reset()\n      return fn.call(this)\n    }\n  }\n\n  getTargetDOMRange({ minLength } = { minLength: 0 }) {\n    const targetRanges = this.event.getTargetRanges?.()\n    if (targetRanges) {\n      if (targetRanges.length) {\n        const domRange = staticRangeToRange(targetRanges[0])\n        if (minLength === 0 || domRange.toString().length >= minLength) {\n          return domRange\n        }\n      }\n    }\n  }\n\n  withEvent(event, fn) {\n    let result\n    this.event = event\n    try {\n      result = fn.call(this)\n    } finally {\n      this.event = null\n    }\n    return result\n  }\n}\n\nconst staticRangeToRange = function(staticRange) {\n  const range = document.createRange()\n  range.setStart(staticRange.startContainer, staticRange.startOffset)\n  range.setEnd(staticRange.endContainer, staticRange.endOffset)\n  return range\n}\n\n// Event helpers\n\nconst dragEventHasFiles = (event) => Array.from(event.dataTransfer?.types || []).includes(\"Files\")\n\nconst processableFilePaste = (event) => {\n  // Paste events that only have files are handled by the paste event handler,\n  // to work around Safari not supporting beforeinput.insertFromPaste for files.\n\n  // MS Office text pastes include a file with a screenshot of the text, but we should\n  // handle them as text pastes.\n  return event.dataTransfer.files?.[0] && !pasteEventHasFilesOnly(event) && !dataTransferIsMsOfficePaste(event)\n}\n\nconst pasteEventHasFilesOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    const fileTypes = Array.from(clipboard.types).filter((type) => type.match(/file/i)) // \"Files\", \"application/x-moz-file\"\n    return fileTypes.length === clipboard.types.length && clipboard.files.length >= 1\n  }\n}\n\nconst pasteEventHasPlainTextOnly = function(event) {\n  const clipboard = event.clipboardData\n  if (clipboard) {\n    return clipboard.types.includes(\"text/plain\") && clipboard.types.length === 1\n  }\n}\n\nconst keyboardCommandFromKeyEvent = function(event) {\n  const command = []\n  if (event.altKey) {\n    command.push(\"alt\")\n  }\n  if (event.shiftKey) {\n    command.push(\"shift\")\n  }\n  command.push(event.key)\n  return command\n}\n\nconst pointFromEvent = (event) => ({\n  x: event.clientX,\n  y: event.clientY,\n})\n", "import BasicObject from \"trix/core/basic_object\"\n\nimport { findClosestElementFromNode, handleEvent, triggerEvent } from \"trix/core/helpers\"\n\nimport DOMPurify from \"dompurify\"\n\nconst attributeButtonSelector = \"[data-trix-attribute]\"\nconst actionButtonSelector = \"[data-trix-action]\"\nconst toolbarButtonSelector = `${attributeButtonSelector}, ${actionButtonSelector}`\nconst dialogSelector = \"[data-trix-dialog]\"\nconst activeDialogSelector = `${dialogSelector}[data-trix-active]`\nconst dialogButtonSelector = `${dialogSelector} [data-trix-method]`\nconst dialogInputSelector = `${dialogSelector} [data-trix-input]`\nconst getInputForDialog = (element, attributeName) => {\n  if (!attributeName) { attributeName = getAttributeName(element) }\n  return element.querySelector(`[data-trix-input][name='${attributeName}']`)\n}\nconst getActionName = (element) => element.getAttribute(\"data-trix-action\")\nconst getAttributeName = (element) => {\n  return element.getAttribute(\"data-trix-attribute\") || element.getAttribute(\"data-trix-dialog-attribute\")\n}\nconst getDialogName = (element) => element.getAttribute(\"data-trix-dialog\")\n\nexport default class ToolbarController extends BasicObject {\n  constructor(element) {\n    super(element)\n    this.didClickActionButton = this.didClickActionButton.bind(this)\n    this.didClickAttributeButton = this.didClickAttributeButton.bind(this)\n    this.didClickDialogButton = this.didClickDialogButton.bind(this)\n    this.didKeyDownDialogInput = this.didKeyDownDialogInput.bind(this)\n    this.element = element\n    this.attributes = {}\n    this.actions = {}\n    this.resetDialogInputs()\n\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: actionButtonSelector,\n      withCallback: this.didClickActionButton,\n    })\n    handleEvent(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: attributeButtonSelector,\n      withCallback: this.didClickAttributeButton,\n    })\n    handleEvent(\"click\", { onElement: this.element, matchingSelector: toolbarButtonSelector, preventDefault: true })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: dialogButtonSelector,\n      withCallback: this.didClickDialogButton,\n    })\n    handleEvent(\"keydown\", {\n      onElement: this.element,\n      matchingSelector: dialogInputSelector,\n      withCallback: this.didKeyDownDialogInput,\n    })\n  }\n\n  // Event handlers\n\n  didClickActionButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const actionName = getActionName(element)\n\n    if (this.getDialog(actionName)) {\n      return this.toggleDialog(actionName)\n    } else {\n      return this.delegate?.toolbarDidInvokeAction(actionName, element)\n    }\n  }\n\n  didClickAttributeButton(event, element) {\n    this.delegate?.toolbarDidClickButton()\n    event.preventDefault()\n    const attributeName = getAttributeName(element)\n\n    if (this.getDialog(attributeName)) {\n      this.toggleDialog(attributeName)\n    } else {\n      this.delegate?.toolbarDidToggleAttribute(attributeName)\n    }\n\n    return this.refreshAttributeButtons()\n  }\n\n  didClickDialogButton(event, element) {\n    const dialogElement = findClosestElementFromNode(element, { matchingSelector: dialogSelector })\n    const method = element.getAttribute(\"data-trix-method\")\n    return this[method].call(this, dialogElement)\n  }\n\n  didKeyDownDialogInput(event, element) {\n    if (event.keyCode === 13) {\n      // Enter key\n      event.preventDefault()\n      const attribute = element.getAttribute(\"name\")\n      const dialog = this.getDialog(attribute)\n      this.setAttribute(dialog)\n    }\n    if (event.keyCode === 27) {\n      // Escape key\n      event.preventDefault()\n      return this.hideDialog()\n    }\n  }\n\n  // Action buttons\n\n  updateActions(actions) {\n    this.actions = actions\n    return this.refreshActionButtons()\n  }\n\n  refreshActionButtons() {\n    return this.eachActionButton((element, actionName) => {\n      element.disabled = this.actions[actionName] === false\n    })\n  }\n\n  eachActionButton(callback) {\n    return Array.from(this.element.querySelectorAll(actionButtonSelector)).map((element) =>\n      callback(element, getActionName(element))\n    )\n  }\n\n  // Attribute buttons\n\n  updateAttributes(attributes) {\n    this.attributes = attributes\n    return this.refreshAttributeButtons()\n  }\n\n  refreshAttributeButtons() {\n    return this.eachAttributeButton((element, attributeName) => {\n      element.disabled = this.attributes[attributeName] === false\n      if (this.attributes[attributeName] || this.dialogIsVisible(attributeName)) {\n        element.setAttribute(\"data-trix-active\", \"\")\n        return element.classList.add(\"trix-active\")\n      } else {\n        element.removeAttribute(\"data-trix-active\")\n        return element.classList.remove(\"trix-active\")\n      }\n    })\n  }\n\n  eachAttributeButton(callback) {\n    return Array.from(this.element.querySelectorAll(attributeButtonSelector)).map((element) =>\n      callback(element, getAttributeName(element))\n    )\n  }\n\n  applyKeyboardCommand(keys) {\n    const keyString = JSON.stringify(keys.sort())\n    for (const button of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))) {\n      const buttonKeys = button.getAttribute(\"data-trix-key\").split(\"+\")\n      const buttonKeyString = JSON.stringify(buttonKeys.sort())\n      if (buttonKeyString === keyString) {\n        triggerEvent(\"mousedown\", { onElement: button })\n        return true\n      }\n    }\n    return false\n  }\n\n  // Dialogs\n\n  dialogIsVisible(dialogName) {\n    const element = this.getDialog(dialogName)\n    if (element) {\n      return element.hasAttribute(\"data-trix-active\")\n    }\n  }\n\n  toggleDialog(dialogName) {\n    if (this.dialogIsVisible(dialogName)) {\n      return this.hideDialog()\n    } else {\n      return this.showDialog(dialogName)\n    }\n  }\n\n  showDialog(dialogName) {\n    this.hideDialog()\n    this.delegate?.toolbarWillShowDialog()\n\n    const element = this.getDialog(dialogName)\n    element.setAttribute(\"data-trix-active\", \"\")\n    element.classList.add(\"trix-active\")\n\n    Array.from(element.querySelectorAll(\"input[disabled]\")).forEach((disabledInput) => {\n      disabledInput.removeAttribute(\"disabled\")\n    })\n\n    const attributeName = getAttributeName(element)\n    if (attributeName) {\n      const input = getInputForDialog(element, dialogName)\n      if (input) {\n        input.value = this.attributes[attributeName] || \"\"\n        input.select()\n      }\n    }\n\n    return this.delegate?.toolbarDidShowDialog(dialogName)\n  }\n\n  setAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    const input = getInputForDialog(dialogElement, attributeName)\n\n    if (input.willValidate) {\n      input.setCustomValidity(\"\")\n      if (!input.checkValidity() || !this.isSafeAttribute(input)) {\n        input.setCustomValidity(\"Invalid value\")\n        input.setAttribute(\"data-trix-validate\", \"\")\n        input.classList.add(\"trix-validate\")\n        return input.focus()\n      }\n    }\n    this.delegate?.toolbarDidUpdateAttribute(attributeName, input.value)\n    return this.hideDialog()\n  }\n\n  isSafeAttribute(input) {\n    if (input.hasAttribute(\"data-trix-validate-href\")) {\n      return DOMPurify.isValidAttribute(\"a\", \"href\", input.value)\n    } else {\n      return true\n    }\n  }\n\n  removeAttribute(dialogElement) {\n    const attributeName = getAttributeName(dialogElement)\n    this.delegate?.toolbarDidRemoveAttribute(attributeName)\n    return this.hideDialog()\n  }\n\n  hideDialog() {\n    const element = this.element.querySelector(activeDialogSelector)\n    if (element) {\n      element.removeAttribute(\"data-trix-active\")\n      element.classList.remove(\"trix-active\")\n      this.resetDialogInputs()\n      return this.delegate?.toolbarDidHideDialog(getDialogName(element))\n    }\n  }\n\n  resetDialogInputs() {\n    Array.from(this.element.querySelectorAll(dialogInputSelector)).forEach((input) => {\n      input.setAttribute(\"disabled\", \"disabled\")\n      input.removeAttribute(\"data-trix-validate\")\n      input.classList.remove(\"trix-validate\")\n    })\n  }\n\n  getDialog(dialogName) {\n    return this.element.querySelector(`[data-trix-dialog=${dialogName}]`)\n  }\n}\n", "/* eslint-disable\n    id-length,\n*/\nimport * as config from \"trix/config\"\n\nimport { serializeToContentType } from \"trix/core/serialization\"\n\nimport Controller from \"trix/controllers/controller\"\nimport Level0InputController from \"trix/controllers/level_0_input_controller\"\nimport Level2InputController from \"trix/controllers/level_2_input_controller\"\nimport CompositionController from \"trix/controllers/composition_controller\"\nimport ToolbarController from \"trix/controllers/toolbar_controller\"\nimport Composition from \"trix/models/composition\"\nimport Editor from \"trix/models/editor\"\nimport AttachmentManager from \"trix/models/attachment_manager\"\nimport SelectionManager from \"trix/models/selection_manager\"\n\nimport { getBlockConfig, objectsAreEqual, rangeIsCollapsed, rangesAreEqual } from \"trix/core/helpers\"\nimport { selectionChangeObserver } from \"trix/observers/selection_change_observer\"\n\nconst snapshotsAreEqual = (a, b) => rangesAreEqual(a.selectedRange, b.selectedRange) && a.document.isEqualTo(b.document)\n\nexport default class EditorController extends Controller {\n  static actions = {\n    undo: {\n      test() {\n        return this.editor.canUndo()\n      },\n      perform() {\n        return this.editor.undo()\n      },\n    },\n    redo: {\n      test() {\n        return this.editor.canRedo()\n      },\n      perform() {\n        return this.editor.redo()\n      },\n    },\n    link: {\n      test() {\n        return this.editor.canActivateAttribute(\"href\")\n      },\n    },\n    increaseNestingLevel: {\n      test() {\n        return this.editor.canIncreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.increaseNestingLevel() && this.render()\n      },\n    },\n    decreaseNestingLevel: {\n      test() {\n        return this.editor.canDecreaseNestingLevel()\n      },\n      perform() {\n        return this.editor.decreaseNestingLevel() && this.render()\n      },\n    },\n    attachFiles: {\n      test() {\n        return true\n      },\n      perform() {\n        return config.input.pickFiles(this.editor.insertFiles)\n      },\n    },\n  }\n\n  constructor({ editorElement, document, html }) {\n    super(...arguments)\n    this.editorElement = editorElement\n    this.selectionManager = new SelectionManager(this.editorElement)\n    this.selectionManager.delegate = this\n\n    this.composition = new Composition()\n    this.composition.delegate = this\n\n    this.attachmentManager = new AttachmentManager(this.composition.getAttachments())\n    this.attachmentManager.delegate = this\n\n    this.inputController =\n      config.input.getLevel() === 2\n        ? new Level2InputController(this.editorElement)\n        : new Level0InputController(this.editorElement)\n\n    this.inputController.delegate = this\n    this.inputController.responder = this.composition\n\n    this.compositionController = new CompositionController(this.editorElement, this.composition)\n    this.compositionController.delegate = this\n\n    this.toolbarController = new ToolbarController(this.editorElement.toolbarElement)\n    this.toolbarController.delegate = this\n\n    this.editor = new Editor(this.composition, this.selectionManager, this.editorElement)\n    if (document) {\n      this.editor.loadDocument(document)\n    } else {\n      this.editor.loadHTML(html)\n    }\n  }\n\n  registerSelectionManager() {\n    return selectionChangeObserver.registerSelectionManager(this.selectionManager)\n  }\n\n  unregisterSelectionManager() {\n    return selectionChangeObserver.unregisterSelectionManager(this.selectionManager)\n  }\n\n  render() {\n    return this.compositionController.render()\n  }\n\n  reparse() {\n    return this.composition.replaceHTML(this.editorElement.innerHTML)\n  }\n\n  // Composition delegate\n\n  compositionDidChangeDocument(document) {\n    this.notifyEditorElement(\"document-change\")\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionDidChangeCurrentAttributes(currentAttributes) {\n    this.currentAttributes = currentAttributes\n    this.toolbarController.updateAttributes(this.currentAttributes)\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"attributes-change\", { attributes: this.currentAttributes })\n  }\n\n  compositionDidPerformInsertionAtRange(range) {\n    if (this.pasting) {\n      this.pastedRange = range\n    }\n  }\n\n  compositionShouldAcceptFile(file) {\n    return this.notifyEditorElement(\"file-accept\", { file })\n  }\n\n  compositionDidAddAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-add\", { attachment: managedAttachment })\n  }\n\n  compositionDidEditAttachment(attachment) {\n    this.compositionController.rerenderViewForObject(attachment)\n    const managedAttachment = this.attachmentManager.manageAttachment(attachment)\n    this.notifyEditorElement(\"attachment-edit\", { attachment: managedAttachment })\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidChangeAttachmentPreviewURL(attachment) {\n    this.compositionController.invalidateViewForObject(attachment)\n    return this.notifyEditorElement(\"change\")\n  }\n\n  compositionDidRemoveAttachment(attachment) {\n    const managedAttachment = this.attachmentManager.unmanageAttachment(attachment)\n    return this.notifyEditorElement(\"attachment-remove\", { attachment: managedAttachment })\n  }\n\n  compositionDidStartEditingAttachment(attachment, options) {\n    this.attachmentLocationRange = this.composition.document.getLocationRangeOfAttachment(attachment)\n    this.compositionController.installAttachmentEditorForAttachment(attachment, options)\n    return this.selectionManager.setLocationRange(this.attachmentLocationRange)\n  }\n\n  compositionDidStopEditingAttachment(attachment) {\n    this.compositionController.uninstallAttachmentEditor()\n    this.attachmentLocationRange = null\n  }\n\n  compositionDidRequestChangingSelectionToLocationRange(locationRange) {\n    if (this.loadingSnapshot && !this.isFocused()) return\n    this.requestedLocationRange = locationRange\n    this.compositionRevisionWhenLocationRangeRequested = this.composition.revision\n    if (!this.handlingInput) {\n      return this.render()\n    }\n  }\n\n  compositionWillLoadSnapshot() {\n    this.loadingSnapshot = true\n  }\n\n  compositionDidLoadSnapshot() {\n    this.compositionController.refreshViewCache()\n    this.render()\n    this.loadingSnapshot = false\n  }\n\n  getSelectionManager() {\n    return this.selectionManager\n  }\n\n  // Attachment manager delegate\n\n  attachmentManagerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Document controller delegate\n\n  compositionControllerWillSyncDocumentView() {\n    this.inputController.editorWillSyncDocumentView()\n    this.selectionManager.lock()\n    return this.selectionManager.clearSelection()\n  }\n\n  compositionControllerDidSyncDocumentView() {\n    this.inputController.editorDidSyncDocumentView()\n    this.selectionManager.unlock()\n    this.updateCurrentActions()\n    return this.notifyEditorElement(\"sync\")\n  }\n\n  compositionControllerDidRender() {\n    if (this.requestedLocationRange) {\n      if (this.compositionRevisionWhenLocationRangeRequested === this.composition.revision) {\n        this.selectionManager.setLocationRange(this.requestedLocationRange)\n      }\n      this.requestedLocationRange = null\n      this.compositionRevisionWhenLocationRangeRequested = null\n    }\n\n    if (this.renderedCompositionRevision !== this.composition.revision) {\n      this.runEditorFilters()\n      this.composition.updateCurrentAttributes()\n      this.notifyEditorElement(\"render\")\n    }\n\n    this.renderedCompositionRevision = this.composition.revision\n  }\n\n  compositionControllerDidFocus() {\n    if (this.isFocusedInvisibly()) {\n      this.setLocationRange({ index: 0, offset: 0 })\n    }\n    this.toolbarController.hideDialog()\n    return this.notifyEditorElement(\"focus\")\n  }\n\n  compositionControllerDidBlur() {\n    return this.notifyEditorElement(\"blur\")\n  }\n\n  compositionControllerDidSelectAttachment(attachment, options) {\n    this.toolbarController.hideDialog()\n    return this.composition.editAttachment(attachment, options)\n  }\n\n  compositionControllerDidRequestDeselectingAttachment(attachment) {\n    const locationRange = this.attachmentLocationRange || this.composition.document.getLocationRangeOfAttachment(attachment)\n    return this.selectionManager.setLocationRange(locationRange[1])\n  }\n\n  compositionControllerWillUpdateAttachment(attachment) {\n    return this.editor.recordUndoEntry(\"Edit Attachment\", { context: attachment.id, consolidatable: true })\n  }\n\n  compositionControllerDidRequestRemovalOfAttachment(attachment) {\n    return this.removeAttachment(attachment)\n  }\n\n  // Input controller delegate\n\n  inputControllerWillHandleInput() {\n    this.handlingInput = true\n    this.requestedRender = false\n  }\n\n  inputControllerDidRequestRender() {\n    this.requestedRender = true\n  }\n\n  inputControllerDidHandleInput() {\n    this.handlingInput = false\n    if (this.requestedRender) {\n      this.requestedRender = false\n      return this.render()\n    }\n  }\n\n  inputControllerDidAllowUnhandledInput() {\n    return this.notifyEditorElement(\"change\")\n  }\n\n  inputControllerDidRequestReparse() {\n    return this.reparse()\n  }\n\n  inputControllerWillPerformTyping() {\n    return this.recordTypingUndoEntry()\n  }\n\n  inputControllerWillPerformFormatting(attributeName) {\n    return this.recordFormattingUndoEntry(attributeName)\n  }\n\n  inputControllerWillCutText() {\n    return this.editor.recordUndoEntry(\"Cut\")\n  }\n\n  inputControllerWillPaste(paste) {\n    this.editor.recordUndoEntry(\"Paste\")\n    this.pasting = true\n    return this.notifyEditorElement(\"before-paste\", { paste })\n  }\n\n  inputControllerDidPaste(paste) {\n    paste.range = this.pastedRange\n    this.pastedRange = null\n    this.pasting = null\n    return this.notifyEditorElement(\"paste\", { paste })\n  }\n\n  inputControllerWillMoveText() {\n    return this.editor.recordUndoEntry(\"Move\")\n  }\n\n  inputControllerWillAttachFiles() {\n    return this.editor.recordUndoEntry(\"Drop Files\")\n  }\n\n  inputControllerWillPerformUndo() {\n    return this.editor.undo()\n  }\n\n  inputControllerWillPerformRedo() {\n    return this.editor.redo()\n  }\n\n  inputControllerDidReceiveKeyboardCommand(keys) {\n    return this.toolbarController.applyKeyboardCommand(keys)\n  }\n\n  inputControllerDidStartDrag() {\n    this.locationRangeBeforeDrag = this.selectionManager.getLocationRange()\n  }\n\n  inputControllerDidReceiveDragOverPoint(point) {\n    return this.selectionManager.setLocationRangeFromPointRange(point)\n  }\n\n  inputControllerDidCancelDrag() {\n    this.selectionManager.setLocationRange(this.locationRangeBeforeDrag)\n    this.locationRangeBeforeDrag = null\n  }\n\n  // Selection manager delegate\n\n  locationRangeDidChange(locationRange) {\n    this.composition.updateCurrentAttributes()\n    this.updateCurrentActions()\n    if (this.attachmentLocationRange && !rangesAreEqual(this.attachmentLocationRange, locationRange)) {\n      this.composition.stopEditingAttachment()\n    }\n    return this.notifyEditorElement(\"selection-change\")\n  }\n\n  // Toolbar controller delegate\n\n  toolbarDidClickButton() {\n    if (!this.getLocationRange()) {\n      return this.setLocationRange({ index: 0, offset: 0 })\n    }\n  }\n\n  toolbarDidInvokeAction(actionName, invokingElement) {\n    return this.invokeAction(actionName, invokingElement)\n  }\n\n  toolbarDidToggleAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.toggleCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidUpdateAttribute(attributeName, value) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.setCurrentAttribute(attributeName, value)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarDidRemoveAttribute(attributeName) {\n    this.recordFormattingUndoEntry(attributeName)\n    this.composition.removeCurrentAttribute(attributeName)\n    this.render()\n    if (!this.selectionFrozen) {\n      return this.editorElement.focus()\n    }\n  }\n\n  toolbarWillShowDialog(dialogElement) {\n    this.composition.expandSelectionForEditing()\n    return this.freezeSelection()\n  }\n\n  toolbarDidShowDialog(dialogName) {\n    return this.notifyEditorElement(\"toolbar-dialog-show\", { dialogName })\n  }\n\n  toolbarDidHideDialog(dialogName) {\n    this.thawSelection()\n    this.editorElement.focus()\n    return this.notifyEditorElement(\"toolbar-dialog-hide\", { dialogName })\n  }\n\n  // Selection\n\n  freezeSelection() {\n    if (!this.selectionFrozen) {\n      this.selectionManager.lock()\n      this.composition.freezeSelection()\n      this.selectionFrozen = true\n      return this.render()\n    }\n  }\n\n  thawSelection() {\n    if (this.selectionFrozen) {\n      this.composition.thawSelection()\n      this.selectionManager.unlock()\n      this.selectionFrozen = false\n      return this.render()\n    }\n  }\n\n  canInvokeAction(actionName) {\n    if (this.actionIsExternal(actionName)) {\n      return true\n    } else {\n      return !!this.actions[actionName]?.test?.call(this)\n    }\n  }\n\n  invokeAction(actionName, invokingElement) {\n    if (this.actionIsExternal(actionName)) {\n      return this.notifyEditorElement(\"action-invoke\", { actionName, invokingElement })\n    } else {\n      return this.actions[actionName]?.perform?.call(this)\n    }\n  }\n\n  actionIsExternal(actionName) {\n    return /^x-./.test(actionName)\n  }\n\n  getCurrentActions() {\n    const result = {}\n    for (const actionName in this.actions) {\n      result[actionName] = this.canInvokeAction(actionName)\n    }\n    return result\n  }\n\n  updateCurrentActions() {\n    const currentActions = this.getCurrentActions()\n    if (!objectsAreEqual(currentActions, this.currentActions)) {\n      this.currentActions = currentActions\n      this.toolbarController.updateActions(this.currentActions)\n      return this.notifyEditorElement(\"actions-change\", { actions: this.currentActions })\n    }\n  }\n\n  // Editor filters\n\n  runEditorFilters() {\n    let snapshot = this.composition.getSnapshot()\n\n    Array.from(this.editor.filters).forEach((filter) => {\n      const { document, selectedRange } = snapshot\n      snapshot = filter.call(this.editor, snapshot) || {}\n      if (!snapshot.document) {\n        snapshot.document = document\n      }\n      if (!snapshot.selectedRange) {\n        snapshot.selectedRange = selectedRange\n      }\n    })\n\n    if (!snapshotsAreEqual(snapshot, this.composition.getSnapshot())) {\n      return this.composition.loadSnapshot(snapshot)\n    }\n  }\n\n  // Private\n\n  updateInputElement() {\n    const element = this.compositionController.getSerializableElement()\n    const value = serializeToContentType(element, \"text/html\")\n    return this.editorElement.setFormValue(value)\n  }\n\n  notifyEditorElement(message, data) {\n    switch (message) {\n      case \"document-change\":\n        this.documentChangedSinceLastRender = true\n        break\n      case \"render\":\n        if (this.documentChangedSinceLastRender) {\n          this.documentChangedSinceLastRender = false\n          this.notifyEditorElement(\"change\")\n        }\n        break\n      case \"change\":\n      case \"attachment-add\":\n      case \"attachment-edit\":\n      case \"attachment-remove\":\n        this.updateInputElement()\n        break\n    }\n\n    return this.editorElement.notify(message, data)\n  }\n\n  removeAttachment(attachment) {\n    this.editor.recordUndoEntry(\"Delete Attachment\")\n    this.composition.removeAttachment(attachment)\n    return this.render()\n  }\n\n  recordFormattingUndoEntry(attributeName) {\n    const blockConfig = getBlockConfig(attributeName)\n    const locationRange = this.selectionManager.getLocationRange()\n    if (blockConfig || !rangeIsCollapsed(locationRange)) {\n      return this.editor.recordUndoEntry(\"Formatting\", { context: this.getUndoContext(), consolidatable: true })\n    }\n  }\n\n  recordTypingUndoEntry() {\n    return this.editor.recordUndoEntry(\"Typing\", {\n      context: this.getUndoContext(this.currentAttributes),\n      consolidatable: true,\n    })\n  }\n\n  getUndoContext(...context) {\n    return [ this.getLocationContext(), this.getTimeContext(), ...Array.from(context) ]\n  }\n\n  getLocationContext() {\n    const locationRange = this.selectionManager.getLocationRange()\n    if (rangeIsCollapsed(locationRange)) {\n      return locationRange[0].index\n    } else {\n      return locationRange\n    }\n  }\n\n  getTimeContext() {\n    if (config.undo.interval > 0) {\n      return Math.floor(new Date().getTime() / config.undo.interval)\n    } else {\n      return 0\n    }\n  }\n\n  isFocused() {\n    return this.editorElement === this.editorElement.ownerDocument?.activeElement\n  }\n\n  // Detect \"Cursor disappears sporadically\" Firefox bug.\n  // - https://bugzilla.mozilla.org/show_bug.cgi?id=226301\n  isFocusedInvisibly() {\n    return this.isFocused() && !this.getLocationRange()\n  }\n\n  get actions() {\n    return this.constructor.actions\n  }\n}\n\nEditorController.proxyMethod(\"getSelectionManager().setLocationRange\")\nEditorController.proxyMethod(\"getSelectionManager().getLocationRange\")\n", "import * as config from \"trix/config\"\n\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-toolbar\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}`)\n\nexport default class TrixToolbarElement extends HTMLElement {\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (this.innerHTML === \"\") {\n      this.innerHTML = config.toolbar.getDefaultHTML()\n    }\n  }\n}\n", "import * as config from \"trix/config\"\n\nimport {\n  findClosestElementFromNode,\n  handleEvent,\n  handleEventOnce,\n  installDefaultCSSForTagName,\n  makeElement,\n  triggerEvent,\n} from \"trix/core/helpers\"\n\nimport { attachmentSelector } from \"trix/config/attachments\"\nimport EditorController from \"trix/controllers/editor_controller\"\nimport \"trix/elements/trix_toolbar_element\"\n\nlet id = 0\n\n// Contenteditable support helpers\n\nconst autofocus = function(element) {\n  if (!document.querySelector(\":focus\")) {\n    if (element.hasAttribute(\"autofocus\") && document.querySelector(\"[autofocus]\") === element) {\n      return element.focus()\n    }\n  }\n}\n\nconst makeEditable = function(element) {\n  if (element.hasAttribute(\"contenteditable\")) {\n    return\n  }\n  element.setAttribute(\"contenteditable\", \"\")\n  return handleEventOnce(\"focus\", {\n    onElement: element,\n    withCallback() {\n      return configureContentEditable(element)\n    },\n  })\n}\n\nconst configureContentEditable = function(element) {\n  disableObjectResizing(element)\n  return setDefaultParagraphSeparator(element)\n}\n\nconst disableObjectResizing = function(element) {\n  if (document.queryCommandSupported?.(\"enableObjectResizing\")) {\n    document.execCommand(\"enableObjectResizing\", false, false)\n    return handleEvent(\"mscontrolselect\", { onElement: element, preventDefault: true })\n  }\n}\n\nconst setDefaultParagraphSeparator = function(element) {\n  if (document.queryCommandSupported?.(\"DefaultParagraphSeparator\")) {\n    const { tagName } = config.blockAttributes.default\n    if ([ \"div\", \"p\" ].includes(tagName)) {\n      return document.execCommand(\"DefaultParagraphSeparator\", false, tagName)\n    }\n  }\n}\n\n// Accessibility helpers\n\nconst addAccessibilityRole = function(element) {\n  if (element.hasAttribute(\"role\")) {\n    return\n  }\n  return element.setAttribute(\"role\", \"textbox\")\n}\n\nconst ensureAriaLabel = function(element) {\n  if (element.hasAttribute(\"aria-label\") || element.hasAttribute(\"aria-labelledby\")) {\n    return\n  }\n\n  const update = function() {\n    const texts = Array.from(element.labels).map((label) => {\n      if (!label.contains(element)) return label.textContent\n    }).filter(text => text)\n\n    const text = texts.join(\" \")\n    if (text) {\n      return element.setAttribute(\"aria-label\", text)\n    } else {\n      return element.removeAttribute(\"aria-label\")\n    }\n  }\n  update()\n  return handleEvent(\"focus\", { onElement: element, withCallback: update })\n}\n\n// Style\n\nconst cursorTargetStyles = (function() {\n  if (config.browser.forcesObjectResizing) {\n    return {\n      display: \"inline\",\n      width: \"auto\",\n    }\n  } else {\n    return {\n      display: \"inline-block\",\n      width: \"1px\",\n    }\n  }\n})()\n\ninstallDefaultCSSForTagName(\"trix-editor\", `\\\n%t {\n    display: block;\n}\n\n%t:empty::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ${attachmentSelector} figcaption textarea {\n    resize: none;\n}\n\n%t ${attachmentSelector} figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ${attachmentSelector} figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ${cursorTargetStyles.display} !important;\n    width: ${cursorTargetStyles.width} !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}`)\n\nclass ElementInternalsDelegate {\n  #internals\n\n  constructor(element) {\n    this.element = element\n    this.#internals = element.attachInternals()\n  }\n\n  connectedCallback() {\n    this.#validate()\n  }\n\n  disconnectedCallback() {\n  }\n\n  get labels() {\n    return this.#internals.labels\n  }\n\n  get disabled() {\n    return this.element.inputElement?.disabled\n  }\n\n  set disabled(value) {\n    this.element.toggleAttribute(\"disabled\", value)\n  }\n\n  get required() {\n    return this.element.hasAttribute(\"required\")\n  }\n\n  set required(value) {\n    this.element.toggleAttribute(\"required\", value)\n    this.#validate()\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  setFormValue(value) {\n    this.#validate()\n  }\n\n  checkValidity() {\n    return this.#internals.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#internals.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#validate(validationMessage)\n  }\n\n  #validate(customValidationMessage = \"\") {\n    const { required, value } = this.element\n    const valueMissing = required && !value\n    const customError = !!customValidationMessage\n    const input = makeElement(\"input\", { required })\n    const validationMessage = customValidationMessage || input.validationMessage\n\n    this.#internals.setValidity({ valueMissing, customError }, validationMessage)\n  }\n}\n\nclass LegacyDelegate {\n  #focusHandler\n\n  constructor(element) {\n    this.element = element\n  }\n\n  connectedCallback() {\n    this.#focusHandler = ensureAriaLabel(this.element)\n    window.addEventListener(\"reset\", this.#resetBubbled, false)\n    window.addEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  disconnectedCallback() {\n    this.#focusHandler?.destroy()\n    window.removeEventListener(\"reset\", this.#resetBubbled, false)\n    window.removeEventListener(\"click\", this.#clickBubbled, false)\n  }\n\n  get labels() {\n    const labels = []\n    if (this.element.id && this.element.ownerDocument) {\n      labels.push(...Array.from(this.element.ownerDocument.querySelectorAll(`label[for='${this.element.id}']`) || []))\n    }\n\n    const label = findClosestElementFromNode(this.element, { matchingSelector: \"label\" })\n    if (label) {\n      if ([ this.element, null ].includes(label.control)) {\n        labels.push(label)\n      }\n    }\n\n    return labels\n  }\n\n  get disabled() {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set disabled(value) {\n    console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")\n  }\n\n  get required() {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n\n    return false\n  }\n\n  set required(value) {\n    console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")\n  }\n\n  get validity() {\n    console.warn(\"This browser does not support the validity property for trix-editor elements.\")\n    return null\n  }\n\n  get validationMessage() {\n    console.warn(\"This browser does not support the validationMessage property for trix-editor elements.\")\n\n    return \"\"\n  }\n\n  get willValidate() {\n    console.warn(\"This browser does not support the willValidate property for trix-editor elements.\")\n\n    return false\n  }\n\n  setFormValue(value) {\n  }\n\n  checkValidity() {\n    console.warn(\"This browser does not support checkValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  reportValidity() {\n    console.warn(\"This browser does not support reportValidity() for trix-editor elements.\")\n\n    return true\n  }\n\n  setCustomValidity(validationMessage) {\n    console.warn(\"This browser does not support setCustomValidity(validationMessage) for trix-editor elements.\")\n  }\n\n  #resetBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (event.target !== this.element.form) return\n    this.element.reset()\n  }\n\n  #clickBubbled = (event) => {\n    if (event.defaultPrevented) return\n    if (this.element.contains(event.target)) return\n\n    const label = findClosestElementFromNode(event.target, { matchingSelector: \"label\" })\n    if (!label) return\n\n    if (!Array.from(this.labels).includes(label)) return\n\n    this.element.focus()\n  }\n}\n\nexport default class TrixEditorElement extends HTMLElement {\n  static formAssociated = \"ElementInternals\" in window\n\n  #delegate\n\n  constructor() {\n    super()\n    this.#delegate = this.constructor.formAssociated ?\n      new ElementInternalsDelegate(this) :\n      new LegacyDelegate(this)\n  }\n\n  // Properties\n\n  get trixId() {\n    if (this.hasAttribute(\"trix-id\")) {\n      return this.getAttribute(\"trix-id\")\n    } else {\n      this.setAttribute(\"trix-id\", ++id)\n      return this.trixId\n    }\n  }\n\n  get labels() {\n    return this.#delegate.labels\n  }\n\n  get disabled() {\n    return this.#delegate.disabled\n  }\n\n  set disabled(value) {\n    this.#delegate.disabled = value\n  }\n\n  get required() {\n    return this.#delegate.required\n  }\n\n  set required(value) {\n    this.#delegate.required = value\n  }\n\n  get validity() {\n    return this.#delegate.validity\n  }\n\n  get validationMessage() {\n    return this.#delegate.validationMessage\n  }\n\n  get willValidate() {\n    return this.#delegate.willValidate\n  }\n\n  get type() {\n    return this.localName\n  }\n\n  get toolbarElement() {\n    if (this.hasAttribute(\"toolbar\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"toolbar\"))\n    } else if (this.parentNode) {\n      const toolbarId = `trix-toolbar-${this.trixId}`\n      this.setAttribute(\"toolbar\", toolbarId)\n      const element = makeElement(\"trix-toolbar\", { id: toolbarId })\n      this.parentNode.insertBefore(element, this)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get form() {\n    return this.inputElement?.form\n  }\n\n  get inputElement() {\n    if (this.hasAttribute(\"input\")) {\n      return this.ownerDocument?.getElementById(this.getAttribute(\"input\"))\n    } else if (this.parentNode) {\n      const inputId = `trix-input-${this.trixId}`\n      this.setAttribute(\"input\", inputId)\n      const element = makeElement(\"input\", { type: \"hidden\", id: inputId })\n      this.parentNode.insertBefore(element, this.nextElementSibling)\n      return element\n    } else {\n      return undefined\n    }\n  }\n\n  get editor() {\n    return this.editorController?.editor\n  }\n\n  get name() {\n    return this.inputElement?.name\n  }\n\n  get value() {\n    return this.inputElement?.value\n  }\n\n  set value(defaultValue) {\n    this.defaultValue = defaultValue\n    this.editor?.loadHTML(this.defaultValue)\n  }\n\n  // Controller delegate methods\n\n  notify(message, data) {\n    if (this.editorController) {\n      return triggerEvent(`trix-${message}`, { onElement: this, attributes: data })\n    }\n  }\n\n  setFormValue(value) {\n    if (this.inputElement) {\n      this.inputElement.value = value\n      this.#delegate.setFormValue(value)\n    }\n  }\n\n  // Element lifecycle\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"data-trix-internal\")) {\n      makeEditable(this)\n      addAccessibilityRole(this)\n\n      if (!this.editorController) {\n        triggerEvent(\"trix-before-initialize\", { onElement: this })\n        this.editorController = new EditorController({\n          editorElement: this,\n          html: this.defaultValue = this.value,\n        })\n        requestAnimationFrame(() => triggerEvent(\"trix-initialize\", { onElement: this }))\n      }\n      this.editorController.registerSelectionManager()\n      this.#delegate.connectedCallback()\n      autofocus(this)\n    }\n  }\n\n  disconnectedCallback() {\n    this.editorController?.unregisterSelectionManager()\n    this.#delegate.disconnectedCallback()\n  }\n\n  // Form support\n\n  checkValidity() {\n    return this.#delegate.checkValidity()\n  }\n\n  reportValidity() {\n    return this.#delegate.reportValidity()\n  }\n\n  setCustomValidity(validationMessage) {\n    this.#delegate.setCustomValidity(validationMessage)\n  }\n\n  formDisabledCallback(disabled) {\n    if (this.inputElement) {\n      this.inputElement.disabled = disabled\n    }\n    this.toggleAttribute(\"contenteditable\", !disabled)\n  }\n\n  formResetCallback() {\n    this.reset()\n  }\n\n  reset() {\n    this.value = this.defaultValue\n  }\n}\n", "import { version } from \"../../package.json\"\n\nimport * as config from \"trix/config\"\nimport * as core from \"trix/core\"\nimport * as models from \"trix/models\"\nimport * as views from \"trix/views\"\nimport * as controllers from \"trix/controllers\"\nimport * as observers from \"trix/observers\"\nimport * as operations from \"trix/operations\"\nimport * as elements from \"trix/elements\"\nimport * as filters from \"trix/filters\"\n\nconst Trix = {\n  VERSION: version,\n  config,\n  core,\n  models,\n  views,\n  controllers,\n  observers,\n  operations,\n  elements,\n  filters\n}\n\n// Expose models under the Trix constant for compatibility with v1\nObject.assign(Trix, models)\n\nfunction start() {\n  if (!customElements.get(\"trix-toolbar\")) {\n    customElements.define(\"trix-toolbar\", elements.TrixToolbarElement)\n  }\n\n  if (!customElements.get(\"trix-editor\")) {\n    customElements.define(\"trix-editor\", elements.TrixEditorElement)\n  }\n}\n\nwindow.Trix = Trix\nsetTimeout(start, 0)\n\nexport default Trix\n", "const S3Uploader = function (entries, onViewError) {\n  entries.forEach(entry => {\n    let xhr = new XMLHttpRequest()\n    onViewError(() => xhr.abort())\n    xhr.onload = () => xhr.status === 200 ? entry.progress(100) : entry.error()\n    xhr.onerror = () => entry.error()\n\n    xhr.upload.addEventListener(\"progress\", (event) => {\n      if (event.lengthComputable) {\n        let percent = Math.round((event.loaded / event.total) * 100)\n        if (percent < 100) { entry.progress(percent) }\n      }\n    })\n\n    let url = entry.meta.url\n    xhr.open(\"PUT\", url, true)\n    xhr.send(entry.file)\n  })\n}\nexport default S3Uploader\n", "const LocaleInLocalStorage = {\n  mounted() {\n    if (sessionStorage.getItem('locale')) {\n      this.pushEventTo(this.el, \"got-locale\", { locale: sessionStorage.getItem('locale') })\n    }\n\n    this.handleEvent(\"set-locale\", ({ locale }) =>\n      sessionStorage.setItem(\"locale\", locale)\n    )\n  }\n}\n\nexport default LocaleInLocalStorage\n"],
  "mappings": "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",
  "names": ["require_topbar", "__commonJSMin", "exports", "module", "window", "document", "lastTime", "vendors", "x", "callback", "element", "currTime", "timeToCall", "id", "canvas", "currentProgress", "showing", "progressTimerId", "fadeTimerId", "delayTimerId", "addEvent", "elem", "type", "handler", "options", "repaint", "ctx", "lineGradient", "stop", "createCanvas", "style", "topbar", "opts", "key", "delay", "loop", "to", "getDefaultOpts", "simple", "defaultOptions", "ret", "opt", "allOptionsOn", "options", "showdown", "parsers", "extensions", "globalOptions", "setFlavor", "flavor", "key", "value", "name", "preset", "option", "func", "ext", "validExtension", "validate", "extension", "errMsg", "i", "baseMsg", "type", "ln", "validateExtension", "a", "getType", "obj", "callback", "prop", "s", "escapeCharactersCallback", "wholeMatch", "m1", "charCodeToEscape", "text", "charsToEscape", "afterBackslash", "regexString", "regex", "txt", "rgxFindMatchPos", "str", "left", "right", "flags", "f", "g", "x", "l", "pos", "t", "m", "start", "end", "matchPos", "results", "replacement", "repStr", "finalStr", "lng", "bits", "fromIndex", "indexOf", "index", "mail", "encode", "ch", "r", "targetLength", "padString", "msg", "converterOptions", "langExtensions", "outputModifiers", "listeners", "setConvFlavor", "metadata", "_constructor", "gOpt", "_parseExtension", "legacyExtensionLoading", "validExt", "listen", "valid", "rTrimInputText", "rsp", "rgx", "evtName", "globals", "ei", "nText", "src", "HTMLParser", "doc", "substitutePreCodeTags", "clean", "nodes", "mdDoc", "node", "n", "child", "pres", "presPH", "content", "language", "classes", "c", "matches", "extensionName", "ii", "raw", "format", "writeAnchorTag", "linkText", "linkId", "url", "m5", "m6", "title", "result", "wm", "st", "escape", "mentions", "username", "lnk", "target", "simpleURLRegex", "simpleURLRegex2", "delimUrlRegex", "simpleMailRegex", "delimMailRegex", "replaceLink", "leadingMagicChars", "link", "m2", "m3", "trailingPunctuation", "trailingMagicChars", "lnkTxt", "append", "lmc", "tmc", "replaceMail", "b", "href", "bq", "pre", "pattern", "codeblock", "nextChar", "doctype", "doctypeParsed", "charset", "lang", "meta", "leadingText", "numSpaces", "emojiRgx", "emojiCode", "tags", "comments", "delim", "repFunc", "match", "blockText", "blockTags", "inside", "opTagPos", "rgx1", "patLeft", "patRight", "subTexts", "newSubText1", "hashHTMLSpan", "html", "repText", "limit", "num", "headerLevelStart", "setextRegexH1", "setextRegexH2", "spanGamut", "hID", "headerId", "hLevel", "hashBlock", "matchFound", "atxStyle", "hText", "span", "header", "prefix", "inlineRegExp", "crazyRegExp", "base64RegExp", "referenceRegExp", "refShortcutRegExp", "writeImageTagBase64", "altText", "width", "height", "writeImageTag", "gUrls", "gTitles", "gDims", "parseInside", "lead", "processListItems", "listStr", "trimTrailing", "isParagraphed", "m4", "taskbtn", "checked", "item", "bulletStyle", "otp", "wm2", "styleStartNumber", "list", "listType", "res", "parseConsecutiveLists", "olRgx", "ulRgx", "counterRxg", "parseCL", "style", "parseMetadataContents", "wholematch", "grafs", "grafsOut", "grafsOutIt", "codeFlag", "re", "base64Regex", "replaceFunc", "blankLines", "tableRgx", "singeColTblRgx", "parseStyles", "sLine", "parseHeaders", "id", "parseCells", "cell", "subText", "buildTable", "headers", "cells", "tb", "tblLgn", "parseTable", "rawTable", "tableLines", "rawHeaders", "rawStyles", "rawCells", "styles", "row", "charCodeToReplace", "children", "childrenLength", "innerTxt", "headerLevel", "headerMark", "listItems", "listItemsLenght", "listNum", "bullet", "listItemTxt", "childrenLenght", "spansOnly", "tagName", "tableArray", "headings", "rows", "headContent", "allign", "cols", "cellContent", "cellSpacesCount", "strLen", "root", "module", "require_flowbite_phoenix", "__commonJSMin", "exports", "module", "root", "factory", "enums_top", "bottom", "right", "left", "auto", "basePlacements", "start", "end", "clippingParents", "viewport", "popper", "reference", "variationPlacements", "acc", "placement", "enums_placements", "beforeRead", "read", "afterRead", "beforeMain", "main", "afterMain", "beforeWrite", "write", "afterWrite", "modifierPhases", "getNodeName", "element", "getWindow", "node", "ownerDocument", "isElement", "OwnElement", "isHTMLElement", "isShadowRoot", "applyStyles", "_ref", "state", "name", "style", "attributes", "value", "effect", "_ref2", "initialStyles", "styleProperties", "property", "attribute", "modifiers_applyStyles", "getBasePlacement", "math_max", "math_min", "round", "getUAString", "uaData", "item", "isLayoutViewport", "getBoundingClientRect", "includeScale", "isFixedStrategy", "clientRect", "scaleX", "scaleY", "visualViewport", "addVisualOffsets", "x", "y", "width", "height", "getLayoutRect", "contains", "parent", "child", "rootNode", "next", "getComputedStyle", "isTableElement", "getDocumentElement", "getParentNode", "getTrueOffsetParent", "getContainingBlock", "isFirefox", "isIE", "elementCss", "currentNode", "css", "getOffsetParent", "window", "offsetParent", "getMainAxisFromPlacement", "within", "min", "max", "withinMaxClamp", "v", "getFreshSideObject", "mergePaddingObject", "paddingObject", "expandToHashMap", "keys", "hashMap", "key", "toPaddingObject", "padding", "arrow", "_state$modifiersData$", "options", "arrowElement", "popperOffsets", "basePlacement", "axis", "isVertical", "len", "arrowRect", "minProp", "maxProp", "endDiff", "startDiff", "arrowOffsetParent", "clientSize", "centerToReference", "center", "offset", "axisProp", "arrow_effect", "_options$element", "modifiers_arrow", "getVariation", "unsetSides", "roundOffsetsByDPR", "win", "dpr", "mapToStyles", "_Object$assign2", "popperRect", "variation", "offsets", "position", "gpuAcceleration", "adaptive", "roundOffsets", "isFixed", "_offsets$x", "_offsets$y", "_ref3", "hasX", "hasY", "sideX", "sideY", "heightProp", "widthProp", "offsetY", "offsetX", "commonStyles", "_ref4", "_Object$assign", "computeStyles", "_ref5", "_options$gpuAccelerat", "_options$adaptive", "_options$roundOffsets", "transitionProperty", "modifiers_computeStyles", "passive", "eventListeners_effect", "instance", "_options$scroll", "scroll", "_options$resize", "resize", "scrollParents", "scrollParent", "eventListeners", "hash", "getOppositePlacement", "matched", "getOppositeVariationPlacement_hash", "getOppositeVariationPlacement", "getWindowScroll", "scrollLeft", "scrollTop", "getWindowScrollBarX", "getViewportRect", "strategy", "html", "layoutViewport", "getDocumentRect", "_element$ownerDocumen", "winScroll", "body", "isScrollParent", "_getComputedStyle", "overflow", "overflowX", "overflowY", "getScrollParent", "listScrollParents", "list", "isBody", "target", "updatedList", "rectToClientRect", "rect", "getInnerBoundingClientRect", "getClientRectFromMixedType", "clippingParent", "getClippingParents", "canEscapeClipping", "clipperElement", "getClippingRect", "boundary", "rootBoundary", "mainClippingParents", "firstClippingParent", "clippingRect", "accRect", "computeOffsets", "commonX", "commonY", "mainAxis", "detectOverflow", "_options", "_options$placement", "_options$strategy", "_options$boundary", "_options$rootBoundary", "_options$elementConte", "elementContext", "_options$altBoundary", "altBoundary", "_options$padding", "altContext", "clippingClientRect", "referenceClientRect", "popperClientRect", "elementClientRect", "overflowOffsets", "offsetData", "multiply", "computeAutoPlacement", "flipVariations", "_options$allowedAutoP", "allowedAutoPlacements", "placements", "allowedPlacements", "overflows", "a", "b", "getExpandedFallbackPlacements", "oppositePlacement", "flip", "_options$mainAxis", "checkMainAxis", "_options$altAxis", "checkAltAxis", "specifiedFallbackPlacements", "_options$flipVariatio", "preferredPlacement", "isBasePlacement", "fallbackPlacements", "referenceRect", "checksMap", "makeFallbackChecks", "firstFittingPlacement", "i", "_basePlacement", "isStartVariation", "mainVariationSide", "altVariationSide", "checks", "check", "numberOfChecks", "_loop", "_i", "fittingPlacement", "_ret", "modifiers_flip", "getSideOffsets", "preventedOffsets", "isAnySideFullyClipped", "side", "hide", "referenceOverflow", "popperAltOverflow", "referenceClippingOffsets", "popperEscapeOffsets", "isReferenceHidden", "hasPopperEscaped", "modifiers_hide", "distanceAndSkiddingToXY", "rects", "invertDistance", "skidding", "distance", "_options$offset", "data", "_data$state$placement", "modifiers_offset", "modifiers_popperOffsets", "getAltAxis", "preventOverflow", "_options$tether", "tether", "_options$tetherOffset", "tetherOffset", "altAxis", "tetherOffsetValue", "normalizedTetherOffsetValue", "offsetModifierState", "_offsetModifierState$", "mainSide", "altSide", "additive", "minLen", "maxLen", "arrowPaddingObject", "arrowPaddingMin", "arrowPaddingMax", "arrowLen", "minOffset", "maxOffset", "clientOffset", "offsetModifierValue", "tetherMin", "tetherMax", "preventedOffset", "_offsetModifierState$2", "_mainSide", "_altSide", "_offset", "_len", "_min", "_max", "isOriginSide", "_offsetModifierValue", "_tetherMin", "_tetherMax", "_preventedOffset", "modifiers_preventOverflow", "getHTMLElementScroll", "getNodeScroll", "isElementScaled", "getCompositeRect", "elementOrVirtualElement", "isOffsetParentAnElement", "offsetParentIsScaled", "documentElement", "order", "modifiers", "map", "visited", "result", "modifier", "sort", "requires", "dep", "depModifier", "orderModifiers", "orderedModifiers", "phase", "debounce", "fn", "pending", "resolve", "mergeByName", "merged", "current", "existing", "INVALID_ELEMENT_ERROR", "INFINITE_LOOP_ERROR", "DEFAULT_OPTIONS", "areValidElements", "args", "_key", "popperGenerator", "generatorOptions", "_generatorOptions", "_generatorOptions$def", "defaultModifiers", "_generatorOptions$def2", "defaultOptions", "effectCleanupFns", "isDestroyed", "setOptionsAction", "cleanupModifierEffects", "m", "marginTop", "marginRight", "marginBottom", "marginLeft", "flipModifier", "runModifierEffects", "_state$elements", "__debug_loops__", "index", "_state$orderedModifie", "_state$orderedModifie2", "_ref3$options", "cleanupFn", "noopFn", "createPopper", "popper_createPopper", "popper_lite_defaultModifiers", "popper_lite_createPopper", "_arrayLikeToArray", "r", "e", "n", "_arrayWithHoles", "_arrayWithoutHoles", "_assertThisInitialized", "_callSuper", "t", "o", "_getPrototypeOf", "_possibleConstructorReturn", "_isNativeReflectConstruct", "_classCallCheck", "_defineProperties", "_toPropertyKey", "_createClass", "_get", "p", "_superPropBase", "_inherits", "_setPrototypeOf", "_iterableToArray", "_iterableToArrayLimit", "l", "u", "f", "_nonIterableRest", "_nonIterableSpread", "_slicedToArray", "_unsupportedIterableToArray", "_toConsumableArray", "_toPrimitive", "_typeof", "hasProperty", "obj", "prop", "lastItemOf", "arr", "pushUnique", "items", "stringToArray", "str", "separator", "isInRange", "testVal", "minOK", "maxOK", "limitToRange", "val", "createTagRepeat", "tagName", "repeat", "openTagSrc", "src", "attr", "optimizeTemplateHTML", "stripTime", "timeValue", "today", "dateValue", "newDate", "addDays", "date", "amount", "addWeeks", "addMonths", "monthsToSet", "expectedMonth", "time", "addYears", "dayDiff", "day", "from", "dayOfTheWeekOf", "baseDate", "dayOfWeek", "weekStart", "baseDay", "getWeek", "thuOfTheWeek", "firstThu", "startOfYearPeriod", "years", "year", "reFormatTokens", "reNonDateParts", "knownFormats", "parseFns", "month", "locale", "monthIndex", "monthName", "compareNames", "normalizeMonth", "formatFns", "padZero", "num", "length", "parseFormatString", "format", "separators", "parts", "partFormatters", "token", "partParserKeys", "part", "dateStr", "dateParts", "dtParts", "origDate", "parseDate", "_date", "formatDate", "dateObj", "listenerRegistry", "_EventTarget$prototyp", "addEventListener", "removeEventListener", "registerListeners", "keyObj", "listeners", "registered", "listener", "unregisterListeners", "getComposedPath", "path", "findFromPath", "criteria", "currentTarget", "el", "findElementInEventPath", "ev", "selector", "locales", "range", "parseHTML", "hideElement", "showElement", "emptyChildNodes", "replaceChildNodes", "newChildNodes", "defaultLang", "defaultFormat", "defaultWeekStart", "sanitizeDOW", "dow", "calcEndOfWeek", "startOfWeek", "validateDate", "origValue", "validateViewId", "viewId", "processOptions", "datepicker", "inOpts", "config", "language", "maxDate", "maxView", "minDate", "pickLevel", "startView", "lang", "origLocale", "hasToDisplay", "hasToValue", "validFormatString", "minDt", "maxDt", "dates", "dt", "viewDate", "wkStart", "maxNumberOfDates", "newPickLevel", "newMaxView", "newStartView", "prevArrow", "nextArrow", "orientation", "pickerTemplate", "daysTemplate", "calendarWeeksTemplate", "View", "picker", "_el$classList", "extraClasses", "DaysView", "_View", "onConstruction", "inner", "_this", "updateDOW", "weeksElem", "viewYear", "viewMonth", "firstOfMonth", "_this$picker$datepick", "rangepicker", "_this2", "switchLabel", "classList", "_this2$range", "rangeStart", "rangeEnd", "_this3", "computeMonthRange", "thisYear", "_range", "_range$", "startY", "startM", "_range$2", "endY", "endM", "MonthsView", "ix", "minDateObj", "maxDateObj", "selected", "yrOutOfRange", "isMinYear", "isMaxYear", "_range2", "toTitleCase", "word", "ch", "YearsView", "beforeShow", "first", "last", "triggerDatepickerEvent", "type", "detail", "goToPrevOrNext", "direction", "_datepicker$config", "_datepicker$picker", "currentView", "newViewDate", "switchView", "unfocus", "goToSelectedMonthOrYear", "selection", "onClickTodayBtn", "currentDate", "onClickClearBtn", "onClickViewSwitch", "onClickPrevBtn", "onClickNextBtn", "onClickView", "_datepicker$picker$cu", "id", "isMinView", "onClickPicker", "processPickerOptions", "prevBtn", "nextBtn", "_picker$datepicker$co", "computeResetViewDate", "setViewDate", "oldViewDate", "_picker$currentView", "getTextDirection", "Picker", "template", "_element$firstChild$c", "header", "footer", "title", "_header$lastElementCh", "viewSwitch", "_footer$firstChild$ch", "todayBtn", "clearBtn", "controls", "elementClass", "view", "inputDirection", "_this$element", "_this$datepicker", "inputField", "container", "_this$element$getBoun", "calendarWidth", "calendarHeight", "_container$getBoundin", "containerLeft", "containerTop", "containerWidth", "_inputField$getBoundi", "inputLeft", "inputTop", "inputWidth", "inputHeight", "_config$orientation", "orientX", "orientY", "top", "labelText", "disabled", "oldView", "newView", "quickRender", "renderMethod", "findNextAvailableOne", "addFn", "increase", "testFn", "moveByArrowKey", "vertical", "step", "onKeydown", "onFocus", "onMousedown", "onClickInput", "onPaste", "onClickOutside", "pickerElem", "stringifyDates", "processInputDates", "inputDates", "clear", "origDates", "newDates", "_dt", "refreshUI", "mode", "_setDate", "render", "autohide", "Datepicker", "inline", "initialDates", "datepickers", "inputDateValues", "onMousedownDocument", "newOptions", "callback", "opts", "lastArg", "forceRender", "filterOptions", "newOpts", "setupDatepicker", "changeDateListener", "onChangeDate", "setDateOptions", "changedSide", "otherSide", "changedDate", "otherDate", "DateRangePicker", "inputs", "cleanOptions", "_this$datepickers", "datepicker0", "datepicker1", "instances_1", "__webpack_require__", "Default", "DefaultInstanceOptions", "Accordion", "accordionEl", "instanceOptions", "__assign", "clickHandler", "_a", "_b", "initAccordions", "$accordionEl", "alwaysOpen", "activeClasses", "inactiveClasses", "$triggerEl", "Carousel", "carouselEl", "indicator", "nextItem", "rotationItems", "activeItem", "prevItem", "initCarousels", "$carouselEl", "interval", "slide", "defaultPosition", "$carouselItemEl", "indicators", "$indicatorEl", "carousel", "carouselNextEl", "carouselPrevEl", "CopyClipboard", "triggerEl", "targetEl", "textToCopy", "tempTextArea", "textarea", "initCopyClipboards", "targetId", "$targetEl", "contentType", "htmlEntities", "Collapse", "initCollapses", "flowbite_datepicker_1", "datepickerEl", "datepickerOptions", "initDatepickers", "$datepickerEl", "buttons", "autoselectToday", "rangePicker", "Dial", "parentEl", "triggerEventTypes", "triggerType", "initDials", "$parentEl", "dialId", "$dialEl", "Dismiss", "initDismisses", "$dismissEl", "Drawer", "c", "event", "backdropEl", "handler", "eventListenerInstance", "initDrawers", "drawerId", "$drawerEl", "bodyScrolling", "backdrop", "edge", "edgeOffset", "drawer_1", "toggleDrawer", "drawer_2", "hideDrawer", "drawer_3", "showDrawer", "core_1", "Dropdown", "targetElement", "triggerElement", "triggerEvents", "clickedEl", "ignoreClickOutsideClass", "isIgnored", "ignoredClickOutsideEls", "__spreadArray", "initDropdowns", "dropdownId", "$dropdownEl", "offsetSkidding", "offsetDistance", "delay", "accordion_1", "carousel_1", "clipboard_1", "collapse_1", "dial_1", "dismiss_1", "dropdown_1", "input_counter_1", "modal_1", "popover_1", "tabs_1", "tooltip_1", "datepicker_1", "initFlowbite", "InputCounter", "incrementEl", "decrementEl", "initInputCounters", "$incrementEl", "$decrementEl", "minValue", "maxValue", "Modal", "initModals", "modalId", "$modalEl", "toggleModal", "modal_2", "showModal", "modal_3", "hideModal", "Popover", "initPopovers", "popoverID", "$popoverEl", "Tabs", "tabsEl", "tab", "forceShow", "initTabs", "tabItems", "defaultTabId", "isActive", "Tooltip", "initTooltips", "tooltipId", "$tooltipEl", "Events", "eventType", "eventFunctions", "eventFunction", "Instances", "component", "override", "instances", "__webpack_module_cache__", "moduleId", "cachedModule", "__webpack_modules__", "definition", "events_1", "liveViewLoadEvents", "regularViewLoadEvents", "PolyfillEvent", "eventConstructor", "CustomEvent", "event", "params", "evt", "buildHiddenInput", "name", "value", "input", "handleClick", "element", "targetModifierKey", "to", "method", "csrf", "form", "submit", "target", "e", "phoenixLinkEvent", "message", "closure", "value", "globalSelf", "phxWindow", "global", "DEFAULT_VSN", "SOCKET_STATES", "DEFAULT_TIMEOUT", "WS_CLOSE_NORMAL", "CHANNEL_STATES", "CHANNEL_EVENTS", "TRANSPORTS", "XHR_STATES", "Push", "channel", "event", "payload", "timeout", "status", "callback", "response", "_ref", "h", "Timer", "timerCalc", "Channel", "topic", "params", "socket", "pushEvent", "reason", "ref", "bind", "onClose", "leavePush", "_event", "joinRef", "handledPayload", "eventBindings", "i", "Ajax", "method", "endPoint", "accept", "body", "ontimeout", "req", "resp", "obj", "parentKey", "queryStr", "key", "paramKey", "paramVal", "url", "prefix", "arrayBufferToBase64", "buffer", "binary", "bytes", "len", "LongPoll", "code", "wasClean", "token", "messages", "msg", "opts", "contentType", "onCallerTimeout", "serializer_default", "msg", "callback", "payload", "rawPayload", "join_ref", "ref", "topic", "event", "message", "metaLength", "header", "view", "offset", "char", "combined", "buffer", "kind", "decoder", "joinRefSize", "topicSize", "eventSize", "joinRef", "data", "refSize", "CHANNEL_EVENTS", "Socket", "endPoint", "opts", "DEFAULT_TIMEOUT", "global", "LongPoll", "awaitingConnectionOnPageShow", "phxWindow", "_e", "tries", "closure", "TRANSPORTS", "DEFAULT_VSN", "Timer", "newTransport", "uri", "Ajax", "code", "reason", "params", "startTime", "onMsgRef", "error", "key", "val", "fallbackTransport", "fallbackThreshold", "established", "primaryTransport", "openRef", "errorRef", "fallback", "rtt", "WS_CLOSE_NORMAL", "SOCKET_STATES", "closeCode", "transportBefore", "establishedBefore", "channel", "c", "refs", "chanParams", "chan", "Channel", "result", "newRef", "rawMessage", "i", "dupChannel", "CONSECUTIVE_RELOADS", "MAX_RELOADS", "RELOAD_JITTER_MIN", "RELOAD_JITTER_MAX", "FAILSAFE_JITTER", "PHX_EVENT_CLASSES", "PHX_COMPONENT", "PHX_LIVE_LINK", "PHX_TRACK_STATIC", "PHX_LINK_STATE", "PHX_REF_LOADING", "PHX_REF_SRC", "PHX_REF_LOCK", "PHX_TRACK_UPLOADS", "PHX_UPLOAD_REF", "PHX_PREFLIGHTED_REFS", "PHX_DONE_REFS", "PHX_DROP_TARGET", "PHX_ACTIVE_ENTRY_REFS", "PHX_LIVE_FILE_UPDATED", "PHX_SKIP", "PHX_MAGIC_ID", "PHX_PRUNE", "PHX_CONNECTED_CLASS", "PHX_LOADING_CLASS", "PHX_ERROR_CLASS", "PHX_CLIENT_ERROR_CLASS", "PHX_SERVER_ERROR_CLASS", "PHX_PARENT_ID", "PHX_MAIN", "PHX_ROOT_ID", "PHX_VIEWPORT_TOP", "PHX_VIEWPORT_BOTTOM", "PHX_TRIGGER_ACTION", "PHX_HAS_FOCUSED", "FOCUSABLE_INPUTS", "CHECKABLE_INPUTS", "PHX_HAS_SUBMITTED", "PHX_SESSION", "PHX_VIEW_SELECTOR", "PHX_STICKY", "PHX_STATIC", "PHX_READONLY", "PHX_DISABLED", "PHX_DISABLE_WITH", "PHX_DISABLE_WITH_RESTORE", "PHX_HOOK", "PHX_DEBOUNCE", "PHX_THROTTLE", "PHX_UPDATE", "PHX_STREAM", "PHX_STREAM_REF", "PHX_KEY", "PHX_PRIVATE", "PHX_AUTO_RECOVER", "PHX_LV_DEBUG", "PHX_LV_PROFILE", "PHX_LV_LATENCY_SIM", "PHX_LV_HISTORY_POSITION", "PHX_PROGRESS", "PHX_MOUNTED", "PHX_RELOAD_STATUS", "LOADER_TIMEOUT", "MAX_CHILD_JOIN_ATTEMPTS", "BEFORE_UNLOAD_LOADER_TIMEOUT", "BINDING_PREFIX", "PUSH_TIMEOUT", "DEBOUNCE_TRIGGER", "THROTTLED", "DEBOUNCE_PREV_KEY", "DEFAULTS", "PHX_PENDING_ATTRS", "DYNAMICS", "STATIC", "ROOT", "COMPONENTS", "EVENTS", "REPLY", "TITLE", "TEMPLATES", "STREAM", "EntryUploader", "entry", "config", "liveSocket", "chunk_size", "chunk_timeout", "reason", "_data", "reader", "blob", "e", "logError", "chunk", "msg", "obj", "isCid", "cid", "type", "detectDuplicateIds", "ids", "elems", "i", "len", "debug", "view", "kind", "closure", "val", "clone", "closestPhxBinding", "el", "binding", "borderEl", "isObject", "isEqualObj", "obj1", "obj2", "isEmpty", "x", "maybe", "callback", "channelUploader", "entries", "onError", "resp", "Browser", "localStorage", "namespace", "subkey", "initial", "func", "current", "key", "newVal", "meta", "to", "currentState", "hashEl", "name", "value", "maxAgeSeconds", "expires", "toURL", "flash", "maybeHash", "hash", "browser_default", "DOM", "id", "className", "node", "query", "array", "html", "template", "inputEl", "formId", "inputsOutsideForm", "wantsNewTab", "isDownload", "isTargetBlank", "isTargetNamedTab", "currentLocation", "href", "url", "parentId", "phxUpdate", "updateTypes", "cids", "parentCids", "childrenCids", "parent", "childCID", "childCid", "nodes", "defaultVal", "updateFunc", "existing", "fromEl", "toEl", "attr", "target", "source", "str", "titleEl", "prefix", "suffix", "defaultTitle", "inner", "event", "phxDebounce", "defaultDebounce", "phxThrottle", "defaultThrottle", "asyncFilter", "debounce", "throttle", "timeout", "trigger", "currentCycle", "newKeyDown", "prevKey", "t", "form", "input", "cycle", "phxViewportTop", "phxViewportBottom", "hook", "parents", "opts", "defaultBubble", "eventOpts", "cloned", "exclude", "isIgnored", "sourceAttrs", "sourceValue", "targetAttrs", "focused", "selectionStart", "selectionEnd", "phxTriggerExternal", "container", "toRemove", "childNode", "tagName", "attrs", "retainedAttrs", "newContainer", "op", "existingName", "_name", "_op", "stashedResult", "ops", "_", "existingIndex", "_stashed", "dom_default", "UploadEntry", "fileEl", "file", "isNew", "isActive", "LiveUploader", "autoUpload", "progress", "uploaders", "liveUploaderFileRef", "_LiveUploader", "ref", "formEl", "active", "files", "fileData", "uploadRef", "f", "dataTransfer", "newFiles", "fileInputs", "onComplete", "groupedEntries", "acc", "ARIA", "instance", "classes", "interactiveOnly", "child", "aria_default", "Hooks", "newPreflights", "findScrollContainer", "scrollTop", "scrollContainer", "bottom", "top", "isAtViewportTop", "rect", "isAtViewportBottom", "isWithinViewport", "scrollBefore", "topOverran", "throttleInterval", "pendingOp", "onTopOverrun", "topEvent", "firstChild", "onFirstChildAtTop", "onLastChildAtBottom", "bottomEvent", "lastChild", "_e", "scrollNow", "isScrollingUp", "isScrollingDown", "interval", "lastCallAt", "timer", "args", "now", "remainingTime", "hooks_default", "ElementRef", "phxEvent", "eachCloneCallback", "clonedTree", "disabledVal", "readOnlyVal", "disableRestore", "DOMPostMorphRestorer", "containerBefore", "containerAfter", "updateType", "idsBefore", "idsAfter", "elementsToModify", "previousElementId", "elementToModify", "previousElem", "elem", "elemId", "DOCUMENT_FRAGMENT_NODE", "morphAttrs", "fromNode", "toNode", "toNodeAttrs", "attrName", "attrNamespaceURI", "attrValue", "fromValue", "fromNodeAttrs", "d", "range", "NS_XHTML", "doc", "HAS_TEMPLATE_SUPPORT", "HAS_RANGE_SUPPORT", "createFragmentFromTemplate", "createFragmentFromRange", "fragment", "createFragmentFromWrap", "toElement", "compareNodeNames", "fromNodeName", "toNodeName", "fromCodeStart", "toCodeStart", "createElementNS", "namespaceURI", "moveChildren", "curChild", "nextChild", "syncBooleanAttrProp", "specialElHandlers", "parentNode", "parentName", "newValue", "oldValue", "selectedIndex", "optgroup", "nodeName", "ELEMENT_NODE", "DOCUMENT_FRAGMENT_NODE$1", "TEXT_NODE", "COMMENT_NODE", "noop", "defaultGetNodeKey", "morphdomFactory", "options", "toNodeHtml", "getNodeKey", "onBeforeNodeAdded", "onNodeAdded", "onBeforeElUpdated", "onElUpdated", "onBeforeNodeDiscarded", "onNodeDiscarded", "onBeforeElChildrenUpdated", "skipFromChildren", "addChild", "childrenOnly", "fromNodesLookup", "keyedRemovalList", "addKeyedRemoval", "walkDiscardedChildNodes", "skipKeyedNodes", "removeNode", "indexTree", "handleNodeAdded", "nextSibling", "unmatchedFromEl", "morphEl", "cleanupFromEl", "curFromNodeChild", "curFromNodeKey", "fromNextSibling", "toElKey", "beforeUpdateResult", "morphChildren", "skipFrom", "curToNodeChild", "curToNodeKey", "toNextSibling", "matchingFromEl", "outer", "curFromNodeType", "isCompatible", "onBeforeNodeAddedResult", "specialElHandler", "morphedNode", "morphedNodeType", "toNodeType", "elToRemove", "morphdom", "morphdom_esm_default", "DOMPatch", "externalFormTriggered", "streams", "targetCID", "isJoinPatch", "targetContainer", "added", "updates", "appendPrependUpdates", "morph", "withChildren", "morphCallbacks", "from", "streamAt", "nonStreamChild", "c", "sibling", "morphedEl", "fromVal", "toVal", "isFocusedFormEl", "focusedSelectChanged", "prevSession", "inserts", "deleteIds", "reset", "limit", "update", "children", "oldIndex", "pendingRemoves", "first", "rest", "VOID_TAGS", "quoteChars", "modifyRoot", "clearInnerHTML", "insideComment", "beforeTag", "afterTag", "tag", "tagNameEndsAt", "newHTML", "lookahead", "isId", "char", "attrStartsAt", "closeAt", "attrsStr", "idAttrStr", "Rendered", "diff", "reply", "events", "title", "viewId", "rendered", "onlyCids", "components", "changeTracking", "rootAttrs", "output", "newc", "cache", "oldc", "cdiff", "ndiff", "stat", "scid", "tdiff", "targetVal", "pruneMagicId", "merged", "strippedHTML", "_before", "_after", "part", "templates", "statics", "isRoot", "prevBuffer", "skip", "newRoot", "commentBefore", "commentAfter", "dynamics", "stream", "_ref", "_inserts", "compTemplates", "dynamic", "component", "focusStack", "default_transition_time", "JS", "eventType", "sourceEl", "defaults", "defaultKind", "defaultArgs", "windowHeight", "windowWidth", "encodedJS", "detail", "bubbles", "data", "page_loading", "loading", "dispatcher", "pushOpts", "targetSrc", "phxTarget", "handler", "targetView", "targetCtx", "newCid", "_target", "submitter", "replace", "_eventType", "_phxEvent", "_view", "_sourceEl", "_el", "names", "transition", "time", "blocking", "val1", "val2", "display", "ins", "outs", "inClasses", "inStartClasses", "inEndClasses", "outClasses", "outStartClasses", "outEndClasses", "onStart", "onEnd", "currentEl", "stickyDisplay", "prevAdds", "prevRemoves", "newAdds", "newRemoves", "adds", "removes", "transitionRun", "transitionStart", "transitionEnd", "onDone", "keepAdds", "keepRemoves", "sets", "prevSets", "alteredAttrs", "_val", "newSets", "defaultQuery", "trans", "tStart", "tEnd", "js_default", "HOOK_ID", "viewHookID", "ViewHook", "callbacks", "owner", "payload", "onReply", "resolve", "reject", "error", "callbackRef", "customEvent", "bypass", "prependFormDataKey", "isArray", "baseKey", "serializeForm", "metadata", "onlyNames", "injectedElement", "formData", "_index", "params", "elements", "inputs", "isUnused", "hidden", "metaKey", "View", "_View", "liveViewEl", "parentView", "liveReferer", "manifest", "onFinished", "msgCallback", "dom", "viewEl", "targets", "rawDiff", "liveview_version", "live_patch", "phxStatic", "hookEl", "patch", "phxMounted", "hasBeenInvoked", "newHook", "pruneCids", "removedEls", "phxChildrenAdded", "updatedHookIds", "els", "destroyedCIDs", "hooks", "phxChange", "oldForms", "rootEl", "formsToRecover", "newForm", "oldForm", "childId", "_child", "parentCID", "hookElId", "hookName", "cb", "redir", "reloadToken", "trueChildEl", "callerPush", "receives", "latency", "withLatency", "refGenerator", "oldJoinCount", "onLoadingDone", "finish", "hookReply", "onlyEls", "selector", "newRef", "disableWith", "loadingEls", "lock", "lockCompletePromise", "loadingCompletePromise", "disableText", "lockEl", "cidOrSelector", "_resp", "entryRef", "forceCid", "uploads", "_els", "_uploads", "awaitingSubmit", "_opts", "_callback", "filterIgnored", "filterDisables", "filterButton", "filterInput", "formElements", "disables", "buttons", "button", "formEls", "push", "proxyRefGen", "joinCountAtUpload", "inputEls", "numFileInputsInProgress", "uploader", "entry_ref", "filesOrBlobs", "targetElement", "templateDom", "pending", "targetEl", "linkRef", "refGen", "fallback", "_error", "_timeout", "willDestroyCIDs", "completelyDestroyCIDs", "parentViewEl", "LiveSocket", "url", "phxSocket", "opts", "BINDING_PREFIX", "closure", "clone", "DEFAULTS", "LOADER_TIMEOUT", "MAX_RELOADS", "RELOAD_JITTER_MIN", "RELOAD_JITTER_MAX", "FAILSAFE_JITTER", "TransitionSet", "PHX_LV_HISTORY_POSITION", "_e", "PHX_LV_PROFILE", "PHX_LV_DEBUG", "upperBoundMs", "PHX_LV_LATENCY_SIM", "str", "doConnect", "callback", "transport", "el", "encodedJS", "eventType", "e", "view", "js_default", "phxEvent", "data", "kind", "args", "name", "func", "result", "msgCallback", "msg", "obj", "debug", "time", "onStart", "onDone", "channel", "event", "cb", "latency", "log", "minMs", "maxMs", "afterMs", "tries", "browser_default", "CONSECUTIVE_RELOADS", "count", "hooks_default", "topic", "params", "body", "rootsFound", "dom_default", "PHX_VIEW_SELECTOR", "PHX_PARENT_ID", "rootEl", "PHX_MAIN", "to", "flash", "reloadToken", "PHX_RELOAD_STATUS", "href", "linkRef", "liveReferer", "removeEls", "newMainEl", "joinCount", "elements", "skipSticky", "removeAttr", "stickies", "silenceEvents", "PHX_SESSION", "View", "childEl", "maybe", "rootId", "PHX_ROOT_ID", "root", "id", "dead", "type", "targetEl", "_phxTarget", "matchKey", "PHX_KEY", "pressedKey", "phxTarget", "dropTargetId", "closestPhxBinding", "PHX_DROP_TARGET", "trueTarget", "dropTarget", "files", "LiveUploader", "PHX_TRACK_UPLOADS", "uploadTarget", "f", "eventName", "events", "browserEventName", "binding", "windowBinding", "targetPhxEvent", "bindingName", "click", "target", "clickStartedAtTarget", "PHX_REF_SRC", "clickStartedAt", "phxClickAway", "scrollTimer", "state", "backType", "scroll", "position", "isForward", "PHX_LIVE_LINK", "linkState", "PHX_LINK_STATE", "phxClick", "payload", "info", "done", "protocol", "host", "newLocation", "pathname", "search", "iterations", "externalFormSubmitted", "phxSubmit", "phxChange", "input", "key", "inputEvent", "formEvent", "dispatcher", "currentIterations", "at", "lastType", "PHX_HAS_FOCUSED", "form", "phxDebounce", "PHX_DEBOUNCE", "phxThrottle", "PHX_THROTTLE", "defaultDebounce", "defaultThrottle", "asyncFilter", "sourceEl", "query", "defaultQuery", "all", "timer", "op", "import_topbar", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread2", "target", "i", "source", "key", "_defineProperty", "_typeof", "obj", "value", "_extends", "_objectWithoutPropertiesLoose", "excluded", "sourceKeys", "_objectWithoutProperties", "sourceSymbolKeys", "version", "userAgent", "pattern", "IE11OrLess", "Edge", "FireFox", "Safari", "IOS", "ChromeForAndroid", "captureMode", "on", "el", "event", "fn", "off", "matches", "selector", "getParentOrHost", "closest", "ctx", "includeCTX", "R_SPACE", "toggleClass", "name", "state", "className", "css", "prop", "val", "style", "matrix", "selfOnly", "appliedTransforms", "transform", "matrixFn", "find", "tagName", "iterator", "list", "i", "n", "getWindowScrollingElement", "scrollingElement", "getRect", "relativeToContainingBlock", "relativeToNonStaticParent", "undoScale", "container", "elRect", "top", "left", "bottom", "right", "height", "width", "containerRect", "elMatrix", "scaleX", "scaleY", "isScrolledPast", "elSide", "parentSide", "parent", "getParentAutoScrollElement", "elSideVal", "parentSideVal", "visible", "getChild", "childNum", "options", "includeDragEl", "currentChild", "children", "Sortable", "lastChild", "last", "index", "getRelativeScrollOffset", "offsetLeft", "offsetTop", "winScroller", "indexOfObject", "arr", "obj", "key", "includeSelf", "elem", "gotSelf", "elemCSS", "extend", "dst", "src", "isRectEqual", "rect1", "rect2", "_throttleTimeout", "throttle", "callback", "ms", "args", "_this", "cancelThrottle", "scrollBy", "x", "y", "clone", "Polymer", "$", "getChildContainingRectFromElement", "container", "options", "ghostEl", "rect", "child", "_rect$left", "_rect$top", "_rect$right", "_rect$bottom", "closest", "childRect", "getRect", "expando", "AnimationStateManager", "animationStates", "animationCallbackId", "children", "css", "Sortable", "fromRect", "_objectSpread2", "childMatrix", "matrix", "state", "target", "indexOfObject", "callback", "_this", "animating", "animationTime", "time", "toRect", "prevFromRect", "prevToRect", "animatingRect", "targetMatrix", "isRectEqual", "calculateRealTime", "currentRect", "duration", "elMatrix", "scaleX", "scaleY", "translateX", "translateY", "repaint", "plugins", "defaults", "PluginManager", "plugin", "option", "p", "eventName", "sortable", "evt", "eventNameGlobal", "el", "pluginName", "initialized", "_extends", "modified", "name", "eventProperties", "value", "modifiedValue", "dispatchEvent", "_ref", "rootEl", "targetEl", "cloneEl", "toEl", "fromEl", "oldIndex", "newIndex", "oldDraggableIndex", "newDraggableIndex", "originalEvent", "putSortable", "extraEventProperties", "onName", "IE11OrLess", "Edge", "allEventProperties", "_excluded", "pluginEvent", "data", "_objectWithoutProperties", "dragEl", "parentEl", "nextEl", "lastDownEl", "cloneHidden", "moved", "_hideGhostForTarget", "_unhideGhostForTarget", "_dispatchEvent", "info", "activeGroup", "awaitingDragStarted", "ignoreNextClick", "sortables", "tapEvt", "touchEvt", "lastDx", "lastDy", "tapDistanceLeft", "tapDistanceTop", "lastTarget", "lastDirection", "pastFirstInvertThresh", "isCircumstantialInvert", "targetMoveDistance", "ghostRelativeParent", "ghostRelativeParentInitialScroll", "_silent", "savedInputChecked", "documentExists", "PositionGhostAbsolutely", "IOS", "CSSFloatProperty", "supportDraggable", "ChromeForAndroid", "supportCssPointerEvents", "_detectDirection", "elCSS", "elWidth", "child1", "getChild", "child2", "firstChildCSS", "secondChildCSS", "firstChildWidth", "secondChildWidth", "touchingSideChild2", "_dragElInRowColumn", "dragRect", "targetRect", "vertical", "dragElS1Opp", "dragElS2Opp", "dragElOppLength", "targetS1Opp", "targetS2Opp", "targetOppLength", "_detectNearestEmptySortable", "x", "y", "ret", "threshold", "lastChild", "insideHorizontally", "insideVertically", "_prepareGroup", "toFn", "pull", "to", "from", "sameGroup", "otherGroup", "group", "originalGroup", "_typeof", "nearestEmptyInsertDetectEvent", "nearest", "event", "i", "_checkOutsideTargetEl", "dataTransfer", "Safari", "fn", "on", "preventOnFilter", "type", "touch", "originalTarget", "filter", "_saveInputCheckedState", "index", "criteria", "ownerDocument", "dragStartFn", "FireFox", "toggleClass", "find", "_disableDraggable", "off", "_nextTick", "fallback", "parent", "inserted", "getParentOrHost", "fallbackTolerance", "fallbackOffset", "ghostMatrix", "relativeScrollOffset", "getRelativeScrollOffset", "dx", "dy", "cssMatrix", "getWindowScrollingElement", "clone", "revert", "activeSortable", "isOwner", "canSort", "fromSortable", "completedFired", "dragOverEvent", "extra", "completed", "after", "_onMove", "changed", "capture", "insertion", "elLastChild", "_ghostIsLast", "_ghostIsFirst", "firstChild", "direction", "targetBeforeFirstSwap", "differentLevel", "differentRowCol", "side1", "scrolledPastTop", "isScrolledPast", "scrollBefore", "_getSwapDirection", "sibling", "dragIndex", "nextSibling", "moveVector", "_unsilent", "scrollBy", "_cancelNextTick", "_globalDragOver", "order", "n", "_generateId", "useAnimation", "items", "id", "store", "selector", "willInsertAfter", "onMoveFn", "retVal", "firstElRect", "childContainingRect", "spacer", "lastElRect", "swapThreshold", "invertedSwapThreshold", "invertSwap", "isLastTarget", "mouseOnAxis", "targetLength", "targetS1", "targetS2", "invert", "_getInsertDirection", "str", "sum", "root", "inputs", "idx", "extend", "throttle", "element", "_len", "_key", "version", "autoScrolls", "scrollEl", "scrollRootEl", "scrolling", "lastAutoScrollX", "lastAutoScrollY", "touchEvt$1", "pointerElemChangedInterval", "AutoScrollPlugin", "AutoScroll", "_ref2", "clearPointerElemChangedInterval", "clearAutoScrolls", "cancelThrottle", "elem", "autoScroll", "ogElemScroller", "getParentAutoScrollElement", "newElem", "isFallback", "sens", "speed", "winScroller", "scrollThisInstance", "scrollCustomFn", "layersOut", "currentParent", "top", "bottom", "left", "right", "width", "height", "canScrollX", "canScrollY", "scrollWidth", "scrollHeight", "scrollPosX", "scrollPosY", "vx", "vy", "scrollOffsetY", "scrollOffsetX", "drop", "dispatchSortableEvent", "hideGhostForTarget", "unhideGhostForTarget", "toSortable", "Revert", "_ref3", "Remove", "_ref4", "parentSortable", "Sortable", "AutoScrollPlugin", "Remove", "Revert", "sortable_esm_default", "sortable_default", "sortable", "sortable_esm_default", "evt", "import_showdown", "extend", "destination", "i", "source", "key", "repeat", "character", "count", "trimLeadingNewlines", "string", "trimTrailingNewlines", "indexEnd", "blockElements", "isBlock", "node", "is", "voidElements", "isVoid", "hasVoid", "has", "meaningfulWhenBlankElements", "isMeaningfulWhenBlank", "hasMeaningfulWhenBlank", "tagNames", "tagName", "rules", "content", "options", "hLevel", "underline", "parent", "prefix", "start", "index", "className", "language", "code", "fenceChar", "fenceSize", "fenceInCodeRegex", "match", "fence", "href", "title", "cleanAttribute", "replacement", "reference", "id", "references", "hasSiblings", "isCodeBlock", "extraSpace", "delimiter", "matches", "alt", "src", "titlePart", "attribute", "Rules", "rule", "filter", "findRule", "fn", "filterValue", "collapseWhitespace", "element", "isPre", "prevText", "keepLeadingWs", "prev", "next", "text", "remove", "nextNode", "current", "root", "canParseHTMLNatively", "Parser", "canParse", "createHTMLParser", "shouldUseActiveX", "doc", "useActiveX", "HTMLParser", "RootNode", "input", "htmlParser", "isPreOrCode", "_htmlParser", "Node", "isBlank", "flankingWhitespace", "edges", "edgeWhitespace", "isFlankedByWhitespace", "m", "side", "sibling", "regExp", "isFlanked", "reduce", "escapes", "TurndownService", "defaults", "canConvert", "output", "process", "postProcess", "plugin", "accumulator", "escape", "parentNode", "self", "replacementForNode", "join", "whitespace", "s1", "s2", "nls", "separator", "turndown_browser_es_default", "attachmentSelector", "attachments", "preview", "presentation", "caption", "name", "size", "file", "attributes", "default", "tagName", "parse", "quote", "nestable", "heading1", "terminal", "breakOnReturn", "group", "code", "htmlAttributes", "text", "plaintext", "bulletList", "bullet", "listAttribute", "test", "element", "parentNode", "this", "numberList", "number", "attachmentGallery", "exclusive", "_element$tagName", "toLowerCase", "androidVersionMatch", "navigator", "userAgent", "match", "androidVersion", "parseInt", "browser$1", "composesExistingText", "recentAndroid", "samsungAndroid", "forcesObjectResizing", "supportsInputEvents", "InputEvent", "every", "prop", "prototype", "dompurify", "ADD_ATTR", "SAFE_FOR_XML", "RETURN_DOM", "lang$1", "attachFiles", "bold", "bullets", "byte", "bytes", "captionPlaceholder", "indent", "italic", "link", "numbers", "outdent", "redo", "remove", "strike", "undo", "unlink", "url", "urlPlaceholder", "GB", "KB", "MB", "PB", "TB", "sizes", "lang", "file_size_formatting", "prefix", "precision", "formatter", "concat", "base", "exp", "Math", "floor", "log", "withoutInsignificantZeros", "pow", "toFixed", "replace", "ZERO_WIDTH_SPACE", "NON_BREAKING_SPACE", "extend", "properties", "key", "value", "html", "document", "documentElement", "matches", "handleEvent", "eventName", "onElement", "matchingSelector", "withCallback", "inPhase", "preventDefault", "times", "arguments", "length", "undefined", "selector", "useCapture", "handler", "event", "destroy", "target", "findClosestElementFromNode", "call", "removeEventListener", "addEventListener", "triggerEvent", "bubbles", "cancelable", "createEvent", "initEvent", "dispatchEvent", "elementMatchesSelector", "nodeType", "node", "untilNode", "Node", "ELEMENT_NODE", "closest", "innerElementIsActive", "activeElement", "elementContainsNode", "findChildIndexOfNode", "_node", "childIndex", "previousSibling", "removeNode", "_node$parentNode", "removeChild", "walkTree", "tree", "onlyNodesOfType", "usingFilter", "expandEntityReferences", "whatToShow", "NodeFilter", "SHOW_ELEMENT", "SHOW_TEXT", "SHOW_COMMENT", "SHOW_ALL", "createTreeWalker", "makeElement", "tag", "options", "createElement", "editable", "contenteditable", "setAttribute", "style", "data", "dataset", "className", "split", "forEach", "classList", "add", "textContent", "childNodes", "childNode", "appendChild", "blockTagNames", "getBlockTagNames", "blockAttributes", "push", "nodeIsBlockContainer", "nodeIsBlockStartComment", "firstChild", "nodeIsBlockStart", "strict", "includes", "nodeIsCommentNode", "COMMENT_NODE", "nodeIsCursorTarget", "nodeIsTextNode", "trixCursorTarget", "nodeIsAttachmentElement", "nodeIsEmptyTextNode", "TEXT_NODE", "input", "level2Enabled", "getLevel", "browser", "pickFiles", "callback", "type", "multiple", "hidden", "id", "fileInputId", "files", "getElementById", "body", "click", "parser", "removeBlankTableCells", "tableCellSeparator", "tableRowSeparator", "text_attributes", "inheritable", "window", "getComputedStyle", "fontWeight", "fontStyle", "href", "groupTagName", "getAttribute", "frozen", "backgroundColor", "toolbar", "getDefaultHTML", "interval", "z", "i", "n", "a", "attachment", "attachmentCaption", "attachmentCaptionEditor", "attachmentMetadata", "attachmentMetadataContainer", "attachmentName", "attachmentProgress", "attachmentSize", "attachmentToolbar", "l", "h", "_", "c", "j", "W", "U", "V", "BasicObject", "expression", "toMethod", "toProperty", "optional", "parseProxyMethodExpression", "subject", "object", "_this$toMethod", "_object", "apply", "proxyMethodExpressionPattern", "Error", "args", "Function", "RegExp", "G", "Y", "$", "UTF16String", "box", "fromUCS2String", "toString", "ucs2String", "ucs2decode", "codepoints", "ucs2encode", "constructor", "super", "ucs2Length", "offsetToUCS2Offset", "offset", "slice", "max", "offsetFromUCS2Offset", "ucs2Offset", "fromCodepoints", "charAt", "isEqualTo", "toJSON", "getCacheKey", "hasArrayFrom", "_Array$from", "Array", "from", "hasStringCodePointAt", "_$codePointAt", "codePointAt", "hasStringFromCodePoint", "_String$fromCodePoint", "String", "fromCodePoint", "string", "map", "char", "output", "counter", "charCodeAt", "extra", "array", "result", "fromCharCode", "join", "TrixObject", "jsonString", "fromJSON", "JSON", "hasSameConstructorAs", "inspect", "parts", "contents", "contentsForInspection", "toJSONString", "stringify", "toUTF16String", "arraysAreEqual", "b", "index", "spliceArray", "_len", "_key", "splice", "RTL_PATTERN", "getDirection", "dir", "dirName", "textArea", "form", "supportsDirName", "FormData", "has", "supportsDirSelector", "get", "trim", "allAttributeNames", "blockAttributeNames", "textAttributeNames", "listAttributeNames", "getAllAttributeNames", "getTextAttributeNames", "getBlockAttributeNames", "getBlockConfig", "attributeName", "config", "Object", "keys", "getTextConfig", "installDefaultCSSForTagName", "defaultCSS", "insertStyleElementForTagName", "nonce", "getCSPNonce", "head", "insertBefore", "getMetaElement", "content", "querySelector", "testTransferData", "dataTransferIsPlainText", "dataTransfer", "getData", "DOMParser", "parseFromString", "keyEventIsKeyboardCommand", "platform", "metaKey", "ctrlKey", "defer", "fn", "setTimeout", "copyObject", "objectsAreEqual", "normalizeRange", "range", "isArray", "copyValue", "rangeIsCollapsed", "start", "end", "rangeValuesAreEqual", "rangesAreEqual", "leftRange", "rightRange", "leftStart", "leftEnd", "rightStart", "rightEnd", "left", "right", "SelectionChangeObserver", "update", "bind", "selectionManagers", "started", "stop", "registerSelectionManager", "selectionManager", "unregisterSelectionManager", "filter", "sm", "notifySelectionManagersOfSelectionChange", "selectionDidChange", "reset", "selectionChangeObserver", "getDOMSelection", "selection", "getSelection", "rangeCount", "getDOMRange", "_getDOMSelection", "domRange", "getRangeAt", "domRangeIsPrivate", "setDOMRange", "removeAllRanges", "addRange", "nodeIsPrivate", "startContainer", "endContainer", "getPrototypeOf", "normalizeSpaces", "breakableWhitespacePattern", "squishBreakableWhitespace", "source", "utf16StringDifferences", "diffA", "utf16StringDifference", "utf16String", "diffB", "leftIndex", "rightIndexA", "rightIndexB", "Hash", "fromCommonAttributesOfObjects", "objects", "hash", "getKeys", "getKeysCommonToHash", "values", "copy", "merge", "unbox", "toArray", "isEmpty", "toObject", "keyToRemove", "sort", "ObjectGroup", "groupObjects", "ungroupedObjects", "depth", "asTree", "_object$canBeGrouped2", "_object$canBeGrouped", "_group$canBeGroupedWi", "_group", "canBeGrouped", "canBeGroupedWith", "getObjects", "getDepth", "ObjectMap", "find", "ElementStore", "elements", "getKey", "trixStoreKey", "Operation", "isPerforming", "performing", "hasPerformed", "performed", "hasSucceeded", "succeeded", "hasFailed", "getPromise", "promise", "Promise", "resolve", "reject", "perform", "release", "_this$promise", "_this$promise$cancel", "cancel", "proxyMethod", "ObjectView", "childViews", "rootView", "getNodes", "nodes", "createNodes", "cloneNode", "invalidate", "_this$parentView", "parentView", "invalidateViewForObject", "_this$findViewForObje", "findViewForObject", "findOrCreateCachedChildView", "viewClass", "view", "getCachedViewForObject", "recordChildView", "createChildView", "cacheViewForObject", "ObjectGroupView", "getAllChildViews", "views", "childView", "findElement", "findElementForObject", "getViewCache", "isViewCachingEnabled", "viewCache", "shouldCacheViews", "enableViewCaching", "disableViewCaching", "_this$getViewCache", "cache", "garbageCollectCachedViews", "objectKeys", "objectGroup", "getChildViews", "createContainerElement", "DOMPurify", "addHook", "attrName", "forceKeepAttr", "DEFAULT_ALLOWED_ATTRIBUTES", "DEFAULT_FORBIDDEN_PROTOCOLS", "DEFAULT_FORBIDDEN_ELEMENTS", "HTMLSanitizer", "sanitizedElement", "sanitize", "sanitizedHtml", "getHTML", "outerHTML", "innerHTML", "sanitizer", "allowedAttributes", "forbiddenProtocols", "forbiddenElements", "createBodyElementForHTML", "sanitizeElements", "normalizeListElementNesting", "setConfig", "getBody", "walker", "nodesToRemove", "nextNode", "currentNode", "elementIsRemovable", "sanitizeElement", "hasAttribute", "protocol", "removeAttribute", "_ref", "indexOf", "querySelectorAll", "listElement", "previousElement", "previousElementSibling", "elementIsForbidden", "elementIsntSerializable", "doc", "implementation", "createHTMLDocument", "css", "AttachmentView", "uploadProgressDelegate", "attachmentPiece", "piece", "createContentNodes", "innerElement", "figure", "getClassName", "getHref", "tabindex", "hasContent", "setHTML", "getContent", "createCaptionElement", "isPending", "progressElement", "class", "getUploadProgress", "trixMutable", "createCursorTarget", "figcaption", "getCaption", "captionConfig", "getCaptionConfig", "getFilename", "getFormattedFilesize", "nameElement", "createTextNode", "sizeElement", "names", "getType", "extension", "getExtension", "trixAttachment", "trixContentType", "getContentType", "trixId", "trixAttributes", "trixSerialize", "htmlContainsTagName", "_config$attachments$t", "findProgressElement", "_this$findElement", "attachmentDidChangeUploadProgress", "div", "PreviewableAttachmentView", "previewDelegate", "image", "src", "refresh", "updateAttributesForImage", "getURL", "previewURL", "getPreviewURL", "serializedAttributes", "width", "getWidth", "height", "getHeight", "storeKey", "attachmentDidChangeAttributes", "PieceView", "getAttributes", "textConfig", "context", "createAttachmentNodes", "createStringNodes", "_element", "firstElementChild", "isPreviewable", "_this$textConfig", "iterable", "substring", "preserveSpaces", "styles", "pendingElement", "styleProperty", "isLast", "isFirst", "followsWhitespace", "TextView", "pieces", "getPieces", "lastIndex", "endsWithWhitespace", "previousPiece", "BlockView", "block", "createComment", "_getBlockConfig", "getLastAttribute", "textView", "shouldAddExtraNewlineElement", "isRTL", "assign", "getBlockBreakPosition", "entries", "DocumentView", "render", "sync", "elementStore", "setDocument", "shadowElement", "getBlocks", "isSynced", "elementsHaveEqualHTML", "fragment", "createDocumentFragmentForSync", "lastChild", "didSync", "findStoredElements", "createDocumentFragment", "storedElement", "replaceChild", "otherElement", "ignoreSpaces", "ki", "t", "e", "o", "s", "Ti", "r", "wi", "Li", "Di", "Oi", "Ii", "Ni", "Fi", "Pi", "Mi", "Bi", "Piece", "types", "pieceJSON", "copyWithAttributes", "getValue", "copyWithAdditionalAttributes", "copyWithoutAttribute", "attribute", "getAttributesHash", "hasSameStringValueAsPiece", "hasSameAttributesAsPiece", "isBlockBreak", "isSerializable", "getLength", "canBeConsolidatedWith", "_defineProperty", "ImagePreloadOperation", "Image", "onload", "naturalWidth", "naturalHeight", "onerror", "Attachment", "attributesForFile", "setFile", "filename", "filesize", "contentType", "attachmentJSON", "releaseFile", "didChangeAttributes", "setAttributes", "newAttributes", "_this$previewDelegate", "_this$previewDelegate2", "_this$delegate", "_this$delegate$attach", "delegate", "preloadURL", "previewablePattern", "getFilesize", "_this$getFilename$mat", "getFile", "preloadFile", "releasePreloadedFile", "uploadProgress", "setUploadProgress", "_this$uploadProgressD", "_this$uploadProgressD2", "preloadingURL", "setPreviewURL", "_this$previewDelegate3", "_this$previewDelegate4", "_this$delegate2", "_this$delegate2$attac", "attachmentDidChangePreviewURL", "preload", "fileObjectURL", "URL", "createObjectURL", "revokeObjectURL", "then", "catch", "AttachmentPiece", "ensureAttachmentExclusivelyHasAttribute", "removeProhibitedAttributes", "permittedAttributes", "_piece$attachment", "json", "toConsole", "registerType", "StringPiece", "consolidateWith", "splitAtOffset", "SplittableList", "eachObject", "insertObjectAtIndex", "insertSplittableListAtIndex", "splittableList", "insertSplittableListAtPosition", "position", "splitObjectAtPosition", "editObjectAtIndex", "replaceObjectAtIndex", "removeObjectAtIndex", "getObjectAtIndex", "getSplittableListInRange", "rightIndex", "splitObjectsAtRange", "selectSplittableList", "removeObjectsInRange", "transformObjectsInRange", "transform", "transformedObjects", "rightOuterIndex", "leftInnerIndex", "startOfRange", "endOfRange", "getObjectAtPosition", "findIndexAndOffsetAtPosition", "splitIndex", "splitOffset", "leftObject", "rightObject", "consolidate", "pendingObject", "_pendingObject$canBeC", "_pendingObject", "consolidateFromIndexToIndex", "startIndex", "endIndex", "objectsInRange", "consolidatedInRange", "currentPosition", "nextPosition", "findPositionAtIndexAndOffset", "currentIndex", "getEndPosition", "endPosition", "objectArraysAreEqual", "Text", "textJSON", "notEmpty", "pieceList", "copyWithPieceList", "copyUsingObjectMap", "objectMap", "appendText", "insertTextAtPosition", "removeTextAtRange", "replaceTextAtRange", "moveTextFromRangeToPosition", "getTextAtRange", "addAttributeAtRange", "addAttributesAtRange", "removeAttributeAtRange", "setAttributesAtRange", "getAttributesAtPosition", "_this$pieceList$getOb", "getCommonAttributes", "getCommonAttributesAtRange", "getExpandedRangeForAttributeAtOffset", "getStringAtRange", "getStringAtPosition", "startsWithString", "endsWithString", "getAttachmentPieces", "getAttachments", "getAttachmentAndPositionById", "attachmentId", "getAttachmentById", "getRangeOfAttachment", "attachmentAndPosition", "updateAttributesForAttachment", "_text$pieceList", "eachPiece", "getPieceAtPosition", "toSerializableText", "Block", "blockJSON", "applyBlockBreakToText", "copyWithText", "copyWithoutText", "copyWithoutAttributes", "mappedText", "addAttribute", "expandAttribute", "addHTMLAttribute", "removeLastValue", "removeLastAttribute", "getLastElement", "getAttributeLevel", "getAttributeAtLevel", "level", "hasAttributes", "getLastNestableAttribute", "getNestableAttributes", "getNestingLevel", "decreaseNestingLevel", "increaseNestingLevel", "lastIndexOf", "getListItemAttributes", "isListItem", "isTerminalBlock", "_getBlockConfig2", "breaksOnReturn", "_getBlockConfig3", "findLineBreakInDirectionFromPosition", "direction", "newlineText", "textForStringWithAttributes", "getTextWithoutBlockBreak", "textEndsInBlockBreak", "otherBlock", "otherAttributes", "otherAttribute", "getListAttributeNames", "unmarkExistingInnerBlockBreaksInText", "addBlockBreakToText", "modified", "innerPieces", "lastPiece", "unmarkBlockBreakPiece", "blockBreakText", "blockBreak", "Document", "documentJSON", "textAttributes", "blocks", "blockList", "getBlockAtIndex", "consolidateBlocks", "copyUsingObjectsFromDocument", "sourceDocument", "copyWithBaseBlockAttributes", "replaceBlock", "oldBlock", "newBlock", "insertDocumentAtRange", "locationFromPosition", "getBlockAtPosition", "mergeDocumentAtRange", "formattedDocument", "startPosition", "startLocation", "baseBlockAttributes", "getBaseBlockAttributes", "trailingBlockAttributes", "leadingBlockAttributes", "blockCount", "getBlockCount", "firstBlock", "firstText", "insertTextAtRange", "leftPosition", "rightPosition", "leftLocation", "rightLocation", "locationRangeFromRange", "leftOffset", "leftBlock", "rightOffset", "rightBlock", "leftText", "rightText", "affectedBlockCount", "getDocumentAtRange", "movingRightward", "eachBlockAtRange", "textRange", "eachBlock", "getTextAtIndex", "removeAttributeForAttachment", "setHTMLAttributeAtPosition", "updatedBlock", "insertBlockBreakAtRange", "applyBlockAttributeAtRange", "expanded", "expandRangeToLineBreaksAndSplitBlocks", "blockConfig", "removeLastListAttributeAtRange", "exceptAttributeName", "converted", "convertLineBreaksToBlockBreaksInRange", "removeBlockAttributesAtRange", "removeLastTerminalAttributeAtRange", "consolidateBlocksAtRange", "lastAttributeName", "endLocation", "startBlock", "positionFromLocation", "endBlock", "_this$getBlockAtIndex", "getTextAtPosition", "getCharacterAtPosition", "getEditCount", "editCount", "getCommonAttributesAtPosition", "attributesForBlock", "commonAttributes", "attributesLeft", "inheritableAttributes", "getRangeOfCommonAttributeAtPosition", "startOffset", "endOffset", "blockIndex", "lastAttributeIndex", "min", "attachmentPieces", "getLocationRangeOfAttachment", "getAttachmentPieceForAttachment", "findRangesForBlockAttribute", "ranges", "findRangesForTextAttribute", "withValue", "location", "locationRangeFromPosition", "rangeFromLocationRange", "locationRange", "getTexts", "toSerializableDocument", "pieceForString", "parseTrixDataAttribute", "HTMLParser", "referenceElement", "blockElements", "processedElements", "getDocument", "createHiddenContainer", "containerElement", "nodeFilter", "processNode", "translateBlockElementMarginsToNewlines", "removeHiddenContainer", "display", "nextSibling", "isInsignificantTextNode", "appendBlockForTextNode", "processTextNode", "appendBlockForElement", "processElement", "currentBlockElement", "isBlockElement", "appendStringWithAttributes", "_this$currentBlock", "getBlockAttributes", "getBlockHTMLAttributes", "currentBlock", "appendBlockForAttributesWithElement", "elementIsBlockElement", "currentBlockContainsElement", "parentBlockElement", "findParentBlockElement", "appendEmptyBlock", "parentElement", "_node$previousSibling", "elementCanDisplayPreformattedText", "stringEndsWithWhitespace", "leftTrimBreakableWhitespace", "getTextAttributes", "appendAttachmentWithAttributes", "isExtraBR", "dimensions", "needsTableSeparator", "appendPiece", "appendStringToTextAtIndex", "prependStringToTextAtIndex", "unshift", "configAttr", "attributeInheritedFromBlock", "blockElement", "findBlockElementAncestors", "attrConfig", "_attrConfig$test", "reverse", "settings", "ancestors", "stringIsAllBreakableWhitespace", "nodeEndsWithNonWhitespace", "_element$previousSibl", "defaultMargin", "getMarginOfDefaultBlockElement", "margin", "getMarginOfBlockElementAtIndex", "top", "bottom", "getBlockElementMargin", "whiteSpace", "marginTop", "marginBottom", "FILTER_REJECT", "FILTER_ACCEPT", "unserializableAttributeNames", "serializedAttributesAttribute", "serializedAttributesSelector", "blockCommentPattern", "serializers", "serializable", "HTMLElement", "el", "Cn", "ManagedAttachment", "attachmentManager", "requestRemovalOfAttachment", "AttachmentManager", "managedAttachments", "manageAttachment", "attachmentIsManaged", "attachmentManagerDidRequestRemovalOfAttachment", "unmanageAttachment", "managedAttachment", "LineBreakInsertion", "composition", "selectedRange", "getSelectedRange", "previousCharacter", "nextCharacter", "shouldInsertBlockBreak", "shouldBreakFormattedBlock", "shouldDecreaseListLevel", "shouldPrependListItem", "shouldRemoveLastBlockAttribute", "Composition", "currentAttributes", "revision", "_this$delegate$compos", "refreshAttachments", "compositionDidChangeDocument", "getSnapshot", "loadSnapshot", "_this$delegate2$compo", "_this$delegate3", "_this$delegate3$compo", "compositionWillLoadSnapshot", "setSelection", "compositionDidLoadSnapshot", "insertText", "updatePosition", "notifyDelegateOfInsertionAtRange", "insertBlock", "insertDocument", "insertString", "getCurrentTextAttributes", "insertBlockBreak", "insertLineBreak", "insertion", "decreaseListLevel", "removeLastBlockAttribute", "breakFormattedBlock", "insertHTML", "replaceHTML", "getLocationRange", "insertFile", "insertFiles", "_this$delegate4", "compositionShouldAcceptFile", "attachmentForFile", "insertAttachments", "insertAttachment", "attachmentText", "textForAttachmentWithAttributes", "shouldManageDeletingInDirection", "shouldManageMovingCursorInDirection", "deleteInDirection", "deletingIntoPreviousBlock", "selectionSpansBlocks", "selectionIsCollapsed", "canDecreaseBlockAttributeLevel", "getBlock", "decreaseBlockAttributeLevel", "getExpandedRangeInDirection", "getAttachmentAtRange", "editAttachment", "moveTextFromRange", "removeAttachment", "stopEditingAttachment", "removeCurrentAttribute", "insertPlaceholder", "placeholderPosition", "getPosition", "selectPlaceholder", "setSelectedRange", "PLACEHOLDER", "forgetPlaceholder", "hasCurrentAttribute", "toggleCurrentAttribute", "setCurrentAttribute", "canSetCurrentAttribute", "canSetCurrentBlockAttribute", "canSetCurrentTextAttribute", "getSelectedDocument", "setBlockAttribute", "setTextAttribute", "notifyDelegateOfCurrentAttributesChange", "setHTMLAtributeAtPosition", "allowedHTMLAttributes", "newDocument", "removeBlockAttribute", "updateCurrentAttributes", "removeTextAttribute", "canDecreaseNestingLevel", "_this$getBlock", "canIncreaseNestingLevel", "previousBlock", "getPreviousBlock", "_this$getBlock2", "_this$getBlock3", "attributeLevel", "ignoreLock", "getCurrentAttributes", "freezeSelection", "thawSelection", "hasFrozenSelection", "_this$delegate5", "compositionDidRequestChangingSelectionToLocationRange", "getSelectionManager", "setLocationRange", "targetLocationRange", "withTargetLocationRange", "withTargetRange", "withTargetDOMRange", "createLocationRangeFromDOMRange", "translateUTF16PositionFromOffset", "editingAttachment", "moveCursorInDirection", "canEditAttachment", "expandSelectionInDirection", "expandSelectionForEditing", "expandSelectionAroundCommonAttribute", "selectionContainsAttachments", "_this$getSelectedAtta", "getSelectedAttachments", "selectionIsInCursorTarget", "positionIsCursorTarget", "locationIsCursorTarget", "positionIsBlockBreak", "_this$document$getPie", "_this$getSelectedDocu", "added", "removed", "oldArray", "newArray", "existingValues", "Set", "currentValues", "_this$delegate6", "_this$delegate6$compo", "compositionDidRemoveAttachment", "_this$delegate7", "_this$delegate7$compo", "compositionDidAddAttachment", "_this$delegate8", "_this$delegate8$compo", "compositionDidEditAttachment", "_this$delegate9", "_this$delegate9$compo", "compositionDidChangeAttachmentPreviewURL", "_this$delegate10", "_this$delegate10$comp", "compositionDidStartEditingAttachment", "_this$delegate11", "_this$delegate11$comp", "compositionDidStopEditingAttachment", "_this$delegate12", "_this$delegate12$comp", "compositionDidChangeCurrentAttributes", "_this$delegate13", "_this$delegate13$comp", "compositionDidPerformInsertionAtRange", "utf16string", "utf16position", "UndoManager", "undoEntries", "redoEntries", "recordUndoEntry", "description", "consolidatable", "previousEntry", "entryHasDescriptionAndContext", "undoEntry", "createEntry", "pop", "redoEntry", "snapshot", "canUndo", "canRedo", "entry", "BLOCK_ATTRIBUTE_NAME", "Filter", "applyBlockAttribute", "findRangesOfBlocks", "findRangesOfPieces", "moveSelectedRangeForward", "attachmentGalleryFilter", "DEFAULT_FILTERS", "Editor", "undoManager", "filters", "loadDocument", "loadHTML", "loadJSON", "getClientRectAtPosition", "getClientRectAtLocationRange", "activateAttribute", "attributeIsActive", "canActivateAttribute", "deactivateAttribute", "LocationMapper", "findLocationFromContainerAndOffset", "container", "foundBlock", "attachmentElement", "findAttachmentElementParentForNode", "rejectAttachmentContents", "nodeLength", "findContainerAndOffsetFromLocation", "nodeOffset", "findNodeAndOffsetFromLocation", "getSignificantNodesForIndex", "acceptSignificantNodes", "recordingNodes", "rejectEmptyTextNodes", "PointMapper", "createDOMRangeFromPoint", "x", "y", "caretPositionFromPoint", "offsetNode", "createRange", "setStart", "caretRangeFromPoint", "createTextRange", "originalDOMRange", "moveToPoint", "select", "getClientRectsForDOMRange", "getClientRects", "SelectionManager", "didMouseDown", "locationMapper", "pointMapper", "lockCount", "currentLocationRange", "lockedLocationRange", "createDOMRangeFromLocationRange", "updateCurrentLocationRange", "setLocationRangeFromPointRange", "pointRange", "getLocationAtPoint", "lock", "unlock", "clearSelection", "_getDOMRange", "collapsed", "selectionIsExpanded", "domRangeWithinElement", "pauseTemporarily", "resumeHandlers", "paused", "resume", "clearTimeout", "resumeTimeout", "_this$delegate$locati", "locationRangeDidChange", "rangeStart", "rangeEnd", "setEnd", "point", "_this$createLocationR", "Un", "Wi", "Sn", "Ui", "Gi", "kn", "on", "On", "cn", "ui", "Rn", "Fn", "En", "_i", "jn", "Wn", "zi", "Vi", "Ki", "Tn", "Vn", "ie", "gi", "xi", "Ci", "bi", "fi", "vi", "keyNames", "undoable", "commands", "do", "undos", "AttachmentEditorController", "title", "trixAction", "didClickToolbar", "didClickActionButton", "textarea", "placeholder", "textareaClone", "tabIndex", "autoresize", "scrollHeight", "didInputCaption", "didKeyDownCaption", "didChangeCaption", "didBlurCaption", "editingFigcaption", "editCaption", "focus", "install", "makeElementMutable", "addToolbar", "installCaptionEditor", "uninstall", "savePendingCaption", "didUninstallAttachmentEditor", "pendingCaption", "_this$delegate3$attac", "attachmentEditorDidRequestUpdatingAttributesForAttachment", "attachmentEditorDidRequestRemovingAttributeForAttachment", "stopPropagation", "attachmentEditorDidRequestRemovalOfAttachment", "_this$delegate5$attac", "keyCode", "attachmentEditorDidRequestDeselectingAttachment", "CompositionController", "didFocus", "didBlur", "didClickAttachment", "documentView", "_this$blurPromise", "focused", "compositionControllerDidFocus", "blurPromise", "compositionControllerDidBlur", "findAttachmentForElement", "compositionControllerDidSelectAttachment", "getSerializableElement", "isEditingAttachment", "_this$delegate4$compo", "_this$delegate5$compo", "canSyncDocumentView", "compositionControllerWillSyncDocumentView", "compositionControllerDidSyncDocumentView", "compositionControllerDidRender", "rerenderViewForObject", "refreshViewCache", "attachmentEditor", "installAttachmentEditorForAttachment", "_this$attachmentEdito", "uninstallAttachmentEditor", "_this$attachmentEdito2", "compositionControllerWillUpdateAttachment", "compositionControllerDidRequestRemovalOfAttachment", "compositionControllerDidRequestDeselectingAttachment", "Controller", "mutableAttributeName", "mutableSelector", "childList", "characterData", "characterDataOldValue", "subtree", "MutationObserver", "didMutate", "observer", "observe", "disconnect", "mutations", "_this$delegate$elemen", "findSignificantMutations", "elementDidMutate", "getMutationSummary", "mutation", "mutationIsSignificant", "nodeIsMutable", "nodesModifiedByMutation", "nodeIsSignificant", "addedNodes", "removedNodes", "getTextMutationSummary", "additions", "deletions", "getTextChangesFromCharacterData", "textChanges", "getTextChangesFromChildList", "addition", "summary", "textAdded", "deleted", "textDeleted", "getMutationsByType", "textRemoved", "getTextForNodes", "characterMutations", "startMutation", "endMutation", "summarized", "oldString", "newString", "oldValue", "FileVerificationOperation", "reader", "FileReader", "abort", "readAsArrayBuffer", "FlakyAndroidKeyboardDetector", "shouldIgnore", "previousEvent", "checkSamsungKeyboardBuggyModeStart", "checkSamsungKeyboardBuggyModeEnd", "buggyMode", "insertingLongTextAfterUnidentifiedChar", "differsInWhitespace", "innerText", "inputType", "_this$event$data", "isBeforeInputInsertText", "previousEventWasUnidentifiedKeydown", "_this$previousEvent", "_this$previousEvent2", "text1", "text2", "normalize", "whiteSpaceNormalizerRegexp", "InputController", "mutationObserver", "flakyKeyboardDetector", "events", "handlerFor", "mutationSummary", "editorWillSyncDocumentView", "editorDidSyncDocumentView", "requestRender", "_this$delegate$inputC", "inputControllerDidRequestRender", "requestReparse", "_this$delegate2$input", "inputControllerDidRequestReparse", "operations", "all", "handleInput", "_this$responder", "inputControllerWillAttachFiles", "responder", "defaultPrevented", "inputControllerWillHandleInput", "inputControllerDidHandleInput", "createLinkHTML", "ar", "pastedFileCount", "Level0InputController", "resetInputSummary", "setInputSummary", "inputSummary", "isComposing", "inputControllerDidAllowUnhandledInput", "mutationIsExpected", "preferDocument", "mutationAdditionMatchesSummary", "mutationDeletionMatchesSummary", "didDelete", "unexpectedNewlineAddition", "unexpectedNewlineDeletion", "_this$compositionInpu", "textChanged", "composedEmptyString", "compositionInput", "getEndData", "getCompositionInput", "CompositionInput", "isEnded", "_this$responder2", "serializeSelectionToDataTransfer", "_this$responder3", "setData", "canAcceptDataTransfer", "Files", "getPastedHTMLUsingHiddenElement", "pageXOffset", "pageYOffset", "opacity", "requestAnimationFrame", "keydown", "didInput", "keyName", "_context2", "modifier", "_context", "character", "inputControllerDidReceiveKeyboardCommand", "keypress", "altKey", "stringFromKeyEvent", "_this$responder9", "inputControllerWillPerformTyping", "textInput", "toUpperCase", "_this$responder10", "dragenter", "dragstart", "_this$delegate5$input", "draggedRange", "inputControllerDidStartDrag", "dragover", "draggingPoint", "clientX", "clientY", "_this$delegate6$input", "inputControllerDidReceiveDragOverPoint", "dragend", "_this$delegate7$input", "inputControllerDidCancelDrag", "drop", "_event$dataTransfer", "_this$responder11", "_this$responder12", "inputControllerWillMoveText", "_this$responder13", "fromJSONString", "cut", "_this$responder14", "clipboardData", "inputControllerWillCutText", "_this$responder15", "paste", "clipboard", "testClipboardData", "pasteEventIsCrippledSafariHTMLPaste", "_this$responder16", "inputControllerWillPaste", "inputControllerDidPaste", "_this$responder17", "_this$delegate14", "_this$responder18", "_this$delegate15", "_this$delegate16", "_this$responder19", "_this$delegate17", "_clipboard$items", "_clipboard$items$getA", "items", "getAsFile", "_this$delegate18", "_this$responder20", "_this$delegate19", "extensionForFile", "compositionstart", "compositionupdate", "compositionend", "beforeinput", "backspace", "_this$delegate20", "delete", "_this$delegate21", "return", "_this$delegate22", "_this$responder21", "tab", "_this$responder22", "_this$responder23", "_this$responder24", "_this$responder25", "control", "d", "_this$delegate23", "_this$delegate24", "_this$delegate25", "_this$responder26", "shift", "_this$delegate26", "_this$responder27", "_this$responder28", "_this$responder29", "alt", "_this$delegate27", "meta", "_this$delegate28", "_file$type", "which", "charCode", "hasPasteboardFlavor", "hasReadableDynamicData", "isExternalHTMLPaste", "isExternalRichTextPaste", "inputController", "isSignificant", "_this$responder5", "_this$responder4", "canApplyToDocument", "_this$responder6", "_this$responder7", "_this$responder8", "_this$data$start", "_this$data$end", "Level2InputController", "scheduledRender", "composing", "reparse", "scheduleRender", "_this$afterRender", "cancelAnimationFrame", "afterRender", "toggleAttributeIfSupported", "inputControllerWillPerformFormatting", "activateAttributeIfSupported", "getTargetDOMRange", "minLength", "_this$event$getTarget", "_this$event", "targetRanges", "getTargetRanges", "staticRangeToRange", "withEvent", "command", "keyboardCommandFromKeyEvent", "shiftKey", "_event$clipboardData", "pasteEventHasFilesOnly", "pasteEventHasPlainTextOnly", "inputTypes", "immmediateRender", "inputEvent", "dragging", "pointFromEvent", "dragEventHasFiles", "ArrowLeft", "ArrowRight", "Backspace", "Tab", "deleteByComposition", "deleteByCut", "deleteByDrag", "deleteByDragRange", "deleteCompositionText", "deleteContent", "deleteContentBackward", "deleteContentForward", "deleteEntireSoftLine", "deleteHardLineBackward", "deleteHardLineForward", "deleteSoftLineBackward", "deleteSoftLineForward", "deleteWordBackward", "deleteWordForward", "formatBackColor", "formatBold", "formatFontColor", "formatFontName", "formatIndent", "formatItalic", "formatJustifyCenter", "formatJustifyFull", "formatJustifyLeft", "formatJustifyRight", "formatOutdent", "formatRemove", "_this$responder30", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatStrikeThrough", "formatSubscript", "formatSuperscript", "formatUnderline", "historyRedo", "inputControllerWillPerformRedo", "historyUndo", "inputControllerWillPerformUndo", "insertCompositionText", "insertFromComposition", "insertFromDrop", "_this$responder31", "insertFromPaste", "_this$responder32", "_this$responder33", "processableFilePaste", "_this$responder34", "_this$responder35", "insertFromYank", "insertLink", "insertOrderedList", "insertParagraph", "_this$responder36", "insertReplacementText", "replacement", "_this$event$dataTrans", "insertTranspose", "insertUnorderedList", "staticRange", "_event$dataTransfer$f", "attributeButtonSelector", "actionButtonSelector", "toolbarButtonSelector", "dialogSelector", "activeDialogSelector", "dialogButtonSelector", "dialogInputSelector", "getInputForDialog", "getAttributeName", "getActionName", "ToolbarController", "didClickAttributeButton", "didClickDialogButton", "didKeyDownDialogInput", "actions", "resetDialogInputs", "toolbarDidClickButton", "actionName", "getDialog", "toggleDialog", "toolbarDidInvokeAction", "toolbarDidToggleAttribute", "refreshAttributeButtons", "dialogElement", "dialog", "hideDialog", "updateActions", "refreshActionButtons", "eachActionButton", "disabled", "updateAttributes", "eachAttributeButton", "dialogIsVisible", "applyKeyboardCommand", "keyString", "button", "buttonKeys", "dialogName", "showDialog", "toolbarWillShowDialog", "disabledInput", "toolbarDidShowDialog", "willValidate", "setCustomValidity", "checkValidity", "isSafeAttribute", "toolbarDidUpdateAttribute", "isValidAttribute", "toolbarDidRemoveAttribute", "toolbarDidHideDialog", "EditorController", "editorElement", "compositionController", "toolbarController", "toolbarElement", "editor", "notifyEditorElement", "handlingInput", "updateCurrentActions", "pasting", "pastedRange", "attachmentLocationRange", "loadingSnapshot", "isFocused", "requestedLocationRange", "compositionRevisionWhenLocationRangeRequested", "renderedCompositionRevision", "runEditorFilters", "isFocusedInvisibly", "requestedRender", "recordTypingUndoEntry", "recordFormattingUndoEntry", "locationRangeBeforeDrag", "invokingElement", "invokeAction", "selectionFrozen", "canInvokeAction", "actionIsExternal", "_this$actions$actionN", "_this$actions$actionN2", "getCurrentActions", "currentActions", "snapshotsAreEqual", "updateInputElement", "serializer", "setFormValue", "message", "documentChangedSinceLastRender", "notify", "getUndoContext", "getLocationContext", "getTimeContext", "Date", "getTime", "_this$editorElement$o", "ownerDocument", "Br", "Kn", "Gn", "Yn", "Mr", "sr", "hr", "br", "Pr", "_r", "Qn", "Ot", "jr", "er", "ji", "TrixToolbarElement", "connectedCallback", "makeEditable", "configureContentEditable", "disableObjectResizing", "setDefaultParagraphSeparator", "_document$queryComman", "_document", "queryCommandSupported", "execCommand", "_document$queryComman2", "_document2", "cursorTargetStyles", "_internals", "WeakMap", "_validate", "WeakSet", "ElementInternalsDelegate", "_classPrivateFieldInitSpec", "writable", "_classPrivateFieldSet", "attachInternals", "_classPrivateMethodGet", "_validate2", "disconnectedCallback", "labels", "_classPrivateFieldGet", "_this$element$inputEl", "inputElement", "toggleAttribute", "required", "validity", "validationMessage", "reportValidity", "customValidationMessage", "valueMissing", "customError", "setValidity", "_focusHandler", "_resetBubbled", "_clickBubbled", "LegacyDelegate", "contains", "label", "texts", "_classPrivateFieldGet2", "console", "warn", "_delegate", "TrixEditorElement", "formAssociated", "localName", "_this$ownerDocument", "toolbarId", "_this$inputElement", "_this$ownerDocument2", "inputId", "nextElementSibling", "_this$editorControlle", "editorController", "_this$inputElement2", "_this$inputElement3", "defaultValue", "_this$editor", "_this$editorControlle2", "formDisabledCallback", "formResetCallback", "Trix", "VERSION", "version", "core", "models", "controllers", "observers", "customElements", "define", "converter", "showdown", "turndownService", "turndown_browser_es_default", "no", "markdown_default", "targetNode", "editor", "inputTarget", "event", "markdown", "S3Uploader", "entries", "onViewError", "entry", "xhr", "event", "percent", "url", "s3_default", "LocaleInLocalStorage", "locale", "local_locale_storage_default", "import_flowbite_phoenix", "Hooks", "sortable_default", "markdown_default", "local_locale_storage_default", "csrfToken", "liveSocket", "LiveSocket", "Socket", "s3_default", "topbar", "_info"]
}
